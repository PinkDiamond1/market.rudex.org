(this.webpackJsonp=this.webpackJsonp||[]).push([[21],{1974:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(343),r=n(44),s=n(49),l=n(9),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){p(this,t);var e=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getDynamicObject=e.getDynamicObject.bind(e),e}return d(t,e),u(t,[{key:"getDynamicObject",value:function(e){return this.props.dos.find((function(t){return t&&t.get("id")===e}))}},{key:"render",value:function(){return o.a.cloneElement(o.a.Children.only(this.props.children),c({},this.props,{getDynamicObject:this.getDynamicObject}))}}]),t}(o.a.Component);h.propTypes={dos:r.a.ChainObjectsList},h.defaultProps={dos:Object(l.List)()},h=Object(s.a)(h);var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.propNames=t.propNames||[t.asList?"assets":"asset"];var n=t.propNames.reduce((function(e,n){return e[n]=t.asList?r.a.ChainAssetsList:r.a.ChainAsset.isRequired,e}),{}),a=Object.keys(n).reduce((function(e,n){var a=t.defaultProps&&t.defaultProps[n];return e[n]=t.asList?Object(l.List)(a||[]):a||"1.3.0",e}),{});t.defaultProps&&t.defaultProps.tempComponent&&(a.tempComponent=t.defaultProps.tempComponent);var f=function(e){function n(){return p(this,n),m(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return d(n,e),u(n,[{key:"render",value:function(){var e=this,n={},a={},i=Object(l.List)();Object.keys(this.props).forEach((function(o){e.props[o]&&-1!==t.propNames.indexOf(o)?(t.withDynamic&&(t.asList?e.props[o].forEach((function(e){e&&(i=i.push(e.get("dynamic_asset_data_id")))})):i=i.push(e.props[o].get("dynamic_asset_data_id"))),n[o]=t.asList?e.props[o].filter((function(e){return!!e})):e.props[o]):a[o]=e.props[o]}));var r=o.a.cloneElement(o.a.Children.only(this.props.children),c({},a,n));return t.withDynamic?o.a.createElement(h,{dos:i},r):r}}]),n}(o.a.Component);f.propTypes=n,f.defaultProps=a,f=Object(s.a)(f);var g=function(t){function n(){return p(this,n),m(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return d(n,t),u(n,[{key:"render",value:function(){return o.a.createElement(f,this.props,o.a.createElement(e,{ref:"bound_component"}))}}]),n}(o.a.Component);return g.displayName="Wrapper("+Object(i.a)(e)+")",g},g=n(1),b=n.n(g),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=function(e){function t(e){E(this,t);var n=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={imgError:!1},n}return T(t,e),y(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.asset!==e.asset||this.props.maxWidth!==e.maxWidth||this.props.whiteList!==e.whiteList||this.state.imgError!==t.imgError}},{key:"_onError",value:function(e){this.state.imgError||(this.props.replaceNoneToBts?this.refs[e.toLowerCase()].src="asset-symbols/unknown.png":this.refs[e.toLowerCase()].remove(),this.setState({imgError:!0}))}},{key:"render",value:function(){var e=function(e){return null===e?null:e.get("symbol")}(this.props.asset);return o.a.createElement("img",{ref:e.toLowerCase(),className:"column-hide-small",onError:this._onError.bind(this,e),style:{maxWidth:this.props.maxWidth,marginRight:5,marginTop:"-3px"},src:"asset-symbols/"+e.toLowerCase()+".png"})}}]),t}(o.a.Component);N.propTypes={replaceNoneToBts:b.a.bool,maxWidth:b.a.number},N.defaultProps={replaceNoneToBts:!0,maxWidth:20},N=f(N);var w=function(e){function t(){return E(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,e),y(t,[{key:"render",value:function(){return o.a.createElement(N,v({},this.props,{asset:this.props.name}))}}]),t}(o.a.Component);t.a=w},1975:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return y}));var a=n(0),o=n.n(a),i=n(1),r=n.n(i),s=n(3),l=n.n(s),c=n(29),u=n(22),p=n(21),m=n(5),d=n.n(m),h=n(83),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){return g(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),f(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.index,a=e.changeTab,i=e.title,r=e.className,s=e.updatedTab,c=e.disabled,u=e.subText,p=l()({"is-active":t},r);return"string"==typeof i&&i.indexOf(".")>0&&(i=d.a.translate(i)),this.props.collapsed?("string"==typeof u&&(u=u.trim()),"span"===i.type&&(i=i.props.children[2]),o.a.createElement("option",{value:n,"data-is-link-to":this.props.isLinkTo},i,s?"*":"",u&&" (",u&&u,u&&")")):o.a.createElement("li",{className:p,onClick:c?null:a.bind(this,n,this.props.isLinkTo)},o.a.createElement("a",null,o.a.createElement("span",{className:"tab-title"},i,s?"*":""),u&&o.a.createElement("div",{className:"tab-subtext"},u)))}}]),t}(o.a.Component);y.propTypes={changeTab:r.a.func,isActive:r.a.bool.isRequired,index:r.a.number.isRequired,className:r.a.string,isLinkTo:r.a.string,subText:r.a.oneOfType([r.a.object,r.a.string])},y.defaultProps={isActive:!1,index:0,className:"",isLinkTo:"",subText:null};var E=function(e){function t(e){g(this,t);var n=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeTab:e.setting?e.viewSettings.get(e.setting,e.defaultActiveTab):e.defaultActiveTab,width:window.innerWidth},n._setDimensions=n._setDimensions.bind(n),n}return v(t,e),f(t,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.viewSettings.get(e.setting);t!==this.props.viewSettings.get(this.props.setting)&&this.setState({activeTab:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var e=window.innerWidth;e!==this.state.width&&this.setState({width:e})}},{key:"_changeTab",value:function(e,t){e!==this.state.activeTab&&(""!==t&&this.props.history.push(t),this.props.setting&&u.a.changeViewSetting(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.setting,e)),this.setState({activeTab:e}),this.props.onChangeTab&&this.props.onChangeTab(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.contentClass,i=t.tabsClass,r=t.style,s=t.segmented,c=this.state.width<900&&o.a.Children.count(n)>2,u=null,p=o.a.Children.map(n,(function(t,n){if(!t)return null;if(c&&t.props.disabled)return null;var a=n===e.state.activeTab;return a&&(u=t.props.children),o.a.cloneElement(t,{collapsed:c,isActive:a,changeTab:e._changeTab.bind(e),index:n})})).filter((function(e){return null!==e}));return u||(u=p[0].props.children),o.a.createElement("div",{className:l()(this.props.actionButtons?"with-buttons":"",this.props.className)},o.a.createElement("div",{className:"service-selector"},o.a.createElement("ul",{style:r,className:l()("button-group no-margin",i,{segmented:s})},c?o.a.createElement("li",{style:{paddingLeft:10,paddingRight:10,minWidth:"15rem"}},o.a.createElement("select",{value:this.state.activeTab,style:{marginTop:10,marginBottom:10},className:"bts-select",onChange:function(t){var n=parseInt(t.target.value,10);e._changeTab(n,t.target[n].attributes["data-is-link-to"].value)}},p)):p,this.props.actionButtons?o.a.createElement("li",{className:"tabs-action-buttons"},this.props.actionButtons):null)),o.a.createElement("div",{className:l()("tab-content",a)},u))}}]),t}(o.a.Component);E.propTypes={setting:r.a.string,defaultActiveTab:r.a.number,segmented:r.a.bool},E.defaultProps={active:0,defaultActiveTab:0,segmented:!0,contentClass:"",style:{}},E=Object(c.a)(E,{listenTo:function(){return[p.a]},getProps:function(){return{viewSettings:p.a.getState().viewSettings}}}),E=Object(h.g)(E)},2238:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=(n(1969),n(13)),r=n(6),s=(n(1970),function(e){var t=Math.round(e.votes/e.goal*100);return o.a.createElement("div",{className:"root"},o.a.createElement("svg",{viewBox:"0 0 32 32",className:"chart"},o.a.createElement("circle",{className:"donut-hole",r:"16",cx:"16",cy:"16",fill:"none"}),o.a.createElement("circle",{className:"donut-ring",r:"16",cx:"16",cy:"16",fill:"none",stroke:"lightgray",strokeWidth:"8"}),o.a.createElement("circle",{className:"donut-segment",r:"16",cx:"16",cy:"16",fill:"none",stroke:"green",strokeWidth:"8",style:{strokeDasharray:t+" 100"},strokeDashoffset:"0"})),o.a.createElement("div",{className:"inside"},o.a.createElement("div",{className:"percent"},t+"%")))}),l=n(602),c=n(614),u=n(2),p=n.n(u),m=n(23),d=n(29),h=n(593),f=n(14),g=n(379),b=n(43),v=n(44),y=n(49),E=n(5),_=n.n(E),T=n(35),N=n(99),w=n(3),k=n.n(w),O=n(1),A=n.n(O),x=n(4),C=(n(282),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}());var S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={accountIndex:[],locked:null},n.timer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),C(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.account,a=t.accountName;a&&this._addThisToIndex(a),this.props.myActiveAccounts.map((function(t){e._addThisToIndex(t)})),this.props.contacts.map((function(t){e._addThisToIndex(t)})),this._fetchAccounts(),this.props.onAccountChanged&&n&&this.props.onAccountChanged(n),!this.props.typeahead&&a&&this.onInputChanged(a)}},{key:"componentDidUpdate",value:function(e){this.props.focus&&this.props.editable&&!this.props.disabled&&this.refs.user_input.focus(),e.account&&e.account!==this.props.account&&this.props.onAccountChanged&&this.props.onAccountChanged(this.props.account)}},{key:"_addToIndex",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n?(this._addThisToIndex(e),this._fetchAccounts()):(clearTimeout(this.timer),this.timer=setTimeout((function(){t._addToIndex(e,!0)}),500))}},{key:"_addThisToIndex",value:function(e){var t=this.state.accountIndex;if(e){var n=t.find((function(t){return t.name===e}));e&&!n&&t.push({name:e,data:null,attempts:0})}}},{key:"_getIndex",value:function(e,t){return t.findIndex((function(t){return t.name===e}))}},{key:"_getSearchArray",value:function(){return this.state.accountIndex.filter((function(e){return!e.data&&e.attempts<5?e.name:null})).map((function(e){return e.name}))}},{key:"_fetchAccounts",value:function(){var e=this,t=this.state.accountIndex,n=this._getSearchArray();n.length>0&&Object(r.FetchChainObjects)(r.ChainStore.getAccount,n,3e3,{}).then((function(a){a.forEach((function(a){if(a){var o=e._getIndex(a.get("name"),t),i=e._populateAccountIndex(a);i&&(t[o]=i,n.splice(a.get("name")))}})),n.forEach((function(n){var a=e._getIndex(n,t);t[a].attempts++})),e.setState({accountIndex:t}),e.state.accountIndex.find((function(e){return!e.data&&e.attempts<5}))&&setTimeout((function(){e._fetchAccounts()}),500)}))}},{key:"_populateAccountIndex",value:function(e){var t=this.props,n=t.myActiveAccounts,a=t.contacts;if(!e)return null;var o=e.get("name"),i=r.ChainStore.getAccountMemberStatus(e),s=this.getInputType(o),l=N.a.isKnownScammer(o)?_.a.translate("account.member.suspected_scammer"):_.a.translate("account.member."+i),c="name"===s?"#"+e.get("id").substring(4):"id"===s?e.get("name"):"pubkey"==s&&this.props.allowPubKey?"Public Key":null;return{name:o,attempts:0,data:{id:e.get("id"),name:o,type:s,status:i,isOwnAccount:n.has(o),isContact:a.has(o),isKnownScammer:N.a.isKnownScammer(o),statusLabel:l,rightLabel:c,className:N.a.isKnownScammer(o)||!e?"negative":null}}}},{key:"getAccount",value:function(){return this.props.account}},{key:"getError",value:function(){var e=this.props,t=e.account,n=e.accountName,a=e.error,o=e.typeahead,i=n?this.getInputType(n):null;return o||!t&&n&&"pubkey"!==i&&(a=_.a.translate("account.errors.unknown")),a||!t||i||(a=_.a.translate("account.errors.invalid")),a}},{key:"getInputType",value:function(e){return e?"#"===e[0]&&f.a.is_object_id("1.2."+e.substring(1))?"id":r.ChainValidation.is_account_name(e,!0)?"name":this.props.allowPubKey&&r.PublicKey.fromPublicKeyString(e)?"pubkey":null:null}},{key:"getVerifiedAccountName",value:function(e){var t=this.props.allowUppercase,n=null;n="string"==typeof e?e:e&&e.target?e.target.value.trim():"",t||(n=n.toLowerCase());var a=n.replace("#","").match(/(?:\/account\/)(.*)/);return a&&(n=a[1]),n}},{key:"_notifyOnChange",value:function(e,t){var n=this,a=this.props;"input"==t&&this.props.typeahead&&this.props.requireActiveSelect&&(a.onAccountChanged&&a.onAccountChanged(null),a.onChange&&a.onChange(null));var o,i,s,l=this.getVerifiedAccountName(e);a.onChange&&(l||""===l)&&a.onChange(l),a.onAccountChanged&&Object(r.FetchChain)("getAccount",l,void 0,(o={},i=l,s=!1,i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o)).then((function(e){e&&(n.props.requireActiveSelect&&"select"==t||!n.props.requireActiveSelect)&&a.onAccountChanged(e)})).catch((function(e){console.log(e)}))}},{key:"onSelect",value:function(e){this._notifyOnChange(e,"select")}},{key:"onInputChanged",value:function(e){this._addToIndex(this.getVerifiedAccountName(e)),this._notifyOnChange(e,"input")}},{key:"onKeyDown",value:function(e){13!==e.keyCode&&9!==e.keyCode||this.onAction(e)}},{key:"_onAddContact",value:function(){b.a.addAccountContact(this.props.accountName)}},{key:"_onRemoveContact",value:function(){b.a.removeAccountContact(this.props.accountName)}},{key:"onAction",value:function(e){var t=this.props,n=t.onAction,a=t.disableActionButton,o=t.account,i=t.accountName;e.preventDefault(),this.getError()||!n||a||(o?n(o):"pubkey"===this.getInputType(i)&&n(i))}},{key:"render",value:function(){var e,t,n=this,a=this.state.accountIndex,i=this.props,r=i.account,s=i.accountName,l=i.disableActionButton,c=this.state.accountIndex.find((function(e){return!e.data&&e.attempts<5})),u=null!==this.state.locked?this.state.locked:this.props.locked,m=this.getError(),d=void 0,h=void 0,f=void 0,b=void 0;if(f=!u&&(null!=this.props.editable?this.props.editable:void 0),t=!!u||(null!=this.props.disabled?this.props.disabled:void 0),r){var v=this._getIndex(r.get("name"),a);h=a&&a[v]?a[v].data:null}if(e=!(r||h&&"pubkey"===h.type)||m||l,h&&h.isOwnAccount?b=o.a.createElement(x.Tooltip,{placement:"top",title:_.a.translate("tooltip.own_account")},o.a.createElement("span",{className:"tooltip green"},o.a.createElement(x.Icon,{type:"user"}))):h&&h.isKnownScammer?b=o.a.createElement(x.Tooltip,{placement:"top",title:_.a.translate("tooltip.scam_account")},o.a.createElement("span",{className:"tooltip red"},o.a.createElement(x.Icon,{type:"warning",theme:"filled"}))):h&&h.isContact?b=o.a.createElement(x.Tooltip,{placement:"top",title:_.a.translate("tooltip.follow_user"),onClick:this._onRemoveContact.bind(this)},o.a.createElement("span",{className:"tooltip green"},o.a.createElement(x.Icon,{type:"star",theme:"filled"}))):h&&(b=o.a.createElement(x.Tooltip,{placement:"top",title:_.a.translate("tooltip.follow_user_add"),onClick:this._onAddContact.bind(this)},o.a.createElement("span",{className:"tooltip"},o.a.createElement(x.Icon,{type:"star"})))),this.props.typeahead){var y=a.filter((function(e){return e.data?-1!==n.props.excludeAccounts.indexOf(e.id)?null:e.data.isOwnAccount||!n.props.locked&&e.data.isContact||s&&e.data.name===s?e:void 0:null})).sort((function(e,t){return e.data.isOwnAccount<t.data.isOwnAccount&&e.data.name>t.data.name?1:-1})).map((function(e){return o.a.createElement(x.Select.Option,{key:e.data.id,value:e.data.name,disabled:!!e.data.disabled||void 0},e.data.isOwnAccount?o.a.createElement(x.Icon,{type:"user"}):null,e.data.isContact?o.a.createElement(x.Icon,{type:"star"}):null,e.data.isKnownScammer?o.a.createElement(x.Icon,{type:"warning"}):null," ",e.data.name,o.a.createElement("span",{style:{float:"right"}},e.data.statusLabel))}));d=o.a.createElement(x.Select,{showSearch:!0,optionLabelProp:"value",onSelect:this.onSelect.bind(this),onSearch:this.onInputChanged.bind(this),placeholder:_.a.translate("account.search"),notFoundContent:_.a.translate("global.not_found"),value:h?h.name:null,disabled:!!t||void 0},y)}else d=o.a.createElement(x.Input,{style:{textTransform:h&&"pubkey"===h.type?null:"lowercase",fontVariant:"initial"},name:"username",id:"username",autoComplete:this.props.editable?"username":void 0,type:"text",value:this.props.accountName||"",placeholder:this.props.placeholder||_.a.translate("account.name"),disabled:!!this.props.disabled||void 0,ref:"user_input",onChange:this.onInputChanged.bind(this),onKeyDown:this.onKeyDown.bind(this),tabIndex:!this.props.editable||this.props.disabled?-1:this.props.tabIndex,editable:f?f.toString():void 0,readOnly:f?(!f).toString():void 0});var E=this.props.hideImage?null:h&&"pubkey"===h.accountType?o.a.createElement("div",{className:"account-image"},o.a.createElement(T.a,{name:"key",title:"icons.key",size:"4x"})):o.a.createElement(g.a,{size:{height:this.props.size||33,width:this.props.size||33},account:h?h.name:null,custom_image:null}),N=u?"":null,w=this.props.label&&h?o.a.createElement("div",{className:"header-area"+(this.props.hideImage?" no-margin":"")},o.a.createElement("label",{className:k()("right-label",h.isContact||h.isOwnAccount?"positive":null,h.isKnownScammer?"negative":null),style:{marginTop:-30}},o.a.createElement("span",{style:{paddingRight:"0.5rem"}},h.rightLabel," ",h.displayText),b)):null,O=this.props.noForm?o.a.Fragment:x.Form,A=this.props.noForm?{}:{className:"full-width",layout:"vertical",style:this.props.style};return o.a.createElement(x.Tooltip,{className:"input-area",title:this.props.tooltip,mouseEnterDelay:.5},o.a.createElement(O,A,o.a.createElement(x.Form.Item,{label:this.props.label?_.a.translate(this.props.label):"",validateStatus:m?"error":null,help:m||null},w,this.props.useHR&&o.a.createElement("hr",null),o.a.createElement("div",{className:"inline-label input-wrapper"},E,d,c?o.a.createElement(x.Icon,{type:"loading",style:{padding:10}}):null,N,this.props.children,this.props.onAction?o.a.createElement(x.Tooltip,{title:_.a.translate("tooltip.required_input",{type:_.a.translate("global.field_type.account")})},o.a.createElement(x.Button,{type:"primary",disabled:e,onClick:this.onAction.bind(this)},o.a.createElement(p.a,{content:this.props.action_label}))):null))))}}]),t}(o.a.Component);S.propTypes={label:A.a.string,error:A.a.element,placeholder:A.a.string,onChange:A.a.func,onAccountChanged:A.a.func,onAction:A.a.func,accountName:A.a.string,account:v.a.ChainAccount,tabIndex:A.a.number,disableActionButton:A.a.bool,allowUppercase:A.a.bool,typeahead:A.a.bool,excludeAccounts:A.a.array,focus:A.a.bool,disabled:A.a.bool,editable:A.a.bool,locked:A.a.bool,requireActiveSelect:A.a.bool,noForm:A.a.bool},S.defaultProps={autosubscribe:!1,excludeAccounts:[],disabled:null,editable:null,locked:!1,requireActiveSelect:!0,noForm:!1},S=Object(y.a)(S);var j=S=Object(d.a)(S,{listenTo:function(){return[m.a]},getProps:function(){return{myActiveAccounts:m.a.getState().myActiveAccounts,contacts:m.a.getState().accountContacts}}}),I=n(377),P=n(375),D=n(36),L=(n(41),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=function(e){function t(e){return B(this,t),W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return z(t,e),R(t,[{key:"componentWillReceiveProps",value:function(e){e.to_name!==this.state.to_name&&this.setState({to_name:e.to_name?e.to_name:"",to_account:e.to_name?r.ChainStore.getAccount(e.to_name):null})}},{key:"render",value:function(){var e=this.state,t=e.propose,n=e.from_account,a=e.to_account,i=e.asset,s=e.asset_id,c=e.propose_account,u=e.feeAmount,d=e.amount,f=e.to_name,g=e.from_name,b=e.memo,v=e.balanceError,y=e.hidden,E=m.a.isMyAccount(n)||g===this.props.passwordAccount,T=!(!n||E||t),N=this._getAvailableAssets().asset_types,w=null;if(n&&n.get("balances")&&!T){var k=n.get("balances").toJS(),O=this.state.balanceError?"has-error":"";if(1===N.length&&(i=r.ChainStore.getAsset(N[0])),N.length>0){var A=i?i.get("id"):N[0];w=o.a.createElement("span",null,o.a.createElement(p.a,{component:"span",content:"transfer.available"}),":"," ",o.a.createElement("span",{className:O,style:{borderBottom:"#A09F9F 1px dotted",cursor:"pointer"},onClick:this._setTotal.bind(this,A,k[A],u.getAmount({real:!0}),u.asset_id)},o.a.createElement(P.a,{balance:k[A]})))}else w=o.a.createElement("span",null,o.a.createElement("span",{className:O},o.a.createElement(p.a,{content:"transfer.errors.noFunds"})))}var C=t&&!c,S=parseFloat(String.prototype.replace.call(d,/,/g,"")),L=S&&!Object(l.a)(S),R=!n||!a||!L||!i||T||C||v||n.get("id")==a.get("id"),B=this.props.tabIndex;return this.state.open?o.a.createElement("div",{id:"send_modal_wrapper",className:y||!this.state.open?"hide":""},o.a.createElement(x.Modal,{visible:this.state.isModalVisible,id:this.props.id,overlay:!0,onCancel:this.hideModal,footer:[o.a.createElement(x.Button,{key:"send",disabled:R,onClick:R?null:this.onSubmit.bind(this)},t?_.a.translate("propose"):_.a.translate("transfer.send")),o.a.createElement(x.Button,{key:"Cancel",tabIndex:B++,onClick:this.onClose},o.a.createElement(p.a,{component:"span",content:"transfer.cancel"}))]},o.a.createElement("div",{className:"grid-block vertical no-overflow"},o.a.createElement("div",{className:"content-block",style:{textAlign:"center",fontSize:"18px"}},o.a.createElement(p.a,{content:"listing.modal.header2",wallet_name:Object(D.s)()}),this.props.ticker),this.state.open?o.a.createElement(x.Form,{className:"full-width-wrapper",layout:"vertical"},o.a.createElement(j,{label:"transfer.from",accountName:g,account:n,onChange:this.fromChanged.bind(this),onAccountChanged:this.onFromAccountChanged.bind(this),typeahead:!0,tabIndex:B++,locked:!0,noForm:!0}),o.a.createElement(j,{label:"transfer.to",accountName:f,account:a,onChange:this.toChanged.bind(this),onAccountChanged:this.onToAccountChanged.bind(this),typeahead:!0,tabIndex:B++,locked:!0,noForm:!0}),o.a.createElement(h.a,{label:"transfer.amount",amount:d,onChange:this.onAmountChanged.bind(this),asset:N.length>0&&i?i.get("id"):s||N[0],display_balance:w,tabIndex:B++,allowNaN:!0,locked:!0}),o.a.createElement(I.a,{account:n,transaction:{type:"transfer",options:["price_per_kbyte"],data:{type:"memo",content:b}},onChange:this.onFeeChanged.bind(this),tabIndex:B++})):null))):null}}]),t}(c.a),K=function(e){function t(){return B(this,t),W(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return z(t,e),R(t,[{key:"render",value:function(){return o.a.createElement(F,L({},this.props,{ref:this.props.refCallback}))}}]),t}(o.a.Component),q=K=Object(d.a)(K,{listenTo:function(){return[m.a]},getProps:function(e){return{currentAccount:m.a.getState().currentAccount,passwordAccount:m.a.getState().passwordAccount,tabIndex:e.tabIndex||0}}}),M=n(21),U=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var V=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.coin.votes=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),U(t,[{key:"triggerSend",value:function(e){var t=this;this.setState({send_asset:e},(function(){t.send_modal&&t.send_modal.show()}))}},{key:"render",value:function(){var e=this;try{this.props.account.get("name")}catch(e){}var t=this.props.coin;return o.a.createElement("div",{className:"listingTable__row"},o.a.createElement(q,{id:"send_modal_listing",refCallback:function(t){t&&(e.send_modal=t)},from_name:this.props.currentAccount?this.props.currentAccount:this.props.account,to_name:t.account?t.account:"",asset_id:"1.3.2",ticker:t.ticker}),o.a.createElement("div",{className:"listingAsset"},o.a.createElement("div",{className:"listingAssetCard"},o.a.createElement("div",{className:"listingTable__cell listingTableRank align-center"},this.props.rank),o.a.createElement("div",{className:"listingTable__cell listingTableLogo"},o.a.createElement("img",{className:"align-center",style:{maxWidth:40},src:"coins-logo/"+t.ticker.toLowerCase()+".png",alt:""})),o.a.createElement("div",{className:"listingTable__cell listingTableAssetName align-left nowrap"},t.name," (",t.ticker,")",!0===t.soon?o.a.createElement(p.a,{content:"listing.table.coming_soon",style:{float:"right",color:"gold"}}):"")),o.a.createElement("div",{className:"listingAssetInfo"},o.a.createElement("div",{className:"listingAssetInfoData"},o.a.createElement("div",{className:"listingTable__cell listingTableGoal"},o.a.createElement("div",{className:"listingAssetInfoBlock"},o.a.createElement(p.a,{content:"listing.table.goal"}),": "," "),t.goal),t.listed?"":o.a.createElement("div",{className:"listingTable__cell listingTableVotes"},o.a.createElement("div",{className:"listingAssetInfoBlock"},o.a.createElement(p.a,{content:"listing.table.donates"}),": "),t.votes,!0===t.soon?o.a.createElement("a",{className:"coin-soon"},o.a.createElement(x.Icon,{name:"transfer",title:"icons.transfer",className:"icon-14px"}),"  Donate"):o.a.createElement("a",{onClick:this.triggerSend.bind(this,"1.3.2",t)},o.a.createElement(x.Icon,{name:"transfer",title:"icons.transfer",className:"icon-14px"}),"  Donate")),o.a.createElement("div",{className:"listingTable__cell listingTableStatus"},o.a.createElement("div",{className:"listingAssetInfoBlock"},o.a.createElement(p.a,{content:"listing.table.status"}),": "," "),o.a.createElement(p.a,{content:"listing.table."+t.status}))),t.listed?"":o.a.createElement("div",{className:"listingTable__cell listingTableProgress"},o.a.createElement(s,{votes:t.votes_for_percent,goal:t.goal})))))}}]),t}(o.a.Component),G=V=Object(d.a)(V,{listenTo:function(){return[M.a,m.a]},getProps:function(){return{settings:M.a.getState().settings,currentAccount:m.a.getState().currentAccount||m.a.getState().passwordAccount}}}),J=n(1975),X=n(1974),Q=n(34),Y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var H=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getContent=function(){return o.a.createElement("div",{className:"listingTable"},o.a.createElement("p",null,o.a.createElement(Q.b,{style:{margin:2,fontSize:"1.0rem"},to:"/market/DONATE_RUDEX.USDT"},o.a.createElement(p.a,{content:"listing.get_donate_tokens"}),o.a.createElement("span",{style:{margin:2,fontSize:"1.0rem"}},o.a.createElement(X.a,{maxWidth:25,replaceNoneToBts:!1,name:"DONATE"}),"DONATE"),o.a.createElement(p.a,{content:"listing.token"}))),o.a.createElement("div",{className:"listingTable__header"},o.a.createElement("div",{className:"listingAssetCard"},o.a.createElement("div",{className:"listingTable__cell listingTableRank"},o.a.createElement(p.a,{content:"listing.table.rank"})),o.a.createElement("div",{className:"listingTable__cell listingTableLogo"}),o.a.createElement("div",{className:"listingTable__cell listingTableAssetName align-left"},o.a.createElement(p.a,{content:"listing.table.asset_name"}))),o.a.createElement("div",{className:"listingAssetInfo"},o.a.createElement("div",{className:"listingAssetInfoData"},o.a.createElement("div",{className:"listingTable__cell listingTableVotes"},o.a.createElement(p.a,{content:"listing.table.goal"})),o.a.createElement("div",{className:"listingTable__cell listingTableGoal"},o.a.createElement(p.a,{content:"listing.table.donates"})),o.a.createElement("div",{className:"listingTable__cell listingTableStatus"},o.a.createElement(p.a,{content:"listing.table.status"}))),o.a.createElement("div",{className:"listingTable__cell listingTableProgress"},o.a.createElement(p.a,{content:"listing.table.progress"})))),e.getCoinsList())},e.getContent_listed=function(){return o.a.createElement("div",{className:"listingTable"},o.a.createElement("div",{className:"listingTable__header"},o.a.createElement("div",{className:"listingAssetCard"},o.a.createElement("div",{className:"listingTable__cell listingTableRank"},o.a.createElement(p.a,{content:"listing.table.rank"})),o.a.createElement("div",{className:"listingTable__cell listingTableLogo"}),o.a.createElement("div",{className:"listingTable__cell listingTableAssetName align-left"},o.a.createElement(p.a,{content:"listing.table.asset_name"}))),o.a.createElement("div",{className:"listingAssetInfo"},o.a.createElement("div",{className:"listingAssetInfoData"},o.a.createElement("div",{className:"listingTable__cell listingTableVotes"},o.a.createElement(p.a,{content:"listing.table.goal"})),o.a.createElement("div",{className:"listingTable__cell listingTableStatus"},o.a.createElement(p.a,{content:"listing.table.status"}))))),e.getCoinsList_listed())},e.getCoinsList=function(){return e.state.coins.sort((function(e,t){return t.votes-e.votes})).map((function(e,t){return e.votes_for_percent=e.votes<e.goal?e.votes:e.goal,e.status=e.votes<e.goal?"collecting":"done",1==e.soon?e.status="waiting":e.soon,o.a.createElement(G,{key:t,rank:t+1,coin:e})}))},e.getCoinsList_listed=function(){return Object(D.l)().sort((function(e,t){return t.votes-e.votes})).map((function(e,t){return e.votes_for_percent=e.votes<e.goal?e.votes:e.goal,e.status="done",e.listed=!0,o.a.createElement(G,{key:t,rank:t+1,coin:e})}))},e.state={ListingNotice1Informed:!1,coins:[],updating:!0},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Y(t,[{key:"onSubmitRequest",value:function(e){e.preventDefault(),this.setState({error:null});var t=M.a.getState().settings.get("locale");window.open("ru"==t?"https://docs.google.com/forms/d/1lJnvufc95CDh2z1Ntq7iCSEs3oD7tPG4nljKTYYezQw":"https://docs.google.com/forms/d/1X2PguAaRzxlXZGLAarGcmNd-LbJCy8lcoMBcQjFSQ5k","_blank")}},{key:"onListingNotice1Informed",value:function(){this.setState({ListingNotice1Informed:!this.state.ListingNotice1Informed})}},{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e._getBalances()}),1e3)}},{key:"shouldComponentUpdate",value:function(e,t){return 0==t.updating}},{key:"render",value:function(){var e=M.a.getState().settings.get("locale"),t=o.a.createElement("span",{style:{fontWeight:"bold"}},"RuDEX");o.a.createElement(Q.b,{style:{margin:2,fontSize:"1.0rem",paddingRight:5},to:"/asset/DONATE"},o.a.createElement(X.a,{maxWidth:25,replaceNoneToBts:!1,name:"DONATE"}),"DONATE");return o.a.createElement("div",{className:"grid-block vertical"},o.a.createElement("div",{className:"grid-content"},o.a.createElement("div",{className:"content-block small-12"},o.a.createElement("div",{className:"tabs-container generic-bordered-box"},o.a.createElement(J.b,{defaultActiveTab:0,segmented:!1,setting:"permissionsTab",className:"account-tabs",tabsClass:"account-overview bordered-header content-block",contentClass:"padding"},o.a.createElement(J.a,{title:"listing.donate_progress"},o.a.createElement("label",{className:"horizontal",tabIndex:0},o.a.createElement("div",{className:"grid-container",style:{padding:"2rem 8px"}},o.a.createElement("div",{style:{marginBottom:20}}),o.a.createElement("div",{className:"grid-block small-up-1 medium-up-1 large-up-1 no-overflow"},!0===this.state.updating?o.a.createElement("div",{style:{margin:"10px"}},o.a.createElement(p.a,{content:"listing.loading"})," "):this.getContent()))),o.a.createElement("br",null)),o.a.createElement(J.a,{title:"listing.listed"},o.a.createElement("label",{className:"horizontal",tabIndex:1},o.a.createElement("div",{className:"grid-container",style:{padding:"2rem 8px"}},o.a.createElement("div",{style:{marginBottom:20}}),o.a.createElement("div",{className:"grid-block small-up-1 medium-up-1 large-up-1 no-overflow"},!0===this.state.updating?o.a.createElement("div",{style:{margin:"10px"}},o.a.createElement(p.a,{content:"listing.loading"})," "):this.getContent_listed()))),o.a.createElement("br",null)),o.a.createElement(J.a,{title:"listing.add_coin"},o.a.createElement("label",{className:"horizontal",tabIndex:2}),o.a.createElement("div",{className:"grid-container help-content-layout"},o.a.createElement("div",{className:"main-content"},o.a.createElement("h2",null,o.a.createElement(p.a,{content:"listing.texts.header"})),o.a.createElement("p",{style:{fontSize:"20px"}},o.a.createElement(p.a,{content:"listing.texts.text1"})),o.a.createElement("p",null,o.a.createElement(p.a,{content:"listing.texts.text2"})),o.a.createElement("p",null,o.a.createElement(p.a,{content:"listing.texts.text3.t1"}),o.a.createElement(p.a,{content:"listing.texts.text3.t2"}),o.a.createElement(Q.b,{style:{margin:2,fontSize:"1.0rem"},to:"/market/DONATE_RUDEX.USDT"},o.a.createElement(p.a,{content:"listing.texts.text3.get"})),o.a.createElement(p.a,{content:"listing.texts.text4.t1"}),o.a.createElement(Q.b,{style:{margin:2,fontSize:"1.0rem",paddingRight:5},to:"/asset/DONATE"},o.a.createElement(X.a,{maxWidth:25,replaceNoneToBts:!1,name:"DONATE"}),"DONATE"),".",o.a.createElement(p.a,{content:"listing.texts.text4.t2"}),o.a.createElement(Q.b,{style:{margin:2,fontSize:"1.0rem",paddingRight:5},to:"/asset/DONATE"},o.a.createElement(X.a,{maxWidth:25,replaceNoneToBts:!1,name:"DONATE"}),"DONATE"),o.a.createElement(p.a,{content:"listing.texts.text4.t3"}),o.a.createElement("span",{style:{border:"1px solid #00a9e0",padding:"4px 3px 3px 4px",borderRadius:"3px",cursor:"pointer"}},"DONATE"),o.a.createElement(p.a,{content:"listing.texts.text4.t4"})),o.a.createElement("p",null,o.a.createElement(p.a,{content:"listing.texts.text5.t1"}),o.a.createElement(Q.b,{style:{margin:2,fontSize:"1.0rem",paddingRight:5},to:"/asset/DONATE"},o.a.createElement(X.a,{maxWidth:25,replaceNoneToBts:!1,name:"DONATE"}),"DONATE"),o.a.createElement(p.a,{content:"listing.texts.text5.t2"})),o.a.createElement("p",null,o.a.createElement(p.a,{content:"listing.texts.text5.t3"})),o.a.createElement("h3",null,o.a.createElement(p.a,{content:"listing.texts.rules.header"})),o.a.createElement("ol",null,o.a.createElement("li",null,o.a.createElement(p.a,{content:"listing.texts.rules.rule_1"}),o.a.createElement(p.a,{href:"ru"==e?"https://rudex.freshdesk.com/support/solutions/articles/35000138247-cоглашение-об-оказании-услуг-шлюза":"https://rudex.freshdesk.com/support/solutions/articles/35000138245-gateway-service-agreement",content:"listing.texts.rules.rule_10",component:"a",target:"_blank"}),o.a.createElement(p.a,{content:"listing.texts.rules.rule_11"})),o.a.createElement("li",null,o.a.createElement(p.a,{content:"listing.texts.rules.rule_2"})),o.a.createElement("li",null,o.a.createElement(p.a,{content:"listing.texts.rules.rule_3"}),o.a.createElement(Q.b,{style:{margin:2,fontSize:"1.0rem",paddingRight:5},to:"/asset/DONATE"},o.a.createElement(X.a,{maxWidth:25,replaceNoneToBts:!1,name:"DONATE"}),"DONATE"),o.a.createElement(p.a,{content:"listing.texts.rules.rule_4"})),o.a.createElement("li",null,o.a.createElement(p.a,{content:"listing.texts.rules.rule_5"})))),o.a.createElement("h5",null,o.a.createElement("input",{type:"checkbox",defaultChecked:this.state.ListingNotice1Informed,onChange:this.onListingNotice1Informed.bind(this)})," ","-"," ",o.a.createElement(p.a,{content:"listing.notice_informed"})),o.a.createElement("div",{className:"listing_button"},o.a.createElement(x.Button,{key:"send",disabled:!this.state.ListingNotice1Informed,onClick:this.state.ListingNotice1Informed?this.onSubmitRequest.bind(this):null},o.a.createElement(p.a,{content:"listing.submit_request"}))),o.a.createElement("h3",null,o.a.createElement(p.a,{content:"listing.texts.end"})," ",t,"!"))))))))}},{key:"_getBalances",value:function(){var e=this,t=Object(D.m)();0!==this.state.coins.length&&(t=this.state.coins),this.setState({coins:t,updating:!0}),t.forEach((function(t){Object(r.FetchChain)("getAsset","DONATE").then((function(n){i.Apis.instance().db_api().exec("get_named_account_balances",[t.account,[n.get("id")]]).then((function(a){var o=e.state.coins;o.find((function(e){return e.account===t.account})).votes=a[0].amount/Math.pow(10,n.get("precision")),e.setState({coins:o})})).then((function(){e.setState({updating:!1})}))}))}))}}]),t}(o.a.Component);t.default=H}}]);
//# sourceMappingURL=listing.js.map