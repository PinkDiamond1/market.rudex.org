(this.webpackJsonp=this.webpackJsonp||[]).push([[26],{1991:function(e,t,n){"use strict";n.d(t,"b",function(){return E}),n.d(t,"a",function(){return v});var a=n(0),o=n.n(a),r=n(1),i=n.n(r),s=n(3),c=n.n(s),l=n(30),u=n(22),p=n(21),m=n(5),d=n.n(m),h=n(2349),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(){return g(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,o.a.Component),f(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.index,a=e.changeTab,r=e.title,i=e.className,s=e.updatedTab,l=e.disabled,u=e.subText,p=c()({"is-active":t},i);return"string"==typeof r&&r.indexOf(".")>0&&(r=d.a.translate(r)),this.props.collapsed?("string"==typeof u&&(u=u.trim()),"span"===r.type&&(r=r.props.children[2]),o.a.createElement("option",{value:n,"data-is-link-to":this.props.isLinkTo},r,s?"*":"",u&&" (",u&&u,u&&")")):o.a.createElement("li",{className:p,onClick:l?null:a.bind(this,n,this.props.isLinkTo)},o.a.createElement("a",null,o.a.createElement("span",{className:"tab-title"},r,s?"*":""),u&&o.a.createElement("div",{className:"tab-subtext"},u)))}}]),t}();v.propTypes={changeTab:i.a.func,isActive:i.a.bool.isRequired,index:i.a.number.isRequired,className:i.a.string,isLinkTo:i.a.string,subText:i.a.oneOfType([i.a.object,i.a.string])},v.defaultProps={isActive:!1,index:0,className:"",isLinkTo:"",subText:null};var E=function(e){function t(e){g(this,t);var n=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeTab:e.setting?e.viewSettings.get(e.setting,e.defaultActiveTab):e.defaultActiveTab,width:window.innerWidth},n._setDimensions=n._setDimensions.bind(n),n}return y(t,o.a.Component),f(t,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.viewSettings.get(e.setting);t!==this.props.viewSettings.get(this.props.setting)&&this.setState({activeTab:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var e=window.innerWidth;e!==this.state.width&&this.setState({width:e})}},{key:"_changeTab",value:function(e,t){e!==this.state.activeTab&&(""!==t&&this.props.history.push(t),this.props.setting&&u.a.changeViewSetting(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.setting,e)),this.setState({activeTab:e}),this.props.onChangeTab&&this.props.onChangeTab(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.contentClass,r=t.tabsClass,i=t.style,s=t.segmented,l=this.state.width<900&&o.a.Children.count(n)>2,u=null,p=o.a.Children.map(n,function(t,n){if(!t)return null;if(l&&t.props.disabled)return null;var a=n===e.state.activeTab;return a&&(u=t.props.children),o.a.cloneElement(t,{collapsed:l,isActive:a,changeTab:e._changeTab.bind(e),index:n})}).filter(function(e){return null!==e});return u||(u=p[0].props.children),o.a.createElement("div",{className:c()(this.props.actionButtons?"with-buttons":"",this.props.className)},o.a.createElement("div",{className:"service-selector"},o.a.createElement("ul",{style:i,className:c()("button-group no-margin",r,{segmented:s})},l?o.a.createElement("li",{style:{paddingLeft:10,paddingRight:10,minWidth:"15rem"}},o.a.createElement("select",{value:this.state.activeTab,style:{marginTop:10,marginBottom:10},className:"bts-select",onChange:function(t){var n=parseInt(t.target.value,10);e._changeTab(n,t.target[n].attributes["data-is-link-to"].value)}},p)):p,this.props.actionButtons?o.a.createElement("li",{className:"tabs-action-buttons"},this.props.actionButtons):null)),o.a.createElement("div",{className:c()("tab-content",a)},u))}}]),t}();E.propTypes={setting:i.a.string,defaultActiveTab:i.a.number,segmented:i.a.bool},E.defaultProps={active:0,defaultActiveTab:0,segmented:!0,contentClass:"",style:{}},E=Object(l.a)(E,{listenTo:function(){return[p.a]},getProps:function(){return{viewSettings:p.a.getState().viewSettings}}}),E=Object(h.a)(E)},1993:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(342),i=n(44),s=n(47),c=n(9),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){p(this,t);var e=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getDynamicObject=e.getDynamicObject.bind(e),e}return d(t,o.a.Component),u(t,[{key:"getDynamicObject",value:function(e){return this.props.dos.find(function(t){return t&&t.get("id")===e})}},{key:"render",value:function(){return o.a.cloneElement(o.a.Children.only(this.props.children),l({},this.props,{getDynamicObject:this.getDynamicObject}))}}]),t}();h.propTypes={dos:i.a.ChainObjectsList},h.defaultProps={dos:Object(c.List)()},h=Object(s.a)(h);var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.propNames=t.propNames||[t.asList?"assets":"asset"];var n=t.propNames.reduce(function(e,n){return e[n]=t.asList?i.a.ChainAssetsList:i.a.ChainAsset.isRequired,e},{}),a=Object.keys(n).reduce(function(e,n){var a=t.defaultProps&&t.defaultProps[n];return e[n]=t.asList?Object(c.List)(a||[]):a||"1.3.0",e},{});t.defaultProps&&t.defaultProps.tempComponent&&(a.tempComponent=t.defaultProps.tempComponent);var f=function(e){function n(){return p(this,n),m(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return d(n,o.a.Component),u(n,[{key:"render",value:function(){var e=this,n={},a={},r=Object(c.List)();Object.keys(this.props).forEach(function(o){e.props[o]&&-1!==t.propNames.indexOf(o)?(t.withDynamic&&(t.asList?e.props[o].forEach(function(e){e&&(r=r.push(e.get("dynamic_asset_data_id")))}):r=r.push(e.props[o].get("dynamic_asset_data_id"))),n[o]=t.asList?e.props[o].filter(function(e){return!!e}):e.props[o]):a[o]=e.props[o]});var i=o.a.cloneElement(o.a.Children.only(this.props.children),l({},a,n));return t.withDynamic?o.a.createElement(h,{dos:r},i):i}}]),n}();f.propTypes=n,f.defaultProps=a,f=Object(s.a)(f);var g=function(t){function n(){return p(this,n),m(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return d(n,o.a.Component),u(n,[{key:"render",value:function(){return o.a.createElement(f,this.props,o.a.createElement(e,{ref:"bound_component"}))}}]),n}();return g.displayName="Wrapper("+Object(r.a)(e)+")",g},g=n(1),b=n.n(g),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function(e){function t(e){E(this,t);var n=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={imgError:!1},n}return T(t,o.a.Component),v(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.asset!==e.asset||this.props.maxWidth!==e.maxWidth||this.props.whiteList!==e.whiteList||this.state.imgError!==t.imgError}},{key:"_onError",value:function(e){this.state.imgError||(this.props.replaceNoneToBts?this.refs[e.toLowerCase()].src="asset-symbols/bts.png":this.refs[e.toLowerCase()].remove(),this.setState({imgError:!0}))}},{key:"render",value:function(){var e=function(e){return e.get("symbol")}(this.props.asset);return o.a.createElement("img",{ref:e.toLowerCase(),className:"column-hide-small",onError:this._onError.bind(this,e),style:{maxWidth:this.props.maxWidth,marginRight:5},src:"asset-symbols/"+e.toLowerCase()+".png"})}}]),t}();w.propTypes={replaceNoneToBts:b.a.bool,maxWidth:b.a.number},w.defaultProps={replaceNoneToBts:!0,maxWidth:20},w=f(w);var k=function(e){function t(){return E(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,o.a.Component),v(t,[{key:"render",value:function(){return o.a.createElement(w,y({},this.props,{asset:this.props.name}))}}]),t}();t.a=k},2366:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=(n(1984),n(15)),i=n(6),s=(n(1985),function(e){var t=Math.round(e.votes/e.goal*100);return o.a.createElement("div",{className:"root"},o.a.createElement("svg",{viewBox:"0 0 32 32",className:"chart"},o.a.createElement("circle",{className:"donut-hole",r:"16",cx:"16",cy:"16",fill:"none"}),o.a.createElement("circle",{className:"donut-ring",r:"16",cx:"16",cy:"16",fill:"none",stroke:"lightgray",strokeWidth:"8"}),o.a.createElement("circle",{className:"donut-segment",r:"16",cx:"16",cy:"16",fill:"none",stroke:"green",strokeWidth:"8",style:{strokeDasharray:t+" 100"},strokeDashoffset:"0"})),o.a.createElement("div",{className:"inside"},o.a.createElement("div",{className:"percent"},t+"%")))}),c=n(602),l=n(618),u=n(2),p=n.n(u),m=n(23),d=n(30),h=n(593),f=n(16),g=n(377),b=n(42),y=n(44),v=n(47),E=n(5),_=n.n(E),T=n(34),w=n(102),k=n(3),N=n.n(k),O=n(1),A=n.n(O),x=n(4),C=(n(281),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}());var j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={accountIndex:[],locked:null},n.timer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),C(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.account,a=t.accountName;a&&this._addThisToIndex(a),this.props.myActiveAccounts.map(function(t){e._addThisToIndex(t)}),this.props.contacts.map(function(t){e._addThisToIndex(t)}),this._fetchAccounts(),this.props.onAccountChanged&&n&&this.props.onAccountChanged(n),!this.props.typeahead&&a&&this.onInputChanged(a)}},{key:"componentDidUpdate",value:function(e){this.props.focus&&this.props.editable&&!this.props.disabled&&this.refs.user_input.focus(),e.account&&e.account!==this.props.account&&this.props.onAccountChanged&&this.props.onAccountChanged(this.props.account)}},{key:"_addToIndex",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(this._addThisToIndex(e),this._fetchAccounts()):(clearTimeout(this.timer),this.timer=setTimeout(function(){t._addToIndex(e,!0)},500))}},{key:"_addThisToIndex",value:function(e){var t=this.state.accountIndex;if(e){var n=t.find(function(t){return t.name===e});e&&!n&&t.push({name:e,data:null,attempts:0})}}},{key:"_getIndex",value:function(e,t){return t.findIndex(function(t){return t.name===e})}},{key:"_getSearchArray",value:function(){return this.state.accountIndex.filter(function(e){return!e.data&&e.attempts<5?e.name:null}).map(function(e){return e.name})}},{key:"_fetchAccounts",value:function(){var e=this,t=this.state.accountIndex,n=this._getSearchArray();n.length>0&&Object(i.FetchChainObjects)(i.ChainStore.getAccount,n,3e3,{}).then(function(a){a.forEach(function(a){if(a){var o=e._getIndex(a.get("name"),t),r=e._populateAccountIndex(a);r&&(t[o]=r,n.splice(a.get("name")))}}),n.forEach(function(n){var a=e._getIndex(n,t);t[a].attempts++}),e.setState({accountIndex:t}),e.state.accountIndex.find(function(e){return!e.data&&e.attempts<5})&&setTimeout(function(){e._fetchAccounts()},500)})}},{key:"_populateAccountIndex",value:function(e){var t=this.props,n=t.myActiveAccounts,a=t.contacts;if(!e)return null;var o=e.get("name"),r=i.ChainStore.getAccountMemberStatus(e),s=this.getInputType(o),c=w.a.isKnownScammer(o)?_.a.translate("account.member.suspected_scammer"):_.a.translate("account.member."+r),l="name"===s?"#"+e.get("id").substring(4):"id"===s?e.get("name"):"pubkey"==s&&this.props.allowPubKey?"Public Key":null;return{name:o,attempts:0,data:{id:e.get("id"),name:o,type:s,status:r,isOwnAccount:n.has(o),isContact:a.has(o),isKnownScammer:w.a.isKnownScammer(o),statusLabel:c,rightLabel:l,className:w.a.isKnownScammer(o)||!e?"negative":null}}}},{key:"getAccount",value:function(){return this.props.account}},{key:"getError",value:function(){var e=this.props,t=e.account,n=e.accountName,a=e.error,o=e.typeahead,r=n?this.getInputType(n):null;return o||!t&&n&&"pubkey"!==r&&(a=_.a.translate("account.errors.unknown")),a||!t||r||(a=_.a.translate("account.errors.invalid")),a}},{key:"getInputType",value:function(e){return e?"#"===e[0]&&f.a.is_object_id("1.2."+e.substring(1))?"id":i.ChainValidation.is_account_name(e,!0)?"name":this.props.allowPubKey&&i.PublicKey.fromPublicKeyString(e)?"pubkey":null:null}},{key:"getVerifiedAccountName",value:function(e){var t=this.props.allowUppercase,n=null;n="string"==typeof e?e:e&&e.target?e.target.value.trim():"",t||(n=n.toLowerCase());var a=n.replace("#","").match(/(?:\/account\/)(.*)/);return a&&(n=a[1]),n}},{key:"_notifyOnChange",value:function(e,t){var n=this,a=this.props;"input"==t&&this.props.typeahead&&this.props.requireActiveSelect&&(a.onAccountChanged&&a.onAccountChanged(null),a.onChange&&a.onChange(null));var o=this.getVerifiedAccountName(e);a.onChange&&(o||""===o)&&a.onChange(o),a.onAccountChanged&&Object(i.FetchChain)("getAccount",o,void 0,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o,!1)).then(function(e){e&&(n.props.requireActiveSelect&&"select"==t||!n.props.requireActiveSelect)&&a.onAccountChanged(e)}).catch(function(e){console.log(e)})}},{key:"onSelect",value:function(e){this._notifyOnChange(e,"select")}},{key:"onInputChanged",value:function(e){this._addToIndex(this.getVerifiedAccountName(e)),this._notifyOnChange(e,"input")}},{key:"onKeyDown",value:function(e){13!==e.keyCode&&9!==e.keyCode||this.onAction(e)}},{key:"_onAddContact",value:function(){b.a.addAccountContact(this.props.accountName)}},{key:"_onRemoveContact",value:function(){b.a.removeAccountContact(this.props.accountName)}},{key:"onAction",value:function(e){var t=this.props,n=t.onAction,a=t.disableActionButton,o=t.account,r=t.accountName;e.preventDefault(),this.getError()||!n||a||(o?n(o):"pubkey"===this.getInputType(r)&&n(r))}},{key:"render",value:function(){var e,t,n=this,a=this.state.accountIndex,r=this.props,i=r.account,s=r.accountName,c=r.disableActionButton,l=this.state.accountIndex.find(function(e){return!e.data&&e.attempts<5}),u=null!==this.state.locked?this.state.locked:this.props.locked,m=this.getError(),d=void 0,h=void 0,f=void 0,b=void 0;if(f=!u&&(null!=this.props.editable?this.props.editable:void 0),t=!!u||(null!=this.props.disabled?this.props.disabled:void 0),i){var y=this._getIndex(i.get("name"),a);h=a&&a[y]?a[y].data:null}if(e=!(i||h&&"pubkey"===h.type)||m||c,h&&h.isOwnAccount?b=o.a.createElement(x.Tooltip,{placement:"top",title:_.a.translate("tooltip.own_account")},o.a.createElement("span",{className:"tooltip green"},o.a.createElement(x.Icon,{type:"user"}))):h&&h.isKnownScammer?b=o.a.createElement(x.Tooltip,{placement:"top",title:_.a.translate("tooltip.scam_account")},o.a.createElement("span",{className:"tooltip red"},o.a.createElement(x.Icon,{type:"warning",theme:"filled"}))):h&&h.isContact?b=o.a.createElement(x.Tooltip,{placement:"top",title:_.a.translate("tooltip.follow_user"),onClick:this._onRemoveContact.bind(this)},o.a.createElement("span",{className:"tooltip green"},o.a.createElement(x.Icon,{type:"star",theme:"filled"}))):h&&(b=o.a.createElement(x.Tooltip,{placement:"top",title:_.a.translate("tooltip.follow_user_add"),onClick:this._onAddContact.bind(this)},o.a.createElement("span",{className:"tooltip"},o.a.createElement(x.Icon,{type:"star"})))),this.props.typeahead){var v=a.filter(function(e){return e.data?-1!==n.props.excludeAccounts.indexOf(e.id)?null:e.data.isOwnAccount||!n.props.locked&&e.data.isContact||s&&e.data.name===s?e:void 0:null}).sort(function(e,t){return e.data.isOwnAccount<t.data.isOwnAccount&&e.data.name>t.data.name?1:-1}).map(function(e){return o.a.createElement(x.Select.Option,{key:e.data.id,value:e.data.name,disabled:!!e.data.disabled||void 0},e.data.isOwnAccount?o.a.createElement(x.Icon,{type:"user"}):null,e.data.isContact?o.a.createElement(x.Icon,{type:"star"}):null,e.data.isKnownScammer?o.a.createElement(x.Icon,{type:"warning"}):null," ",e.data.name,o.a.createElement("span",{style:{float:"right"}},e.data.statusLabel))});d=o.a.createElement(x.Select,{showSearch:!0,optionLabelProp:"value",onSelect:this.onSelect.bind(this),onSearch:this.onInputChanged.bind(this),placeholder:_.a.translate("account.search"),notFoundContent:_.a.translate("global.not_found"),value:h?h.name:null,disabled:!!t||void 0},v)}else d=o.a.createElement(x.Input,{style:{textTransform:h&&"pubkey"===h.type?null:"lowercase",fontVariant:"initial"},name:"username",id:"username",autoComplete:this.props.editable?"username":void 0,type:"text",value:this.props.accountName||"",placeholder:this.props.placeholder||_.a.translate("account.name"),disabled:!!this.props.disabled||void 0,ref:"user_input",onChange:this.onInputChanged.bind(this),onKeyDown:this.onKeyDown.bind(this),tabIndex:!this.props.editable||this.props.disabled?-1:this.props.tabIndex,editable:f?f.toString():void 0,readOnly:f?(!f).toString():void 0});var E=this.props.hideImage?null:h&&"pubkey"===h.accountType?o.a.createElement("div",{className:"account-image"},o.a.createElement(T.a,{name:"key",title:"icons.key",size:"4x"})):o.a.createElement(g.a,{size:{height:this.props.size||33,width:this.props.size||33},account:h?h.name:null,custom_image:null}),w=u?"":null,k=this.props.label&&h?o.a.createElement("div",{className:"header-area"+(this.props.hideImage?" no-margin":"")},o.a.createElement("label",{className:N()("right-label",h.isContact||h.isOwnAccount?"positive":null,h.isKnownScammer?"negative":null),style:{marginTop:-30}},o.a.createElement("span",{style:{paddingRight:"0.5rem"}},h.rightLabel," ",h.displayText),b)):null,O=this.props.noForm?o.a.Fragment:x.Form,A=this.props.noForm?{}:{className:"full-width",layout:"vertical",style:this.props.style};return o.a.createElement(x.Tooltip,{className:"input-area",title:this.props.tooltip,mouseEnterDelay:.5},o.a.createElement(O,A,o.a.createElement(x.Form.Item,{label:this.props.label?_.a.translate(this.props.label):"",validateStatus:m?"error":null,help:m||null},k,this.props.useHR&&o.a.createElement("hr",null),o.a.createElement("div",{className:"inline-label input-wrapper"},E,d,l?o.a.createElement(x.Icon,{type:"loading",style:{padding:10}}):null,w,this.props.children,this.props.onAction?o.a.createElement(x.Tooltip,{title:_.a.translate("tooltip.required_input",{type:_.a.translate("global.field_type.account")})},o.a.createElement(x.Button,{type:"primary",disabled:e,onClick:this.onAction.bind(this)},o.a.createElement(p.a,{content:this.props.action_label}))):null))))}}]),t}();j.propTypes={label:A.a.string,error:A.a.element,placeholder:A.a.string,onChange:A.a.func,onAccountChanged:A.a.func,onAction:A.a.func,accountName:A.a.string,account:y.a.ChainAccount,tabIndex:A.a.number,disableActionButton:A.a.bool,allowUppercase:A.a.bool,typeahead:A.a.bool,excludeAccounts:A.a.array,focus:A.a.bool,disabled:A.a.bool,editable:A.a.bool,locked:A.a.bool,requireActiveSelect:A.a.bool,noForm:A.a.bool},j.defaultProps={autosubscribe:!1,excludeAccounts:[],disabled:null,editable:null,locked:!1,requireActiveSelect:!0,noForm:!1},j=Object(v.a)(j);var S=j=Object(d.a)(j,{listenTo:function(){return[m.a]},getProps:function(){return{myActiveAccounts:m.a.getState().myActiveAccounts,contacts:m.a.getState().accountContacts}}}),I=n(374),P=n(373),D=n(35),L=(n(40),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=function(e){function t(e){return B(this,t),W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return z(t,l["a"]),R(t,[{key:"componentWillReceiveProps",value:function(e){e.to_name!==this.state.to_name&&this.setState({to_name:e.to_name?e.to_name:"",to_account:e.to_name?i.ChainStore.getAccount(e.to_name):null})}},{key:"render",value:function(){var e=this.state,t=e.propose,n=e.from_account,a=e.to_account,r=e.asset,s=e.asset_id,l=e.propose_account,u=e.feeAmount,d=e.amount,f=e.to_name,g=e.from_name,b=e.memo,y=e.balanceError,v=e.hidden,E=m.a.isMyAccount(n)||g===this.props.passwordAccount,T=!(!n||E||t),w=this._getAvailableAssets().asset_types,k=null;if(n&&n.get("balances")&&!T){var N=n.get("balances").toJS(),O=this.state.balanceError?"has-error":"";if(1===w.length&&(r=i.ChainStore.getAsset(w[0])),w.length>0){var A=r?r.get("id"):w[0];k=o.a.createElement("span",null,o.a.createElement(p.a,{component:"span",content:"transfer.available"}),":"," ",o.a.createElement("span",{className:O,style:{borderBottom:"#A09F9F 1px dotted",cursor:"pointer"},onClick:this._setTotal.bind(this,A,N[A],u.getAmount({real:!0}),u.asset_id)},o.a.createElement(P.a,{balance:N[A]})))}else k=o.a.createElement("span",null,o.a.createElement("span",{className:O},o.a.createElement(p.a,{content:"transfer.errors.noFunds"})))}var C=t&&!l,j=parseFloat(String.prototype.replace.call(d,/,/g,"")),L=j&&!Object(c.a)(j),R=!n||!a||!L||!r||T||C||y||n.get("id")==a.get("id"),B=this.props.tabIndex;return this.state.open?o.a.createElement("div",{id:"send_modal_wrapper",className:v||!this.state.open?"hide":""},o.a.createElement(x.Modal,{visible:this.state.isModalVisible,id:this.props.id,overlay:!0,onCancel:this.hideModal,footer:[o.a.createElement(x.Button,{key:"send",disabled:R,onClick:R?null:this.onSubmit.bind(this)},t?_.a.translate("propose"):_.a.translate("transfer.send")),o.a.createElement(x.Button,{key:"Cancel",tabIndex:B++,onClick:this.onClose},o.a.createElement(p.a,{component:"span",content:"transfer.cancel"}))]},o.a.createElement("div",{className:"grid-block vertical no-overflow"},o.a.createElement("div",{className:"content-block",style:{textAlign:"center",fontSize:"18px"}},o.a.createElement(p.a,{content:"listing.modal.header2",wallet_name:Object(D.p)()}),this.props.ticker),this.state.open?o.a.createElement(x.Form,{className:"full-width-wrapper",layout:"vertical"},o.a.createElement(S,{label:"transfer.from",accountName:g,account:n,onChange:this.fromChanged.bind(this),onAccountChanged:this.onFromAccountChanged.bind(this),typeahead:!0,tabIndex:B++,locked:!0,noForm:!0}),o.a.createElement(S,{label:"transfer.to",accountName:f,account:a,onChange:this.toChanged.bind(this),onAccountChanged:this.onToAccountChanged.bind(this),typeahead:!0,tabIndex:B++,locked:!0,noForm:!0}),o.a.createElement(h.a,{label:"transfer.amount",amount:d,onChange:this.onAmountChanged.bind(this),asset:w.length>0&&r?r.get("id"):s||w[0],display_balance:k,tabIndex:B++,allowNaN:!0,locked:!0}),o.a.createElement(I.a,{account:n,transaction:{type:"transfer",options:["price_per_kbyte"],data:{type:"memo",content:b}},onChange:this.onFeeChanged.bind(this),tabIndex:B++})):null))):null}}]),t}(),K=function(e){function t(){return B(this,t),W(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return z(t,o.a.Component),R(t,[{key:"render",value:function(){return o.a.createElement(F,L({},this.props,{ref:this.props.refCallback}))}}]),t}(),q=K=Object(d.a)(K,{listenTo:function(){return[m.a]},getProps:function(e){return{currentAccount:m.a.getState().currentAccount,passwordAccount:m.a.getState().passwordAccount,tabIndex:e.tabIndex||0}}}),M=n(21),V=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var U=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.coin.votes=0,n.state={key:n.props.key,rank:n.props.rank,coin:n.props.coin},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),V(t,[{key:"triggerSend",value:function(e){var t=this;this.setState({send_asset:e},function(){t.send_modal&&t.send_modal.show()})}},{key:"render",value:function(){var e=this;try{this.props.account.get("name")}catch(e){}return o.a.createElement("div",{className:"listingTable__row"},o.a.createElement(q,{id:"send_modal_listing",refCallback:function(t){t&&(e.send_modal=t)},from_name:this.props.currentAccount?this.props.currentAccount:this.props.account,to_name:this.props.coin.account?this.props.coin.account:"",asset_id:"1.3.5588",ticker:this.props.coin.ticker}),o.a.createElement("div",{className:"listingAsset"},o.a.createElement("div",{className:"listingAssetCard"},o.a.createElement("div",{className:"listingTable__cell listingTableRank align-center"},this.props.rank),o.a.createElement("div",{className:"listingTable__cell listingTableLogo"},o.a.createElement("img",{className:"align-center",style:{maxWidth:40},src:"coins-logo/"+this.props.coin.ticker.toLowerCase()+".png",alt:""})),o.a.createElement("div",{className:"listingTable__cell listingTableAssetName align-left nowrap"},this.props.coin.name," (",this.props.coin.ticker,")",!0===this.props.coin.soon?o.a.createElement(p.a,{content:"listing.table.coming_soon",style:{float:"right",color:"gold"}}):"")),o.a.createElement("div",{className:"listingAssetInfo"},o.a.createElement("div",{className:"listingAssetInfoData"},o.a.createElement("div",{className:"listingTable__cell listingTableGoal"},o.a.createElement("div",{className:"listingAssetInfoBlock"},"Goal: "," "),this.props.coin.goal),o.a.createElement("div",{className:"listingTable__cell listingTableVotes"},o.a.createElement("div",{className:"listingAssetInfoBlock"},"Donates: "),this.props.coin.votes,o.a.createElement("a",{onClick:this.triggerSend.bind(this,"1.3.5588",this.props.coin)},o.a.createElement(x.Icon,{name:"transfer",title:"icons.transfer",className:"icon-14px"}),"  Donate")),o.a.createElement("div",{className:"listingTable__cell listingTableStatus"},o.a.createElement("div",{className:"listingAssetInfoBlock"},"Status: "," "),"collecting"===this.props.coin.status?o.a.createElement(p.a,{content:"listing.table.collecting"}):o.a.createElement(p.a,{content:"listing.table.done"}))),o.a.createElement("div",{className:"listingTable__cell listingTableProgress"},o.a.createElement(s,{votes:this.props.coin.votes_for_percent,goal:this.props.coin.goal})))))}}]),t}(),G=U=Object(d.a)(U,{listenTo:function(){return[M.a,m.a]},getProps:function(){return{settings:M.a.getState().settings,currentAccount:m.a.getState().currentAccount||m.a.getState().passwordAccount}}}),J=n(1991),X=n(1993),Q=n(2348),Y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var H=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getContent=function(){return o.a.createElement("div",{className:"listingTable"},o.a.createElement("p",null,o.a.createElement(Q.a,{style:{margin:2,fontSize:"1.0rem"},to:"/market/DONATE_RUDEX.BTC"},o.a.createElement(p.a,{content:"listing.get_donate_tokens"})),o.a.createElement("span",{style:{margin:2,fontSize:"1.0rem"}},o.a.createElement(X.a,{maxWidth:25,replaceNoneToBts:!1,name:"DONATE"}),"DONATE"),o.a.createElement(p.a,{content:"listing.token"})),o.a.createElement("div",{className:"listingTable__header"},o.a.createElement("div",{className:"listingAssetCard"},o.a.createElement("div",{className:"listingTable__cell listingTableRank"},o.a.createElement(p.a,{content:"listing.table.rank"})),o.a.createElement("div",{className:"listingTable__cell listingTableLogo"}),o.a.createElement("div",{className:"listingTable__cell listingTableAssetName align-left"},o.a.createElement(p.a,{content:"listing.table.asset_name"}))),o.a.createElement("div",{className:"listingAssetInfo"},o.a.createElement("div",{className:"listingAssetInfoData"},o.a.createElement("div",{className:"listingTable__cell listingTableVotes"},o.a.createElement(p.a,{content:"listing.table.goal"})),o.a.createElement("div",{className:"listingTable__cell listingTableGoal"},o.a.createElement(p.a,{content:"listing.table.donates"})),o.a.createElement("div",{className:"listingTable__cell listingTableStatus"},o.a.createElement(p.a,{content:"listing.table.status"}))),o.a.createElement("div",{className:"listingTable__cell listingTableProgress"},o.a.createElement(p.a,{content:"listing.table.progress"})))),e.getCoinsList())},e.getCoinsList=function(){return e.state.coins.sort(function(e,t){return t.votes-e.votes}).map(function(e,t){return e.votes_for_percent=e.votes<e.goal?e.votes:e.goal,e.status=e.votes<e.goal?"collecting":"done",o.a.createElement(G,{key:t,rank:t+1,coin:e})})},e.state={ListingNotice1Informed:!1,coins:[]},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),Y(t,[{key:"onSubmitRequest",value:function(e){e.preventDefault(),this.setState({error:null});var t=M.a.getState().settings.get("locale");window.open("ru"==t?"https://docs.google.com/forms/d/1lJnvufc95CDh2z1Ntq7iCSEs3oD7tPG4nljKTYYezQw":"https://docs.google.com/forms/d/1X2PguAaRzxlXZGLAarGcmNd-LbJCy8lcoMBcQjFSQ5k","_blank")}},{key:"onListingNotice1Informed",value:function(){this.setState({ListingNotice1Informed:!this.state.ListingNotice1Informed})}},{key:"render",value:function(){var e=M.a.getState().settings.get("locale"),t=o.a.createElement("span",{style:{fontWeight:"bold"}},"RuDEX");o.a.createElement(Q.a,{style:{margin:2,fontSize:"1.0rem",paddingRight:5},to:"/asset/DONATE"},o.a.createElement(X.a,{maxWidth:25,replaceNoneToBts:!1,name:"DONATE"}),"DONATE");return o.a.createElement("div",{className:"grid-block vertical"},o.a.createElement("div",{className:"grid-content"},o.a.createElement("div",{className:"content-block small-12"},o.a.createElement("div",{className:"tabs-container generic-bordered-box"},o.a.createElement(J.b,{defaultActiveTab:0,segmented:!1,setting:"permissionsTab",className:"account-tabs",tabsClass:"account-overview bordered-header content-block",contentClass:"padding"},o.a.createElement(J.a,{title:"listing.donate_progress"},o.a.createElement("label",{className:"horizontal",tabIndex:0},o.a.createElement("div",{className:"grid-container",style:{padding:"2rem 8px"}},o.a.createElement("div",{style:{marginBottom:20}}),o.a.createElement("div",{className:"grid-block small-up-1 medium-up-1 large-up-1 no-overflow"},0===this.state.coins.length?o.a.createElement("div",{style:{margin:"10px"}},o.a.createElement(p.a,{content:"listing.loading"})," "):this.getContent()))),o.a.createElement("br",null)),o.a.createElement(J.a,{title:"listing.add_coin"},o.a.createElement("label",{className:"horizontal",tabIndex:1}),o.a.createElement("div",{className:"grid-container help-content-layout"},o.a.createElement("div",{className:"main-content"},o.a.createElement("h2",null,o.a.createElement(p.a,{content:"listing.texts.header"})),o.a.createElement("p",{style:{fontSize:"20px"}},o.a.createElement(p.a,{content:"listing.texts.text1"})),o.a.createElement("p",null,o.a.createElement(p.a,{content:"listing.texts.text2"})),o.a.createElement("p",null,o.a.createElement(p.a,{content:"listing.texts.text3.t1"}),o.a.createElement(p.a,{content:"listing.texts.text3.t2"}),o.a.createElement(Q.a,{style:{margin:2,fontSize:"1.0rem"},to:"/market/DONATE_RUDEX.BTC"},o.a.createElement(p.a,{content:"listing.texts.text3.get"})),o.a.createElement(p.a,{content:"listing.texts.text4.t1"}),o.a.createElement(Q.a,{style:{margin:2,fontSize:"1.0rem",paddingRight:5},to:"/asset/DONATE"},o.a.createElement(X.a,{maxWidth:25,replaceNoneToBts:!1,name:"DONATE"}),"DONATE"),".",o.a.createElement(p.a,{content:"listing.texts.text4.t2"}),o.a.createElement(Q.a,{style:{margin:2,fontSize:"1.0rem",paddingRight:5},to:"/asset/DONATE"},o.a.createElement(X.a,{maxWidth:25,replaceNoneToBts:!1,name:"DONATE"}),"DONATE"),o.a.createElement(p.a,{content:"listing.texts.text4.t3"}),o.a.createElement("span",{style:{border:"1px solid #00a9e0",padding:"4px 3px 3px 4px",borderRadius:"3px",cursor:"pointer"}},"DONATE"),o.a.createElement(p.a,{content:"listing.texts.text4.t4"})),o.a.createElement("p",null,o.a.createElement(p.a,{content:"listing.texts.text5.t1"}),o.a.createElement(Q.a,{style:{margin:2,fontSize:"1.0rem",paddingRight:5},to:"/asset/DONATE"},o.a.createElement(X.a,{maxWidth:25,replaceNoneToBts:!1,name:"DONATE"}),"DONATE"),o.a.createElement(p.a,{content:"listing.texts.text5.t2"})),o.a.createElement("p",null,o.a.createElement(p.a,{content:"listing.texts.text5.t3"})),o.a.createElement("h3",null,o.a.createElement(p.a,{content:"listing.texts.rules.header"})),o.a.createElement("ol",null,o.a.createElement("li",null,o.a.createElement(p.a,{content:"listing.texts.rules.rule_1"}),o.a.createElement(p.a,{href:"ru"==e?"https://rudex.freshdesk.com/support/solutions/articles/35000138247-cоглашение-об-оказании-услуг-шлюза":"https://rudex.freshdesk.com/support/solutions/articles/35000138245-gateway-service-agreement",content:"listing.texts.rules.rule_10",component:"a",target:"_blank"}),o.a.createElement(p.a,{content:"listing.texts.rules.rule_11"})),o.a.createElement("li",null,o.a.createElement(p.a,{content:"listing.texts.rules.rule_2"})),o.a.createElement("li",null,o.a.createElement(p.a,{content:"listing.texts.rules.rule_3"}),o.a.createElement(Q.a,{style:{margin:2,fontSize:"1.0rem",paddingRight:5},to:"/asset/DONATE"},o.a.createElement(X.a,{maxWidth:25,replaceNoneToBts:!1,name:"DONATE"}),"DONATE"),o.a.createElement(p.a,{content:"listing.texts.rules.rule_4"})),o.a.createElement("li",null,o.a.createElement(p.a,{content:"listing.texts.rules.rule_5"})))),o.a.createElement("h5",null,o.a.createElement("input",{type:"checkbox",defaultChecked:this.state.ListingNotice1Informed,onChange:this.onListingNotice1Informed.bind(this)})," ","-"," ",o.a.createElement(p.a,{content:"listing.notice_informed"})),o.a.createElement("div",{className:"listing_button"},o.a.createElement(x.Button,{key:"send",disabled:!this.state.ListingNotice1Informed,onClick:this.state.ListingNotice1Informed?this.onSubmitRequest.bind(this):null},o.a.createElement(p.a,{content:"listing.submit_request"}))),o.a.createElement("h3",null,o.a.createElement(p.a,{content:"listing.texts.end"})," ",t,"!"))))))))}},{key:"componentDidMount",value:function(){this._getBalances()}},{key:"_getBalances",value:function(){var e=this,t=Object(D.j)();this.setState({coins:t}),t.forEach(function(t){Object(i.FetchChain)("getAsset","DONATE").then(function(n){r.Apis.instance().db_api().exec("get_named_account_balances",[t.account,[n.get("id")]]).then(function(a){var o=e.state.coins;o.find(function(e){return e.account===t.account}).votes=a[0].amount/Math.pow(10,n.get("precision")),e.setState({coins:o})})})})}}]),t}();t.default=H}}]);
//# sourceMappingURL=listing.js.map