{"version":3,"file":"deposit-withdraw.8df203bfa6f169464338.js","sources":["webpack:///deposit-withdraw.8df203bfa6f169464338.js"],"sourcesContent":["(this.webpackJsonp=this.webpackJsonp||[]).push([[16,7],{1993:function(e,t,a){\"use strict\";var n=a(0),r=a.n(n),o=a(2),s=a.n(o),i=a(36),l=a(2002),c=a(9),u=a.n(c),p=a(5),d=a.n(p),m=a(125),h=a(16),f=a(1),_=a.n(f),g=a(285),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function b(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function w(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,r.a.Component),y(t,[{key:\"shouldComponentUpdate\",value:function(e){return!h.a.are_equal_shallow(e.assets,this.props.assets)||e.value!==this.props.value||e.scroll_length!==this.props.scroll_length}},{key:\"render\",value:function(){return this.props.assets.length?r.a.createElement(l.a,{entries:this.props.assets.map(function(e){return e&&e.get(\"symbol\")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get(\"symbol\")&&(e[t.get(\"symbol\")]=t),e},{}),singleEntry:this.props.assets[0]?r.a.createElement(i.a,{asset:this.props.assets[0].get(\"id\"),amount:0,hide_amount:!0}):null,value:this.props.value,onChange:this.props.onChange,scroll_length:this.props.scroll_length}):null}}]),t}();E.propTypes={value:_.a.string,onChange:_.a.func,scroll_length:_.a.number},E=Object(m.a)(E,{asList:!0});var k=function(e){function t(){return b(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,g[\"a\"]),y(t,[{key:\"componentDidMount\",value:function(){this.onAssetChange(this.props.asset)}},{key:\"formatAmount\",value:function(e){return e||(e=\"\"),\"number\"==typeof e&&(e=e.toString()),e.trim().replace(/,/g,\"\")}},{key:\"_onChange\",value:function(e){this.props.onChange&&this.props.onChange({amount:this.getNumericEventValue(e),asset:this.props.asset})}},{key:\"onAssetChange\",value:function(e){this.props.onChange&&this.props.onChange({amount:this.props.amount,asset:e})}},{key:\"render\",value:function(){var e=this.props.error?d.a.translate(this.props.error):this.formatAmount(this.props.amount);return r.a.createElement(\"div\",{className:\"amount-selector\",style:this.props.style},r.a.createElement(\"label\",{className:\"right-label\"},this.props.display_balance),r.a.createElement(s.a,{className:\"left-label\",component:\"label\",content:this.props.label}),r.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},r.a.createElement(\"input\",{disabled:this.props.disabled,type:\"text\",value:e||\"\",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,onPaste:this.props.onPaste||this.onPaste.bind(this),onKeyPress:this.onKeyPress.bind(this)}),r.a.createElement(\"div\",{className:\"form-label select floating-dropdown\"},this.props.isPrice?r.a.createElement(\"div\",{className:\"dropdown-wrapper inactive\"},r.a.createElement(\"div\",null,this.props.asset.get(\"symbol\"),\"/\",this.props.base)):r.a.createElement(E,{ref:this.props.refCallback,value:this.props.asset.get(\"symbol\"),assets:u.a.List(this.props.assets),onChange:this.onAssetChange.bind(this),scroll_length:this.props.scroll_length}))))}}]),t}();k.propTypes={label:_.a.string,assets:_.a.array,amount:_.a.any,placeholder:_.a.string,onChange:_.a.func,tabIndex:_.a.number,error:_.a.string,scroll_length:_.a.number},k.defaultProps={disabled:!1,tabIndex:0},k=Object(m.a)(k),t.a=k},1996:function(e,t,a){\"use strict\";var n=a(0),r=a.n(n),o=a(340),s=a(44),i=a(47),l=a(9),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function d(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function m(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){p(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getDynamicObject=e.getDynamicObject.bind(e),e}return m(t,r.a.Component),u(t,[{key:\"getDynamicObject\",value:function(e){return this.props.dos.find(function(t){return t&&t.get(\"id\")===e})}},{key:\"render\",value:function(){return r.a.cloneElement(r.a.Children.only(this.props.children),c({},this.props,{getDynamicObject:this.getDynamicObject}))}}]),t}();h.propTypes={dos:s.a.ChainObjectsList},h.defaultProps={dos:Object(l.List)()},h=Object(i.a)(h);var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.propNames=t.propNames||[t.asList?\"assets\":\"asset\"];var a=t.propNames.reduce(function(e,a){return e[a]=t.asList?s.a.ChainAssetsList:s.a.ChainAsset.isRequired,e},{}),n=Object.keys(a).reduce(function(e,a){var n=t.defaultProps&&t.defaultProps[a];return e[a]=t.asList?Object(l.List)(n||[]):n||\"1.3.0\",e},{});t.defaultProps&&t.defaultProps.tempComponent&&(n.tempComponent=t.defaultProps.tempComponent);var f=function(e){function a(){return p(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,r.a.Component),u(a,[{key:\"render\",value:function(){var e=this,a={},n={},o=Object(l.List)();Object.keys(this.props).forEach(function(r){e.props[r]&&-1!==t.propNames.indexOf(r)?(t.withDynamic&&(t.asList?e.props[r].forEach(function(e){e&&(o=o.push(e.get(\"dynamic_asset_data_id\")))}):o=o.push(e.props[r].get(\"dynamic_asset_data_id\"))),a[r]=t.asList?e.props[r].filter(function(e){return!!e}):e.props[r]):n[r]=e.props[r]});var s=r.a.cloneElement(r.a.Children.only(this.props.children),c({},n,a));return t.withDynamic?r.a.createElement(h,{dos:o},s):s}}]),a}();f.propTypes=a,f.defaultProps=n,f=Object(i.a)(f);var _=function(t){function a(){return p(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,r.a.Component),u(a,[{key:\"render\",value:function(){return r.a.createElement(f,this.props,r.a.createElement(e,{ref:\"bound_component\"}))}}]),a}();return _.displayName=\"Wrapper(\"+Object(o.a)(e)+\")\",_},_=a(1),g=a.n(_),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function v(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function w(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function E(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=function(e){function t(e){v(this,t);var a=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={imgError:!1},a}return E(t,r.a.Component),b(t,[{key:\"shouldComponentUpdate\",value:function(e,t){return this.props.asset!==e.asset||this.props.maxWidth!==e.maxWidth||this.props.whiteList!==e.whiteList||this.state.imgError!==t.imgError}},{key:\"_onError\",value:function(e){this.state.imgError||(this.props.replaceNoneToBts?this.refs[e.toLowerCase()].src=\"asset-symbols/bts.png\":this.refs[e.toLowerCase()].remove(),this.setState({imgError:!0}))}},{key:\"render\",value:function(){var e=function(e){return e.get(\"symbol\")}(this.props.asset);return r.a.createElement(\"img\",{ref:e.toLowerCase(),className:\"column-hide-small\",onError:this._onError.bind(this,e),style:{maxWidth:this.props.maxWidth,marginRight:5},src:\"asset-symbols/\"+e.toLowerCase()+\".png\"})}}]),t}();k.propTypes={replaceNoneToBts:g.a.bool,maxWidth:g.a.number},k.defaultProps={replaceNoneToBts:!0,maxWidth:20},k=f(k);var S=function(e){function t(){return v(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,r.a.Component),b(t,[{key:\"render\",value:function(){return r.a.createElement(k,y({},this.props,{asset:this.props.name}))}}]),t}();t.a=S},1998:function(e,t,a){\"use strict\";var n=a(0),r=a.n(n),o=a(5),s=a.n(o),i=a(4),l=(a(2013),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}),c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={pageSize:e.pageSize},a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),u(t,[{key:\"render\",value:function(){var e=this,t=this.state.pageSize,a=this.props,n=a.header,o=a.rows,u=a.extraRow,p=a.loading,d=[10,20,30,40,50,100].filter(function(t){return t<Math.max(e.props.pageSize,o.length)});d.push(Math.max(this.props.pageSize,o.length));var m=null;return null!==this.props.label?m=function(t){return s.a.translate(e.props.label,{count:t})}:\"string\"==typeof this.props.totalLabel?m=function(t){return s.a.translate(e.props.totalLabel,{count:t})}:\"object\"===c(this.props.totalLabel)&&(m=function(t){return s.a.translate(e.props.totalLabel.key,l({count:t},e.props.totalLabel.args))}),r.a.createElement(\"div\",{className:\"paginated-list\",style:this.props.style},r.a.createElement(i.Table,{loading:p,dataSource:o,uns:!0,columns:Array.isArray(n)?n:[],footer:function(){return u||r.a.createElement(\"span\",null,\" \")},onChange:this.props.toggleSortOrder,pagination:{showSizeChanger:!0,hideOnSinglePage:!1,defaultPageSize:t,pageSizeOptions:d.map(function(e){return e.toString()}),showTotal:function(e,t){return m(e)}},rowClassName:null==this.props.rowClassName?void 0:function(t,a){return e.props.rowClassName(t,a)},rowSelection:this.props.rowSelection}),this.props.children)}}]),t}();p.defaultProps={rows:[],pageSize:20,className:\"table\",extraRow:null,style:{paddingBottom:\"1rem\"},loading:!1,totalLabel:\"utility.total_x_items\",label:null},t.a=p},2002:function(e,t,a){\"use strict\";var n=a(0),r=a.n(n),o=a(16),s=a(1),i=a.n(s),l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);e.scroll_length;var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={active:!1},a.listener=!1,a.onBodyClick=a.onBodyClick.bind(a),a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),l(t,[{key:\"componentDidMount\",value:function(){this._setListener()}},{key:\"shouldComponentUpdate\",value:function(e,t){return!o.a.are_equal_shallow(e.entries,this.props.entries)||!o.a.are_equal_shallow(t,this.state)||e.value!==this.props.value}},{key:\"_setListener\",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).entries.length>1&&!this.listener&&(this.listener=!0,document.body.addEventListener(\"click\",this.onBodyClick,{capture:!1,passive:!0}))}},{key:\"_removeListener\",value:function(){document.body.removeEventListener(\"click\",this.onBodyClick),this.listener=!1}},{key:\"componentWillReceiveProps\",value:function(e){1===e.entries.length?this._removeListener():e.entries.length>1&&this._setListener(e)}},{key:\"componentWillUnmount\",value:function(){this._removeListener()}},{key:\"onBodyClick\",value:function(e){var t=e.target,a=!1;do{if(t.classList&&t.classList.contains(\"dropdown\")&&t.id===this.props.id){a=!0;break}}while(t=t.parentNode);a?e.stopPropagation():this.setState({active:!1})}},{key:\"onChange\",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onChange(e),this.setState({active:!1})}},{key:\"_toggleDropdown\",value:function(){this.setState({active:!this.state.active})}},{key:\"render\",value:function(){var e=this,t=this.props,a=t.entries,n=t.value,o=this.state.active;if(0===a.length)return null;if(1==a.length)return r.a.createElement(\"div\",{className:\"dropdown-wrapper inactive\"+(this.props.upperCase?\" upper-case\":\"\")},r.a.createElement(\"div\",null,this.props.singleEntry?this.props.singleEntry:a[0]));var s=a.map(function(t){return r.a.createElement(\"li\",{className:e.props.upperCase?\"upper-case\":\"\",key:t,onClick:e.onChange.bind(e,e.props.values[t])},r.a.createElement(\"span\",null,t))});return r.a.createElement(\"div\",{onClick:this._toggleDropdown.bind(this),className:\"dropdown-wrapper\"+(o?\" active\":\"\")+(this.props.upperCase?\" upper-case\":\"\")},r.a.createElement(\"div\",{style:{paddingRight:15}},n||r.a.createElement(\"span\",{className:\"hidden\"},\"A\")),r.a.createElement(\"ul\",{className:\"dropdown\",style:{overflow:a.length>this.props.scroll_length?\"auto\":\"hidden\"}},s))}}]),t}();c.propTypes={scroll_length:i.a.number},c.defaultProps={scroll_length:9},t.a=c},2013:function(e,t,a){},2044:function(e,t,a){\"use strict\";var n=a(0),r=a.n(n),o=a(2),s=a.n(o),i=a(44),l=a(47),c=a(16),u=a(606),p=a(4),d=a(6),m=a(5),h=a.n(m),f=a(34),_=a(3),g=a.n(_),y=a(1),b=a.n(y),v=a(1998),w=a(41),E=a(2351),k=a(36),S=a(620),C=a(126),A=a(181),x=a(27),N=a(356),O=a.n(N),T=a(415),j=a(378),P=a(66),I=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var M=function(e){var t=e.objectId;if(\"string\"==typeof t){var a=t.split(\".\"),n=a.length;if(n>0)return\"#\"+a[n-1]}return t},D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return I(e,[{key:\"linkToAccount\",value:function(e){return e?c.a.is_object_id(e)?r.a.createElement(C.a,{account:e}):r.a.createElement(E.a,{to:\"/account/\"+e},e):r.a.createElement(\"span\",null,\"-\")}},{key:\"linkToAsset\",value:function(e){return e?c.a.is_object_id(e)?r.a.createElement(A.a,{asset:e}):r.a.createElement(E.a,{to:\"/asset/\"+e},e):r.a.createElement(\"span\",null,\"-\")}},{key:\"getColumn\",value:function(e,t,a,n,o){var i=this,u=d.ChainTypes.operations,m=Object.keys(u),f=O.a.account_listing,_=null,g=\"info\",y=null;switch(m[e[0]]){case\"transfer\":e[1].memo&&(y=r.a.createElement(T.a,{memo:e[1].memo})),g=\"success\",e[1].amount.amount=parseFloat(e[1].amount.amount),_=r.a.createElement(\"span\",{className:\"right-td\"},r.a.createElement(x.a,{string:\"operation.transfer\",keys:[{type:\"account\",value:e[1].from,arg:\"from\"},{type:\"amount\",value:e[1].amount,arg:\"amount\",decimalOffset:\"1.3.0\"===e[1].amount.asset_id?5:null},{type:\"account\",value:e[1].to,arg:\"to\"}]}),y);break;case\"limit_order_create\":g=\"warning\";var b=e[1];_=r.a.createElement(\"span\",null,r.a.createElement(l.a.Wrapper,{base:b.min_to_receive.asset_id,quote:b.amount_to_sell.asset_id},function(t){var a=t.base,s=t.quote,i=P.a.getMarketName(a,s),l=i.marketName,c=i.first,u=i.second,p=o.get(l),d=b.amount_to_sell.asset_id===(p?c.get(\"id\"):u.get(\"id\")),m=d?b.amount_to_sell:b.min_to_receive,h=d?b.min_to_receive:b.amount_to_sell,f=d?e[1].min_to_receive:e[1].amount_to_sell,_=n&&\"string\"==typeof n[1]?\"#\"+n[1].substring(4):\"\";return r.a.createElement(x.a,{string:d?\"operation.limit_order_buy\":\"operation.limit_order_sell\",keys:[{type:\"account\",value:e[1].seller,arg:\"account\"},{type:\"amount\",value:f,arg:\"amount\"},{type:\"price\",value:{base:m,quote:h},arg:\"price\"}],params:{order:_}})}));break;case\"limit_order_cancel\":g=\"cancel\",_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.limit_order_cancel\",keys:[{type:\"account\",value:e[1].fee_paying_account,arg:\"account\"}],params:{order:e[1].order.substring(4)}}));break;case\"call_order_update\":g=\"warning\",_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.call_order_update\",keys:[{type:\"account\",value:e[1].funding_account,arg:\"account\"},{type:\"asset\",value:e[1].delta_debt.asset_id,arg:\"debtSymbol\"},{type:\"amount\",value:e[1].delta_debt,arg:\"debt\"},{type:\"amount\",value:e[1].delta_collateral,arg:\"collateral\"}]}));break;case\"key_create\":_=r.a.createElement(\"span\",null,r.a.createElement(s.a,{component:\"span\",content:\"transaction.create_key\"}));break;case\"account_create\":_=r.a.createElement(x.a,{string:\"operation.reg_account\",keys:[{type:\"account\",value:e[1].registrar,arg:\"registrar\"},{type:\"account\",value:e[1].name,arg:\"new_account\"}]});break;case\"account_update\":_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.update_account\",keys:[{type:\"account\",value:e[1].account,arg:\"account\"}]}));break;case\"account_whitelist\":var v=e[1].new_listing===f.no_listing?\"unlisted_by\":e[1].new_listing===f.white_listed?\"whitelisted_by\":\"blacklisted_by\";_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.\"+v,keys:[{type:\"account\",value:e[1].authorizing_account,arg:\"lister\"},{type:\"account\",value:e[1].account_to_list,arg:\"listee\"}]}));break;case\"account_upgrade\":_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:e[1].upgrade_to_lifetime_member?\"operation.lifetime_upgrade_account\":\"operation.annual_upgrade_account\",keys:[{type:\"account\",value:e[1].account_to_upgrade,arg:\"account\"}]}));break;case\"account_transfer\":_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.account_transfer\",keys:[{type:\"account\",value:e[1].account_id,arg:\"account\"},{type:\"account\",value:e[1].new_owner,arg:\"to\"}]}));break;case\"asset_create\":g=\"warning\",_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.asset_create\",keys:[{type:\"account\",value:e[1].issuer,arg:\"account\"},{type:\"asset\",value:e[1].symbol,arg:\"asset\"}]}));break;case\"asset_update\":case\"asset_update_bitasset\":g=\"warning\",_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.asset_update\",keys:[{type:\"account\",value:e[1].issuer,arg:\"account\"},{type:\"asset\",value:e[1].asset_to_update,arg:\"asset\"}]}));break;case\"asset_update_feed_producers\":g=\"warning\",_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.asset_update_feed_producers\",keys:[{type:\"account\",value:e[1].issuer,arg:\"account\"},{type:\"asset\",value:e[1].asset_to_update,arg:\"asset\"}]}));break;case\"asset_issue\":g=\"warning\",e[1].memo&&(y=r.a.createElement(T.a,{memo:e[1].memo})),e[1].asset_to_issue.amount=parseInt(e[1].asset_to_issue.amount,10),_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.asset_issue\",keys:[{type:\"account\",value:e[1].issuer,arg:\"account\"},{type:\"amount\",value:e[1].asset_to_issue,arg:\"amount\"},{type:\"account\",value:e[1].issue_to_account,arg:\"to\"}]}),y);break;case\"asset_fund_fee_pool\":g=\"warning\",_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.asset_fund_fee_pool\",keys:[{type:\"account\",value:e[1].from_account,arg:\"account\"},{type:\"asset\",value:e[1].asset_id,arg:\"asset\"},{type:\"amount\",value:{amount:e[1].amount,asset_id:\"1.3.0\"},arg:\"amount\"}]}));break;case\"asset_settle\":g=\"warning\";var w=e[1].amount;if(n&&2==n[0]){var S=n[1];_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.asset_settle_instant\",keys:[{type:\"account\",value:e[1].account,arg:\"account\"},{type:\"amount\",value:w,arg:\"amount\"},{type:\"price\",value:{base:w,quote:S},arg:\"price\"}]}))}else _=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.asset_settle\",keys:[{type:\"account\",value:e[1].account,arg:\"account\"},{type:\"amount\",value:e[1].amount,arg:\"amount\"}]}));break;case\"asset_global_settle\":g=\"warning\",_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.asset_global_settle\",keys:[{type:\"account\",value:e[1].issuer,arg:\"account\"},{type:\"asset\",value:e[1].asset_to_settle,arg:\"asset\"},{type:\"price\",value:e[1].settle_price,arg:\"price\"}]}));break;case\"asset_publish_feed\":g=\"warning\",_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.publish_feed\",keys:[{type:\"account\",value:e[1].publisher,arg:\"account\"},{type:\"price\",value:e[1].feed.settlement_price,arg:\"price\"}]}));break;case\"witness_create\":_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.witness_create\",keys:[{type:\"account\",value:e[1].witness_account,arg:\"account\"}]}));break;case\"witness_update\":_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.witness_update\",keys:[{type:\"account\",value:e[1].witness_account,arg:\"account\"}]}));break;case\"witness_withdraw_pay\":console.log(\"witness_withdraw_pay:\",e[1].witness_account),_=t===e[1].witness_account?r.a.createElement(\"span\",null,r.a.createElement(s.a,{component:\"span\",content:\"transaction.witness_pay\"}),\" \",r.a.createElement(k.a,{amount:e[1].amount,asset:\"1.3.0\"}),r.a.createElement(s.a,{component:\"span\",content:\"transaction.to\"}),\" \",this.linkToAccount(e[1].witness_account)):r.a.createElement(\"span\",null,r.a.createElement(s.a,{component:\"span\",content:\"transaction.received\"}),\" \",r.a.createElement(k.a,{amount:e[1].amount,asset:\"1.3.0\"}),r.a.createElement(s.a,{component:\"span\",content:\"transaction.from\"}),\" \",this.linkToAccount(e[1].witness_account));break;case\"proposal_create\":_=r.a.createElement(\"div\",{className:\"inline-block\"},r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.proposal_create\",keys:[{type:\"account\",value:e[1].fee_paying_account,arg:\"account\"},{value:n?r.a.createElement(M,{objectId:n[1]}):\"\",arg:\"proposal\"}]}),\":\"),r.a.createElement(\"div\",null,e[1].proposed_ops.map(function(e,t){return r.a.createElement(j.b,{op:e.op,key:t,index:t,inverted:!1,hideFee:!0,hideOpLabel:!0,hideDate:!0,proposal:!0})})));break;case\"proposal_update\":_=r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.proposal_update\",keys:[{type:\"account\",value:e[1].fee_paying_account,arg:\"account\"},{value:r.a.createElement(M,{objectId:e[1].proposal}),arg:\"proposal\"}]})),r.a.createElement(\"div\",{className:\"proposal-update\"},[\"active_approvals_to_add\",\"active_approvals_to_remove\",\"owner_approvals_to_add\",\"owner_approvals_to_remove\",\"key_approvals_to_add\",\"key_approvals_to_remove\"].map(function(t){return e[1][t].length?r.a.createElement(\"div\",{key:t},r.a.createElement(s.a,{content:\"proposal.updated.\"+t}),r.a.createElement(\"ul\",null,e[1][t].map(function(e){return r.a.createElement(\"li\",{key:e},t.startsWith(\"key\")?e:i.linkToAccount(e))}))):null})));break;case\"proposal_delete\":_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.proposal_delete\",keys:[{type:\"account\",value:e[1].fee_paying_account,arg:\"account\"},{value:r.a.createElement(M,{objectId:e[1].proposal}),arg:\"proposal\"}]}));break;case\"withdraw_permission_create\":_=r.a.createElement(\"span\",null,r.a.createElement(s.a,{component:\"span\",content:\"transaction.withdraw_permission_create\"}),\" \",this.linkToAccount(e[1].withdraw_from_account),r.a.createElement(s.a,{component:\"span\",content:\"transaction.to\"}),\" \",this.linkToAccount(e[1].authorized_account));break;case\"withdraw_permission_update\":_=r.a.createElement(\"span\",null,r.a.createElement(s.a,{component:\"span\",content:\"transaction.withdraw_permission_update\"}),\" \",this.linkToAccount(e[1].withdraw_from_account),r.a.createElement(s.a,{component:\"span\",content:\"transaction.to\"}),\" \",this.linkToAccount(e[1].authorized_account));break;case\"withdraw_permission_claim\":_=r.a.createElement(\"span\",null,r.a.createElement(s.a,{component:\"span\",content:\"transaction.withdraw_permission_claim\"}),\" \",this.linkToAccount(e[1].withdraw_from_account),r.a.createElement(s.a,{component:\"span\",content:\"transaction.to\"}),\" \",this.linkToAccount(e[1].withdraw_to_account));break;case\"withdraw_permission_delete\":_=r.a.createElement(\"span\",null,r.a.createElement(s.a,{component:\"span\",content:\"transaction.withdraw_permission_delete\"}),\" \",this.linkToAccount(e[1].withdraw_from_account),r.a.createElement(s.a,{component:\"span\",content:\"transaction.to\"}),\" \",this.linkToAccount(e[1].authorized_account));break;case\"fill_order\":g=\"success\",b=e[1],_=r.a.createElement(\"span\",null,r.a.createElement(l.a.Wrapper,{base:b.receives.asset_id,quote:b.pays.asset_id},function(t){var a=t.base,n=t.quote,s=P.a.getMarketName(a,n),i=s.marketName,l=s.first,c=s.second,u=o.get(i),p=b.pays.asset_id===(u?l.get(\"id\"):c.get(\"id\")),d=p?b.receives:b.pays,m=p?b.pays:b.receives,h=p?b.receives:b.pays,f=b.fee.asset_id===h.asset_id?h.amount-b.fee.amount:h.amount;return r.a.createElement(x.a,{string:\"operation.fill_order_\"+(p?\"buy\":\"sell\"),keys:[{type:\"account\",value:e[1].account_id,arg:\"account\"},{type:\"amount\",value:{amount:f,asset_id:h.asset_id},arg:\"amount\"},{type:\"price\",value:{base:d,quote:m},arg:\"price\"}],params:{order:b.order_id.substring(4)}})}));break;case\"global_parameters_update\":_=r.a.createElement(\"span\",null,r.a.createElement(s.a,{component:\"span\",content:\"transaction.global_parameters_update\"}));break;case\"vesting_balance_create\":_=r.a.createElement(\"span\",null,\" \",this.linkToAccount(e[1].creator),r.a.createElement(s.a,{component:\"span\",content:\"transaction.vesting_balance_create\"}),\" \",r.a.createElement(k.a,{amount:e[1].amount.amount,asset:e[1].amount.asset_id}),\" \",this.linkToAccount(e[1].owner));break;case\"vesting_balance_withdraw\":_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.vesting_balance_withdraw\",keys:[{type:\"account\",value:e[1].owner,arg:\"account\"},{type:\"amount\",value:e[1].amount,arg:\"amount\"}]}));break;case\"worker_create\":_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.worker_create\",keys:[{type:\"account\",value:e[1].owner,arg:\"account\"},{type:\"amount\",value:{amount:e[1].daily_pay,asset_id:\"1.3.0\"},arg:\"pay\"}],params:{name:e[1].name}}));break;case\"balance_claim\":g=\"success\",e[1].total_claimed.amount=parseInt(e[1].total_claimed.amount,10),_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.balance_claim\",keys:[{type:\"account\",value:e[1].deposit_to_account,arg:\"account\"},{type:\"amount\",value:e[1].total_claimed,arg:\"amount\"}]}));break;case\"committee_member_create\":_=r.a.createElement(\"span\",null,r.a.createElement(s.a,{component:\"span\",content:\"transaction.committee_member_create\"}),\" \",this.linkToAccount(e[1].committee_member_account));break;case\"transfer_to_blind\":_=r.a.createElement(\"span\",null,this.linkToAccount(e[1].from),\" \",r.a.createElement(s.a,{component:\"span\",content:\"transaction.sent\"}),\" \",r.a.createElement(k.a,{amount:e[1].amount.amount,asset:e[1].amount.asset_id}));break;case\"transfer_from_blind\":_=r.a.createElement(\"span\",null,this.linkToAccount(e[1].to),\" \",r.a.createElement(s.a,{component:\"span\",content:\"transaction.received\"}),\" \",r.a.createElement(k.a,{amount:e[1].amount.amount,asset:e[1].amount.asset_id}));break;case\"asset_claim_fees\":g=\"success\",e[1].amount_to_claim.amount=parseInt(e[1].amount_to_claim.amount,10),_=r.a.createElement(\"span\",null,this.linkToAccount(e[1].issuer),\" \",r.a.createElement(l.a.Wrapper,{asset:e[1].amount_to_claim.asset_id},function(t){var a=t.asset;return r.a.createElement(x.a,{string:\"transaction.asset_claim_fees\",keys:[{type:\"amount\",value:e[1].amount_to_claim,arg:\"balance_amount\"},{type:\"asset\",value:a.get(\"id\"),arg:\"asset\"}]})}));break;case\"custom\":_=r.a.createElement(\"span\",null,r.a.createElement(s.a,{component:\"span\",content:\"transaction.custom\"}));break;case\"asset_reserve\":_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.asset_reserve\",keys:[{type:\"account\",value:e[1].payer,arg:\"account\"},{type:\"amount\",value:e[1].amount_to_reserve,arg:\"amount\"}]}));break;case\"committee_member_update_global_parameters\":console.log(\"committee_member_update_global_parameters op:\",e),_=r.a.createElement(\"span\",null,r.a.createElement(x.a,{string:\"operation.committee_member_update_global_parameters\",keys:[{type:\"account\",value:\"1.2.0\",arg:\"account\"}]}));break;case\"override_transfer\":_=r.a.createElement(x.a,{string:\"operation.override_transfer\",keys:[{type:\"account\",value:e[1].issuer,arg:\"issuer\"},{type:\"account\",value:e[1].from,arg:\"from\"},{type:\"account\",value:e[1].to,arg:\"to\"},{type:\"amount\",value:e[1].amount,arg:\"amount\"}]});break;case\"asset_settle_cancel\":_=r.a.createElement(x.a,{string:\"operation.asset_settle_cancel\",keys:[{type:\"account\",value:e[1].account,arg:\"account\"},{type:\"amount\",value:e[1].amount,arg:\"amount\"}]});break;case\"asset_claim_pool\":_=r.a.createElement(x.a,{string:\"operation.asset_claim_pool\",keys:[{type:\"account\",value:e[1].issuer,arg:\"account\"},{type:\"asset\",value:e[1].asset_id,arg:\"asset\"},{type:\"amount\",value:e[1].amount_to_claim,arg:\"amount\"}]});break;case\"asset_update_issuer\":_=r.a.createElement(x.a,{string:\"operation.asset_update_issuer\",keys:[{type:\"account\",value:e[1].issuer,arg:\"from_account\"},{type:\"account\",value:e[1].new_issuer,arg:\"to_account\"},{type:\"asset\",value:e[1].asset_to_update,arg:\"asset\"}]});break;case\"bid_collateral\":_=r.a.createElement(x.a,{string:\"operation.bid_collateral\",keys:[{type:\"account\",value:e[1].bidder,arg:\"bid_account\"},{type:\"amount\",value:e[1].additional_collateral,arg:\"collateral\"},{type:\"amount\",value:e[1].debt_covered,arg:\"debt\"}]});break;case\"htlc_create\":var C=d.ChainStore.getObject(\"2.0.0\"),A=d.ChainStore.getObject(\"2.1.0\"),N=c.a.calc_block_time(a,C,A),I=!1;N||(N=c.a.calc_block_time(a,C,A,!0),I=!0),e[1].amount.amount=parseFloat(e[1].amount.amount);var D=new Date;D.setTime(N.getTime()+1e3*e[1].claim_period_seconds),_=r.a.createElement(r.a.Fragment,null,r.a.createElement(\"span\",{className:\"right-td\"},r.a.createElement(x.a,{string:\"operation.htlc_create\",keys:[{type:\"date\",arg:\"lock_period\",value:D},{type:\"account\",value:e[1].from,arg:\"from\"},{type:\"amount\",value:e[1].amount,arg:\"amount\"},{type:\"account\",value:e[1].to,arg:\"to\"}]}),r.a.createElement(p.Tooltip,{title:\"Estimated\"},I?\"*\":\"\")),r.a.createElement(\"div\",{className:\"memo\",style:{paddingTop:5,cursor:\"help\"}},r.a.createElement(p.Tooltip,{placement:\"bottom\",title:h.a.translate(\"htlc.preimage_hash_explanation\")},r.a.createElement(\"span\",{className:\"inline-block\"},h.a.translate(\"htlc.preimage_hash\")+\" (\"+e[1].preimage_size+\", \"+e[1].preimage_hash[0]+\"): \"+e[1].preimage_hash[1]))));break;case\"htlc_redeem\":g=\"success\",_=r.a.createElement(r.a.Fragment,null,r.a.createElement(\"span\",{className:\"right-td\"},r.a.createElement(x.a,{string:\"operation.htlc_redeem\",keys:[{type:\"account\",value:e[1].redeemer,arg:\"redeemer\"},{value:e[1].htlc_id,arg:\"htlc_id\"}]})),r.a.createElement(\"div\",{className:\"memo\",style:{paddingTop:5,cursor:\"help\"}},r.a.createElement(p.Tooltip,{placement:\"bottom\",title:h.a.translate(\"htlc.preimage_explanation\")},r.a.createElement(\"span\",{className:\"inline-block\"},h.a.translate(\"htlc.preimage\")+\": \"+e[1].preimage))));break;case\"htlc_extend\":_=r.a.createElement(\"span\",{className:\"right-td\"},r.a.createElement(x.a,{string:\"operation.htlc_extend\",keys:[{type:\"account\",value:e[1].update_issuer,arg:\"update_issuer\"},{type:\"amount\",arg:\"seconds_to_add\",value:e[1].seconds_to_add},{value:e[1].htlc_id,arg:\"htlc_id\"}]}));break;case\"htlc_redeemed\":_=r.a.createElement(\"span\",{className:\"right-td\"},r.a.createElement(x.a,{string:\"operation.htlc_redeemed\",keys:[{type:\"account\",value:e[1].to,arg:\"to\"},{type:\"account\",value:e[1].from,arg:\"from\"},{type:\"amount\",value:e[1].amount,arg:\"amount\",decimalOffset:\"1.3.0\"===e[1].amount.asset_id?5:null},{value:e[1].htlc_id,arg:\"htlc_id\"}]}));break;case\"htlc_refund\":g=\"warning\",_=r.a.createElement(\"span\",{className:\"right-td\"},r.a.createElement(x.a,{string:\"operation.htlc_refund\",keys:[{value:e[1].htlc_id,arg:\"htlc_id\"},{type:\"account\",value:e[1].to,arg:\"to\"}]}));break;default:console.log(\"unimplemented op '\"+m[e[0]]+\"':\",e),_=r.a.createElement(\"span\",null,r.a.createElement(E.a,{to:\"/block/\"+a},\"#\",a))}return{column:_,color:g}}}]),e}(),B=a(21),R=a(30),L=a(9),W=a.n(L),F=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var H=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),F(t,[{key:\"shouldComponentUpdate\",value:function(e){return!W.a.is(this.props.dynGlobalObject,e.dynGlobalObject)}},{key:\"render\",value:function(){var e=this.props,t=e.blockNumber,a=e.dynGlobalObject.get(\"last_irreversible_block_num\");return t>a?r.a.createElement(\"span\",null,\" - \",\"(\",r.a.createElement(s.a,{content:\"operation.pending\",blocks:t-a}),\")\"):null}}]),t}();H.propTypes={blockNumber:b.a.number.isRequired,dynGlobalObject:i.a.ChainObject.isRequired},H.defaultProps={dynGlobalObject:\"2.1.0\"};var q=Object(l.a)(H),V=a(379),U=a(2048),K=a.n(U),G=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var z=d.ChainTypes.operations,X=Object.keys(z),J=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return G(e,[{key:\"pad\",value:function(e,t){for(var a=\"\"+e;a.length<t;)a=\"0\"+a;return a}},{key:\"formatDate\",value:function(e){return(\"0\"+e.getDate()).slice(-2)+\".\"+(\"0\"+(e.getMonth()+1)).slice(-2)+\".\"+e.getFullYear()+\" \"+(\"0\"+e.getHours()).slice(-2)+\":\"+(\"0\"+e.getMinutes()).slice(-2)+\":\"+(\"0\"+e.getSeconds()).slice(-2)+\" GMT\"+(e.getTimezoneOffset()<0?\"+\":\"-\")+this.pad(parseInt(Math.floor(Math.abs(e.getTimezoneOffset()/60))),2)+this.pad(Math.abs(e.getTimezoneOffset()%60),2)}},{key:\"generateCSV\",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then(function(e){n(\"next\",e)},function(e){n(\"throw\",e)});e(i)}(\"next\")})}}(regeneratorRuntime.mark(function e(t,a,n){var r,o,s,i,l,c,u,p,m,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=0,o=150,s=t[0].get(\"id\"),e.next=4,Object(d.FetchChain)(\"getAccount\",s);case 4:i=e.sent.get(\"name\"),l={};case 6:return e.next=9,this._getAccountHistoryES(s,o,r,a);case 9:if((c=e.sent).length){e.next=12;break}return e.abrupt(\"break\",20);case 12:return e.next=14,K.a.resolveBlockTimes(c);case 14:return e.next=16,K.a.resolveAssets(c);case 16:c.map(function(e){var t=e.id,a=X[e.op.type],n=e.op.data;if(n){switch(a){case\"vesting_balance_withdraw\":case\"transfer\":n.amount||(n.amount=n.amount_)}l[t]={timestamp:new Date(e.block_time),type:a,data:n}}}),r+=c.length,e.next=6;break;case 20:if(Object.keys(l).length){e.next=22;break}return e.abrupt(\"return\");case 22:if(u=void 0,\"FULL\"===n)for(p in u=[],l)u.push([p,l[p]]);else l=K.a.groupEntries(l),u=K.a.parseData(l,s,i);m=this.dataToCSV(u,n),h=new Date,Object(V.saveAs)(m,\"bitshares-account-history-\"+i+\"-\"+h.getFullYear()+\"-\"+(\"0\"+(h.getMonth()+1)).slice(-2)+\"-\"+(\"0\"+h.getDate()).slice(-2)+\"-\"+(\"0\"+h.getHours()).slice(-2)+(\"0\"+h.getMinutes()).slice(-2)+\".csv\"),console.log(\"Export file generated\");case 28:case\"end\":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:\"_getAccountHistoryES\",value:function(e,t,a,n){var r=\"get_account_history\";-1===n.indexOf(\"explorer\")&&-1===n.indexOf(\"api\")||(r=\"es/account_history\");var o=n+\"/\"+r+\"?account_id=\"+e+\"&from_=\"+a+\"&size=\"+t+\"&sort_by=block_data.block_time&type=data&agg_field=operation_type\";return console.log(\"query\",o),new Promise(function(e,t){fetch(o).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){var t=e.operation_history.op_object;return t||(t=JSON.parse(e.operation_history.op)[1]),{id:e.account_history.operation_id,op:{type:e.operation_type,data:t},result:JSON.parse(e.operation_history.operation_result),block_num:e.block_data.block_num,block_time:e.block_data.block_time+\"Z\"}});e(a)}).catch(function(e){t(e)})})}},{key:\"dataToCSV\",value:function(e,t){var a=\"\",n=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var l=s.value;\"COINBASE\"===t?(l.length>=11&&l[10]instanceof Date&&(l[10]=this.formatDate(l[10])),a+=l.join(\",\")+\"\\n\"):a+=JSON.stringify(l)+\"\\n\"}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return new Blob([a],{type:\"text/csv;charset=utf-8\"})}}]),e}(),Q=a(49);a.d(t,\"a\",function(){return se}),a.d(t,\"b\",function(){return ie});var Y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function Z(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function $(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function ee(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var te=d.ChainTypes.operations,ae=Object.keys(te),ne=new D,re=p.Select.Option;function oe(e,t){return t.block_num===e.block_num?t.trx_in_block!==e.trx_in_block?t.trx_in_block-e.trx_in_block:t.op_in_trx!==e.op_in_trx?t.op_in_trx-e.op_in_trx:t.virtual_op-e.virtual_op:t.block_num-e.block_num}var se=function(e){function t(e){Z(this,t);var a=$(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.closeJSONModal=function(){a.setState({visibleId:\"\"})},a.state={limit:e.limit,fetchingAccountHistory:!1,headerHeight:85,filter:\"all\",accountHistoryError:!1,rows:[],showModal:!1,esNodeCustom:!1,esNode:Q.g.ES_WRAPPER_LIST.length>0?Q.g.ES_WRAPPER_LIST[0].url:null,visibleId:\"\"},a.getDataSource=a.getDataSource.bind(a),a.useCustom=h.a.translate(\"account.export_modal.use_custom\"),a.showExportModal=a.showExportModal.bind(a),a.hideExportModal=a.hideExportModal.bind(a),a.esNodeChange=a.esNodeChange.bind(a),a._generateCSV=a._generateCSV.bind(a),a}return ee(t,r.a.Component),Y(t,[{key:\"componentDidMount\",value:function(){if(!this.props.fullHeight){this.refs.transactions;this._setHeaderHeight()}}},{key:\"esNodeChange\",value:function(e){var t=null;(t=e.target?e.target.value:e)==this.useCustom?this.setState({esNode:\"\",esNodeCustom:!0}):this.setState({esNode:t})}},{key:\"showExportModal\",value:function(){this.setState({showModal:!0})}},{key:\"hideExportModal\",value:function(){this.setState({showModal:!1})}},{key:\"_setHeaderHeight\",value:function(){var e=this.refs.header.offsetHeight;e!==this.state.headerHeight&&this.setState({headerHeight:e})}},{key:\"shouldComponentUpdate\",value:function(e,t){if(!c.a.are_equal_shallow(this.props.accountsList,e.accountsList))return!0;if(this.props.maxHeight!==e.maxHeight)return!0;if(this.state.headerHeight!==t.headerHeight)return!0;if(this.state.filter!==t.filter)return!0;if(this.props.customFilter&&(!c.a.are_equal_shallow(this.props.customFilter.fields,e.customFilter.fields)||!c.a.are_equal_shallow(this.props.customFilter.values,e.customFilter.values)))return!0;if(this.props.maxHeight!==e.maxHeight)return!0;if(t.limit!==this.state.limit||t.fetchingAccountHistory!==this.state.fetchingAccountHistory)return!0;for(var a=0;a<e.accountsList.length;++a){var n=e.accountsList[a],r=this.props.accountsList[a];if(n&&r&&n.get(\"history\")!==r.get(\"history\"))return!0}return this.state.showModal!==t.showModal||(this.state.esNode!==t.esNode||(this.state.esNodeCustom!==t.esNodeCustom||this.state.visibleId!==t.visibleId))}},{key:\"_onIncreaseLimit\",value:function(){this.setState({limit:this.state.limit+30})}},{key:\"_getHistory\",value:function(e,t,a){var n=[],r=new Set,o=!0,s=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u){var p=u.get(\"history\");p&&(n=n.concat(p.toJS().filter(function(e){return!r.has(e.id)&&r.add(e.id)})))}}}catch(e){s=!0,i=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw i}}return t&&(n=n.filter(function(e){return e.op[0]===te[t]})),a&&(n=n.filter(function(e){return a.fields.reduce(function(t,n){switch(n){case\"asset_id\":return t&&e.op[1].amount[n]===a.values[n];default:return t&&e.op[1][n]===a.values[n]}},!0)})),n}},{key:\"_generateCSV\",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then(function(e){n(\"next\",e)},function(e){n(\"throw\",e)});e(i)}(\"next\")})}}(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,a=new J,this.setState({fetchingAccountHistory:!0,showModal:!1}),e.next=6,a.generateCSV(this.props.accountsList,this.state.esNode,t);case 6:this.setState({fetchingAccountHistory:!1,accountHistoryError:null}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),this.setState({fetchingAccountHistory:!1,accountHistoryError:e.t0,esNodeCustom:!1,esNode:Q.g.ES_WRAPPER_LIST[0].url});case 13:case\"end\":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:\"_onChangeFilter\",value:function(e){this.setState({filter:e})}},{key:\"openJSONModal\",value:function(e){this.setState({visibleId:e})}},{key:\"getDataSource\",value:function(e,t){var a=this,o=e.op[1].fee,s=h.a.translate(\"transaction.trxTypes\"),i=ne.getColumn(e.op,t,e.block_num,e.result,this.props.marketDirections);o.amount=parseInt(o.amount,10);var l=d.ChainStore.getObject(\"2.1.0\").get(\"last_irreversible_block_num\");return{key:e.id,id:r.a.createElement(n.Fragment,null,r.a.createElement(\"span\",{className:\"cursor-pointer\",onClick:function(){return a.openJSONModal(e.id)}},e.id,\" \",r.a.createElement(p.Icon,{type:\"file-search\"})),r.a.createElement(u.a,{visible:this.state.visibleId===e.id,operation:e.op,title:s[ae[e.op[0]]||\"\"],hideModal:this.closeJSONModal})),type:r.a.createElement(E.a,{className:\"inline-block\",\"data-place\":\"bottom\",\"data-tip\":h.a.translate(\"tooltip.show_block\",{block:c.a.format_number(e.block_num,0)}),to:\"/block/\"+e.block_num+\"/\"+e.trx_in_block},r.a.createElement(\"span\",{className:g()(\"label\",i.color||\"info\")},s[ae[e.op[0]]])),info:r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,i.column)),r.a.createElement(\"div\",{style:{fontSize:14,paddingTop:5}},e.block_num>l?r.a.createElement(q,{blockNumber:e.block_num}):null)),fee:r.a.createElement(k.a,{amount:o.amount,asset:o.asset_id}),time:r.a.createElement(S.a,{block_number:e.block_num,fullDate:!0})}}},{key:\"render\",value:function(){var e=this,t=this.props,a=t.accountsList,n=t.compactView,o=t.filter,i=t.customFilter,l=t.style,c=(t.maxHeight,this.state),u=c.limit,d=(c.headerHeight,1===a.length&&a[0]?a[0].get(\"id\"):null),m=this._getHistory(a,this.props.showFilters&&\"all\"!==this.state.filter?this.state.filter:o,i).sort(oe),_=m.length;l=l||{width:\"100%\",height:\"100%\"};var g=null;g=[\"all\",\"transfer\",\"limit_order_create\",\"limit_order_cancel\",\"fill_order\",\"account_create\",\"account_update\",\"asset_create\",\"witness_withdraw_pay\",\"vesting_balance_withdraw\"].map(function(e){return r.a.createElement(re,{value:e,key:e},h.a.translate(\"transaction.trxTypes.\"+e))});var y=m.length?m.slice(0,u).map(function(t){return e.getDataSource(t,d)}):[],b=r.a.createElement(\"div\",{className:\"total-value\",key:\"total_value\"},r.a.createElement(\"span\",{style:{textAlign:\"center\"}},\" \")),E=r.a.createElement(\"div\",null,r.a.createElement(p.Button,{onClick:function(){return e._generateCSV(\"FULL\")},type:\"primary\"},r.a.createElement(s.a,{content:\"account.export_modal.full_report\"})),r.a.createElement(p.Button,{onClick:function(){return e._generateCSV(\"COINBASE\")},type:\"primary\"},r.a.createElement(s.a,{content:\"account.export_modal.coinbase_report\"})));return r.a.createElement(\"div\",{className:\"recent-transactions no-overflow\",style:l},r.a.createElement(p.Modal,{wrapClassName:\"modal--transaction-confirm\",title:r.a.createElement(s.a,{content:\"account.export_modal.title\"}),visible:this.state.showModal,id:\"transaction_confirm_modal\",ref:\"modal\",footer:E,overlay:!0,onCancel:this.hideExportModal,noCloseBtn:!0},r.a.createElement(\"p\",null,r.a.createElement(s.a,{content:\"account.export_modal.description\"})),this.state.esNodeCustom?r.a.createElement(p.Input,{type:\"text\",value:this.state.esNode,onChange:this.esNodeChange}):r.a.createElement(p.Select,{showSearch:!0,value:this.state.esNode,onChange:this.esNodeChange,style:{width:\"100%\"}},Q.g.ES_WRAPPER_LIST.concat([{url:this.useCustom}]).map(function(e){return r.a.createElement(p.Select.Option,{key:e.url},e.url)}))),r.a.createElement(\"div\",{className:\"generic-bordered-box\"},this.props.dashboard?null:r.a.createElement(\"div\",{ref:\"header\"},r.a.createElement(\"div\",{className:\"block-content-header\"},r.a.createElement(\"span\",null,this.props.title?this.props.title:r.a.createElement(s.a,{content:\"account.recent\"})))),r.a.createElement(\"div\",{className:\"header-selector\"},r.a.createElement(\"div\",{className:\"filter inline-block\"},this.props.showFilters?r.a.createElement(p.Tooltip,{placement:\"bottom\",title:h.a.translate(\"tooltip.filter_ops\")},r.a.createElement(p.Select,{style:{width:\"210px\"},value:this.state.filter,onChange:this._onChangeFilter.bind(this)},g)):null,_>0&&this.props.dashboard&&null!==this.state.esNode?r.a.createElement(p.Tooltip,{placement:\"bottom\",title:h.a.translate(\"transaction.csv_tip\")},r.a.createElement(\"a\",{className:\"inline-block iconLinkAndLabel\",onClick:this.showExportModal,style:{marginLeft:\"1rem\"}},r.a.createElement(f.a,{name:\"excel\",size:\"1x\"}),r.a.createElement(s.a,{content:\"account.download_history\"}))):null),this.state.accountHistoryError&&r.a.createElement(\"div\",{className:\"has-error\",style:{paddingLeft:\"0.75rem\"}},r.a.createElement(s.a,{content:\"account.history_error\"}))),r.a.createElement(v.a,{withTransition:!0,className:\"table table-striped \"+(n?\"compact\":\"\")+(this.props.dashboard?\" dashboard-table table-hover\":\"\"),header:[{title:r.a.createElement(s.a,{content:\"account.transactions.id\"}),dataIndex:\"id\",align:\"left\",render:function(e){return r.a.createElement(\"span\",{style:{whiteSpace:\"nowrap\"}},e)}},n?{}:{title:r.a.createElement(s.a,{content:\"account.transactions.type\"}),dataIndex:\"type\",align:\"left\"},{title:r.a.createElement(s.a,{content:\"account.transactions.info\"}),dataIndex:\"info\",align:\"left\",render:function(e){return r.a.createElement(\"span\",{style:{whiteSpace:\"nowrap\"}},e)}},{title:r.a.createElement(s.a,{content:\"account.transactions.fee\"}),dataIndex:\"fee\",align:\"left\",render:function(e){return r.a.createElement(\"span\",{style:{whiteSpace:\"nowrap\"}},e)}},{title:r.a.createElement(s.a,{style:{whiteSpace:\"nowrap\"},content:\"account.transactions.time\"}),dataIndex:\"time\",render:function(e){return r.a.createElement(\"span\",{style:{whiteSpace:\"nowrap\"}},e)}}],rows:y,label:\"utility.total_x_operations\",extraRow:b}),this.state.fetchingAccountHistory&&r.a.createElement(w.a,null)))}}]),t}();se.propTypes={accountsList:i.a.ChainAccountsList.isRequired,compactView:b.a.bool,limit:b.a.number,maxHeight:b.a.number,fullHeight:b.a.bool,showFilters:b.a.bool},se.defaultProps={limit:25,maxHeight:500,fullHeight:!1,showFilters:!1},se=Object(l.a)(se),se=Object(R.a)(se,{listenTo:function(){return[B.a]},getProps:function(){return{marketDirections:B.a.getState().marketDirections}}});var ie=function(e){function t(){return Z(this,t),$(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ee(t,r.a.Component),Y(t,[{key:\"render\",value:function(){return r.a.createElement(\"span\",{className:\"wrapper\"},this.props.children(this.props))}}]),t}();ie.propTypes={asset:i.a.ChainAsset.isRequired,to:i.a.ChainAccount.isRequired,fromAccount:i.a.ChainAccount.isRequired},ie.defaultProps={asset:\"1.3.0\"},ie=Object(l.a)(ie)},2089:function(e,t,a){\"use strict\";a.d(t,\"b\",function(){return s}),a.d(t,\"c\",function(){return i}),a.d(t,\"a\",function(){return l});var n=a(58),r=a(49),o=new n.a(\"\");function s(e){var t=e.inputCoinType,a=e.outputCoinType,n=e.outputAddress,o=e.url,s=void 0===o?r.f.BASE:o,i=e.stateCallback,l={inputCoinType:t,outputCoinType:a,outputAddress:n},c=JSON.stringify(l);fetch(s+r.f.NEW_DEPOSIT_ADDRESS,{method:\"post\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\"}),body:c}).then(function(e){e.json().then(function(e){var t={address:e.inputAddress||\"unknown\",memo:e.inputMemo,error:e.error||null};i&&i(t)},function(e){i&&i({address:\"unknown\",memo:null})})},function(e){i&&i({address:\"unknown\",memo:null})}).catch(function(e){console.log(\"fetch error:\",e)})}function i(e){var t=e.url,a=void 0===t?r.f.BASE:t,n=e.walletType,o=e.newAddress;return o?fetch(a+\"/wallets/\"+n+\"/check-address\",{method:\"post\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\"}),body:JSON.stringify({address:o})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(e){console.log(\"validate error:\",e)}):new Promise(function(e){return e()})}var l={has:function(e){return o.has(\"history_address_\"+e)},set:function(e){var t=e.wallet,a=e.addresses;o.set(\"history_address_\"+t,a)},get:function(e){return o.get(\"history_address_\"+e,[])},setLast:function(e){var t=e.wallet,a=e.address;o.set(\"history_address_last_\"+t,a)},getLast:function(e){return o.get(\"history_address_last_\"+e,\"\")}}},2211:function(e,t,a){\"use strict\";(function(e){var n=a(1991),r=a(0),o=a.n(r),s=a(2),i=a.n(s),l=a(44),c=a(47),u=a(16),p=a(371),d=a(5),m=a.n(d),h=a(1993),f=a(42),_=a(2089),g=a(30),y=a(21),b=a(6),v=a(210),w=a(40),E=a(1),k=a.n(E),S=a(4),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var A=function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={isConfirmationModalVisible:!1,withdraw_amount:t.props.amount_to_withdraw,withdraw_address:_.a.getLast(e.output_wallet_type),withdraw_address_check_in_progress:!0,withdraw_address_is_valid:null,options_is_valid:!1,confirmation_is_valid:!1,withdraw_address_selected:_.a.getLast(e.output_wallet_type),withdraw_publicKey:\"\",withdraw_publicKey_not_empty:!t.props.output_supportsPublicKey,memo:\"\",withdraw_address_first:!0,empty_withdraw_value:!1,from_account:e.account,fee_asset_id:b.ChainStore.assets_by_symbol.get(e.fee_asset_symbol)||\"1.3.0\",feeStatus:{}},t._validateAddress(t.state.withdraw_address,e),t._checkBalance=t._checkBalance.bind(t),t._checkMinAmount=t._checkMinAmount.bind(t),t._updateFee=Object(n.a)(t._updateFee.bind(t),250),t.showConfirmationModal=t.showConfirmationModal.bind(t),t.hideConfirmationModal=t.hideConfirmationModal.bind(t),t}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o.a.Component),C(a,[{key:\"componentWillMount\",value:function(){this._updateFee(),this._checkFeeStatus()}},{key:\"componentWillUnmount\",value:function(){this.unMounted=!0}},{key:\"componentWillReceiveProps\",value:function(e){var t=this;e.account!==this.state.from_account&&e.account!==this.props.account&&this.setState({from_account:e.account,feeStatus:{},feeAmount:new w.a({amount:0})},function(){t._updateFee(),t._checkFeeStatus()})}},{key:\"showConfirmationModal\",value:function(){this.setState({isConfirmationModalVisible:!0})}},{key:\"hideConfirmationModal\",value:function(){this.setState({isConfirmationModalVisible:!1})}},{key:\"_updateFee\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,a=t.fee_asset_id,n=t.from_account,r=this._getAvailableAssets(t).fee_asset_types;if(1===r.length&&r[0]!==a&&(a=r[0]),!n)return null;Object(v.b)({accountID:n.get(\"id\"),feeID:a,options:[\"price_per_kbyte\"],data:{type:\"memo\",content:this.props.output_coin_type+\":\"+t.withdraw_address+(t.memo?\":\"+t.memo:\"\")}}).then(function(t){var a=t.fee,n=t.hasBalance,r=t.hasPoolBalance;e.unMounted||e.setState({feeAmount:a,hasBalance:n,hasPoolBalance:r,error:!n||!r},e._checkBalance)})}},{key:\"_checkFeeStatus\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,a=t.from_account;if(a){var n=this._getAvailableAssets(t).fee_asset_types,r={},o=[];n.forEach(function(n){o.push(Object(v.b)({accountID:a.get(\"id\"),feeID:n,options:[\"price_per_kbyte\"],data:{type:\"memo\",content:e.props.output_coin_type+\":\"+t.withdraw_address+(t.memo?\":\"+t.memo:\"\")}}))}),Promise.all(o).then(function(a){n.forEach(function(e,t){r[e]=a[t]}),u.a.are_equal_shallow(t.feeStatus,r)||e.setState({feeStatus:r}),e._checkBalance()}).catch(function(e){console.error(e)})}}},{key:\"onMemoChanged\",value:function(e){this.setState({memo:e.target.value},this._updateFee)}},{key:\"onWithdrawAmountChange\",value:function(e){var t=e.amount;this.setState({withdraw_amount:t,empty_withdraw_value:void 0!==t&&!parseFloat(t)},function(){this._checkBalance,this._checkMinAmount()})}},{key:\"onSelectChanged\",value:function(e){var t=_.a.get(this.props.output_wallet_type)[e];_.a.setLast({wallet:this.props.output_wallet_type,address:t}),this.setState({withdraw_address_selected:t,options_is_valid:!1,withdraw_address:t,withdraw_address_check_in_progress:!0,withdraw_address_is_valid:null},this._updateFee),this._validateAddress(t)}},{key:\"onWithdrawAddressChanged\",value:function(e){var t=e.target.value.trim();this.setState({withdraw_address:t,withdraw_address_check_in_progress:!0,withdraw_address_selected:t,withdraw_address_is_valid:null},this._updateFee),this._validateAddress(t)}},{key:\"onWithdrawPublicKeyChanged\",value:function(e){var t=e.target.value.trim();this.setState({withdraw_publicKey:t,withdraw_publicKey_not_empty:\"\"!=t})}},{key:\"_validateAddress\",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;Object(_.c)({url:a.url,walletType:a.output_wallet_type,newAddress:e}).then(function(a){void 0===a&&(a={isValid:!1}),t.state.withdraw_address===e&&t.setState({withdraw_address_check_in_progress:!1,withdraw_address_is_valid:a.isValid,withdraw_publicKey:a.hasOwnProperty(\"publicKey\")?a.publicKey:\"\",withdraw_publicKey_not_empty:!t.props.output_supportsPublicKey||!!a.hasOwnProperty(\"publicKey\")})})}},{key:\"_checkBalance\",value:function(){var e=this.state,t=e.feeAmount,a=e.withdraw_amount,n=this.props,r=n.asset,o=n.balance;if(o&&t){var s=Object(v.a)(a,r,t,o);if(null!==s)return this.setState({balanceError:!s}),s}}},{key:\"_checkMinAmount\",value:function(){var e=this.state.withdraw_amount;if(null!==e){var t=e<this.props.min_amount/u.a.get_asset_precision(this.props.asset_precision);return this.setState({minAmountError:t}),t}}},{key:\"onSubmit\",value:function(){if(!this.state.withdraw_address_check_in_progress&&this.state.withdraw_address&&this.state.withdraw_address.length&&null!==this.state.withdraw_amount)if(this.state.withdraw_address_is_valid)if(parseFloat(this.state.withdraw_amount)>0){if(_.a.has(this.props.output_wallet_type)){var t=_.a.get(this.props.output_wallet_type);-1==t.indexOf(this.state.withdraw_address)&&(t.push(this.state.withdraw_address),_.a.set({wallet:this.props.output_wallet_type,addresses:t}))}else{var a=[];a.push(this.state.withdraw_address),_.a.set({wallet:this.props.output_wallet_type,addresses:a})}_.a.setLast({wallet:this.props.output_wallet_type,address:this.state.withdraw_address});var n=this.props.asset,r=this.state,o=r.feeAmount,s=r.fee_asset_id,i=parseFloat(String.prototype.replace.call(this.state.withdraw_amount,/,/g,\"\")),l=new w.a({asset_id:n.get(\"id\"),precision:n.get(\"precision\"),real:i});f.a.transfer(this.props.account.get(\"id\"),this.props.issuer.get(\"id\"),l.getAmount(),n.get(\"id\"),this.props.output_coin_type+\":\"+this.state.withdraw_address+(this.props.output_supportsPublicKey?\":\"+this.state.withdraw_publicKey:\"\")+(this.state.memo?\":\"+new e(this.state.memo,\"utf-8\"):\"\"),null,o?o.asset_id:s),this.setState({empty_withdraw_value:!1})}else this.setState({empty_withdraw_value:!0});else this.showConfirmationModal()}},{key:\"onSubmitConfirmation\",value:function(){if(this.hideConfirmationModal(),_.a.has(this.props.output_wallet_type)){var t=_.a.get(this.props.output_wallet_type);-1==t.indexOf(this.state.withdraw_address)&&(t.push(this.state.withdraw_address),_.a.set({wallet:this.props.output_wallet_type,addresses:t}))}else{var a=[];a.push(this.state.withdraw_address),_.a.set({wallet:this.props.output_wallet_type,addresses:a})}_.a.setLast({wallet:this.props.output_wallet_type,address:this.state.withdraw_address});var n=this.props.asset,r=u.a.get_asset_precision(n.get(\"precision\")),o=String.prototype.replace.call(this.state.withdraw_amount,/,/g,\"\"),s=this.state,i=s.feeAmount,l=s.fee_asset_id;f.a.transfer(this.props.account.get(\"id\"),this.props.issuer.get(\"id\"),parseInt(o*r,10),n.get(\"id\"),this.props.output_coin_type+\":\"+this.state.withdraw_address+(this.props.output_supportsPublicKey?\":\"+this.state.withdraw_publicKey:\"\")+(this.state.memo?\":\"+new e(this.state.memo,\"utf-8\"):\"\"),null,i?i.asset_id:l)}},{key:\"onDropDownList\",value:function(){_.a.has(this.props.output_wallet_type)&&(!1===this.state.options_is_valid&&(this.setState({options_is_valid:!0}),this.setState({withdraw_address_first:!1})),!0===this.state.options_is_valid&&this.setState({options_is_valid:!1}))}},{key:\"getWithdrawModalId\",value:function(){return\"confirmation\"}},{key:\"onAccountBalance\",value:function(){var e=this.state.feeAmount;if(Object.keys(this.props.account.get(\"balances\").toJS()).includes(this.props.asset.get(\"id\"))){var t=new w.a({amount:this.props.balance.get(\"balance\"),asset_id:this.props.asset.get(\"id\"),precision:this.props.asset.get(\"precision\")});t.asset_id===e.asset_id&&t.minus(e),this.setState({withdraw_amount:t.getAmount({real:!0}),empty_withdraw_value:!1},this._checkBalance)}}},{key:\"setNestedRef\",value:function(e){this.nestedRef=e}},{key:\"onFeeChanged\",value:function(e){var t=e.asset;this.setState({fee_asset_id:t.get(\"id\")},this._updateFee)}},{key:\"_getAvailableAssets\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,t=e.from_account,a=e.feeStatus;var n=[];if(!t||!t.get(\"balances\"))return{fee_asset_types:n};var r=e.from_account.get(\"balances\").toJS();for(var o in n=Object.keys(r).sort(u.a.sortID),r){var s=b.ChainStore.getObject(o),i=b.ChainStore.getObject(r[o]);if(i&&0===i.get(\"balance\")&&-1!==n.indexOf(o)&&n.splice(n.indexOf(o),1),s){var l=!1;try{l=new w.i({base:new w.a(s.getIn([\"options\",\"core_exchange_rate\",\"base\"]).toJS()),quote:new w.a(s.getIn([\"options\",\"core_exchange_rate\",\"quote\"]).toJS())}).isValid()}catch(e){l=!1}\"1.3.0\"===s.get(\"id\")||l||n.splice(n.indexOf(o),1)}}return{fee_asset_types:n=n.filter(function(e){return function(e){return void 0===a[e]||a[e]&&a[e].hasPoolBalance}(e)&&function(e){return void 0===a[e]||a[e]&&a[e].hasBalance}(e)})}}},{key:\"render\",value:function(){var e=this.state,t=e.withdraw_address_selected,a=e.withdraw_publicKey,n=e.memo,r=_.a.get(this.props.output_wallet_type),s=null,l=this.props.account.get(\"balances\").toJS(),c=Object.keys(l),d=(this.getWithdrawModalId(),null),f=null,g=null;this.state.options_is_valid&&(f=o.a.createElement(\"div\",{className:r.length?\"rudex-options\":\"rudex-disabled-options\"},r.map(function(e,t){return o.a.createElement(\"a\",{key:t,onClick:this.onSelectChanged.bind(this,t)},e)},this))),!this.state.withdraw_address_check_in_progress&&this.state.withdraw_address&&this.state.withdraw_address.length&&(this.state.withdraw_address_is_valid||(d=o.a.createElement(\"div\",{className:\"has-error\",style:{paddingTop:10}},o.a.createElement(i.a,{content:\"gateway.valid_address\",coin_type:this.props.output_coin_type})),g=o.a.createElement(S.Modal,{closable:!1,footer:[o.a.createElement(S.Button,{key:\"submit\",type:\"primary\",onClick:this.onSubmitConfirmation.bind(this)},m.a.translate(\"modal.confirmation.accept\")),o.a.createElement(S.Button,{key:\"cancel\",style:{marginLeft:\"8px\"},onClick:this.hideConfirmationModal},m.a.translate(\"modal.confirmation.cancel\"))],visible:this.state.isConfirmationModalVisible,onCancel:this.hideConfirmationModal},o.a.createElement(\"label\",null,o.a.createElement(i.a,{content:\"modal.confirmation.title\"})))));var y=1,b=null;this.props.output_supports_memos&&(b=o.a.createElement(\"div\",{className:\"content-block\"},o.a.createElement(\"label\",null,o.a.createElement(i.a,{component:\"span\",content:\"transfer.memo\"})),o.a.createElement(\"textarea\",{rows:\"3\",value:n,tabIndex:y++,onChange:this.onMemoChanged.bind(this)})));var v=this._getAvailableAssets().fee_asset_types;if(c.length>0){var w=this.props.asset.get(\"id\");if(w){var E=l[w];s=o.a.createElement(\"span\",{style:{borderBottom:\"#A09F9F 1px dotted\",cursor:\"pointer\"}},o.a.createElement(i.a,{component:\"span\",content:\"transfer.available\"}),\" : \",o.a.createElement(\"span\",{className:\"set-cursor\",onClick:this.onAccountBalance.bind(this)},E?o.a.createElement(p.a,{balance:l[w]}):0))}else s=\"No funds\"}else s=\"No funds\";return o.a.createElement(\"form\",{className:\"grid-block vertical full-width-content\",style:{paddingTop:\"0px\"}},o.a.createElement(\"div\",{className:\"grid-container\"},o.a.createElement(\"div\",{className:\"content-block\"},o.a.createElement(h.a,{label:\"modal.withdraw.amount\",amount:this.state.withdraw_amount,asset:this.props.asset.get(\"id\"),assets:[this.props.asset.get(\"id\")],placeholder:\"0.0\",onChange:this.onWithdrawAmountChange.bind(this),display_balance:s}),this.state.empty_withdraw_value?o.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},o.a.createElement(i.a,{content:\"transfer.errors.valid\"})):null,this.state.balanceError?o.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},o.a.createElement(i.a,{content:\"transfer.errors.insufficient\"})):null,this.state.minAmountError?o.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},o.a.createElement(i.a,{content:\"gateway.rudex.min_amount_error\"})):null,o.a.createElement(\"p\",{className:\"no-margin\",style:{paddingTop:10}},o.a.createElement(\"b\",null,o.a.createElement(i.a,{content:\"gateway.rudex.min_amount\",minAmount:u.a.format_number(this.props.min_amount/u.a.get_asset_precision(this.props.asset_precision),this.props.asset_precision,!1),symbol:this.props.output_coin_symbol})))),this.state.feeAmount?o.a.createElement(\"div\",{className:\"content-block gate_fee\"},o.a.createElement(h.a,{refCallback:this.setNestedRef.bind(this),disabled:!0,amount:this.state.feeAmount.getAmount({real:!0}),onChange:this.onFeeChanged.bind(this),asset:this.state.feeAmount.asset_id,assets:v,tabIndex:y++}),this.state.hasBalance?null:o.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},o.a.createElement(i.a,{content:\"transfer.errors.noFeeBalance\"})),this.state.hasPoolBalance?null:o.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},o.a.createElement(i.a,{content:\"transfer.errors.noPoolBalance\"}))):null,this.props.gateFee?o.a.createElement(\"div\",{className:\"amount-selector right-selector\",style:{paddingBottom:20}},o.a.createElement(\"label\",{className:\"left-label\"},o.a.createElement(i.a,{content:\"gateway.fee\"})),o.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},o.a.createElement(\"input\",{type:\"text\",disabled:!0,value:this.props.gateFee}),o.a.createElement(\"div\",{className:\"form-label select floating-dropdown\"},o.a.createElement(\"div\",{className:\"dropdown-wrapper inactive\"},o.a.createElement(\"div\",null,this.props.output_coin_symbol))))):null,o.a.createElement(\"div\",{className:\"content-block\"},o.a.createElement(\"label\",{className:\"left-label\"},o.a.createElement(i.a,{component:\"span\",content:\"modal.withdraw.address\"})),o.a.createElement(\"div\",{className:\"rudex-select-dropdown\"},o.a.createElement(\"div\",{className:\"inline-label\"},o.a.createElement(\"input\",{type:\"text\",value:t,tabIndex:\"4\",onChange:this.onWithdrawAddressChanged.bind(this),autoComplete:\"off\"}),o.a.createElement(\"span\",{onClick:this.onDropDownList.bind(this)},\"▼\"))),o.a.createElement(\"div\",{className:\"rudex-position-options\"},f),d),this.props.output_supportsPublicKey?o.a.createElement(\"div\",{className:\"content-block\"},o.a.createElement(\"label\",{className:\"left-label\"},o.a.createElement(i.a,{component:\"span\",content:\"modal.withdraw.public_key\"})),o.a.createElement(\"div\",{className:\"rudex-select-dropdown\"},o.a.createElement(\"div\",{className:\"inline-label\"},o.a.createElement(\"input\",{type:\"text\",value:a,tabIndex:\"5\",onChange:this.onWithdrawPublicKeyChanged.bind(this),onInput:this.onWithdrawPublicKeyChanged.bind(this),autoComplete:\"off\"})))):null,b,o.a.createElement(\"div\",null,o.a.createElement(S.Button,{disabled:this.state.error||this.state.balanceError||this.state.minAmountError||!this.state.withdraw_publicKey_not_empty,type:\"primary\",onClick:this.onSubmit.bind(this)},m.a.translate(\"modal.withdraw.submit\")),o.a.createElement(S.Button,{onClick:this.props.hideModal,style:{marginLeft:\"8px\"}},m.a.translate(\"account.perm.cancel\"))),g))}}]),a}();A.propTypes={account:l.a.ChainAccount.isRequired,issuer:l.a.ChainAccount.isRequired,asset:l.a.ChainAsset.isRequired,output_coin_name:k.a.string.isRequired,output_coin_symbol:k.a.string.isRequired,output_coin_type:k.a.string.isRequired,url:k.a.string,output_wallet_type:k.a.string,output_supports_memos:k.a.bool.isRequired,output_supportsPublicKey:k.a.bool.isRequired,amount_to_withdraw:k.a.string,balance:l.a.ChainObject,min_amount:k.a.number,gateFee:k.a.number},A=Object(c.a)(A),t.a=Object(g.a)(A,{listenTo:function(){return[y.a]},getProps:function(e){return{fee_asset_symbol:y.a.getState().settings.get(\"fee_asset\")}}})}).call(this,a(124).Buffer)},2228:function(e,t){},2229:function(e,t){},2365:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),o=a(30),s=a(102),i=a(106),l=a(16),c=a(2),u=a.n(c),p=a(44),d=a(47),m=a(592),h=a(23),f=a(21),_=a(22),g=a(6),y=a(11),b=a.n(y),v=a(1),w=a.n(v),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._handleCopy=a._handleCopy.bind(a),a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),E(t,[{key:\"componentDidMount\",value:function(){this.childRef&&(this.node=b.a.findDOMNode(this.childRef)),this.node&&this.node.addEventListener&&this.node.addEventListener(\"copy\",this._handleCopy)}},{key:\"componentWillUnmount\",value:function(){this.node&&this.node.removeEventListener&&this.node.removeEventListener(\"copy\",this._handleCopy)}},{key:\"_handleCopy\",value:function(e){!1!==this.props.disableCopy&&(this.props.replaceCopyText&&e.clipboardData.setData(\"text/plain\",this.props.replaceCopyText),e.preventDefault())}},{key:\"render\",value:function(){var e=this;return r.a.createElement(\"span\",{ref:function(t){return e.childRef=t}},this.props.children)}}]),t}();k.propTypes={disableCopy:w.a.bool,replaceCopyText:w.a.string};var S=k,C=a(2211),A=a(98),x=a(371),N=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),N(t,[{key:\"render\",value:function(){var e=this.props.asset.get(\"id\"),t=this.props.account.getIn([\"balances\",e]);return t?r.a.createElement(x.a,{balance:t,replace:this.props.replace}):r.a.createElement(\"span\",null,\"0 \",r.a.createElement(A.a,{name:this.props.asset.get(\"symbol\"),replace:this.props.replace}))}}]),t}();O.propTypes={account:p.a.ChainAccount.isRequired,asset:p.a.ChainAsset.isRequired},O.defaultProps={autosubscribe:!1};var T=Object(d.a)(O),j=a(20),P=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.current_rudex_address_cache_version_string=\"1\"}return P(e,[{key:\"getIndexForDepositKeyInExchange\",value:function(e,t,a){return[this.current_rudex_address_cache_version_string,e,t,a].reduce(function(e,t){return e.concat(\"[\",t,\"]\")},\"\")}},{key:\"getCachedInputAddress\",value:function(e,t,a,n){var r=j.a.getWallet();if(!r)return null;r.deposit_keys=r.deposit_keys||{},r.deposit_keys[e]=r.deposit_keys[e]||{};var o=this.getIndexForDepositKeyInExchange(t,a,n);r.deposit_keys[e][o]=r.deposit_keys[e][o]||[];var s=r.deposit_keys[e][o].length;return s?r.deposit_keys[e][o][s-1]:null}},{key:\"cacheInputAddress\",value:function(e,t,a,n,r,o){var s=j.a.getWallet();if(!s)return null;s.deposit_keys=s.deposit_keys||{},s.deposit_keys[e]=s.deposit_keys[e]||{};var i=this.getIndexForDepositKeyInExchange(t,a,n);s.deposit_keys[e][i]=s.deposit_keys[e][i]||[],s.deposit_keys[e][i].push({address:r,memo:o}),j.a._updateWallet()}}]),e}(),M=a(2089),D=a(126),B=a(5),R=a.n(B),L=a(2212),W=a.n(L),F=a(4),H=a(89),q=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var V=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.deposit_address_cache=new I,a.state={isModalVisible:!1,receive_address:null},a.addDepositAddress=a.addDepositAddress.bind(a),a.showModal=a.showModal.bind(a),a.hideModal=a.hideModal.bind(a),a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),q(t,[{key:\"showModal\",value:function(){this.setState({isModalVisible:!0})}},{key:\"hideModal\",value:function(){this.setState({isModalVisible:!1})}},{key:\"_getDepositObject\",value:function(){return{inputCoinType:this.props.deposit_coin_type,outputCoinType:this.props.receive_coin_type,outputAddress:this.props.account.get(\"name\"),stateCallback:this.addDepositAddress}}},{key:\"addDepositAddress\",value:function(e){var t=this.props.account.get(\"name\");this.deposit_address_cache.cacheInputAddress(this.props.gateway,t,this.props.deposit_coin_type,this.props.receive_coin_type,e.address,e.memo),this.setState({account_name:t}),this.setState({receive_address:e})}},{key:\"getWithdrawModalId\",value:function(){return\"withdraw_asset_\"+this.props.issuer_account.get(\"name\")+\"_\"+this.props.receive_asset.get(\"symbol\")}},{key:\"onWithdraw\",value:function(){this.showModal()}},{key:\"render\",value:function(){var e=r.a.createElement(\"div\",{style:{display:\"none\",minHeight:150}});if(!this.props.account||!this.props.issuer_account||!this.props.receive_asset)return e;var t=this.props.account.get(\"balances\");if(this.props.deprecated_in_favor_of){var a=!1,n=t.get(this.props.receive_asset.get(\"id\"));if(n){var o=g.ChainStore.getObject(n);if(o)0!=o.get(\"balance\")&&(a=!0)}if(!a)return e}var s=this.state.receive_address;if(!s){var i=this.props.account.get(\"name\");s=this.deposit_address_cache.getCachedInputAddress(this.props.gateway,i,this.props.deposit_coin_type,this.props.receive_coin_type)}var c=null;this.props.confirmations&&this.props.confirmations.type&&(\"irreversible\"===this.props.confirmations.type?c=r.a.createElement(u.a,{content:\"gateway.gateway_deposit.confirmations.last_irreversible\"}):\"blocks\"===this.props.confirmations.type&&this.props.confirmations.value&&(c=r.a.createElement(u.a,{content:\"gateway.gateway_deposit.confirmations.n_blocks\",blocks:this.props.confirmations.value})));var p=this.getWithdrawModalId(),d=null,m=null,h=\"\",f=void 0,_=void 0;if(H.b.RUDEX.simpleAssetGateway&&this.props.deposit_account)d=r.a.createElement(\"span\",null,this.props.deposit_account),h=this.props.deposit_account,f=this.props.memoType&&\"btsid\"===this.props.memoType?H.b.RUDEX.fixedMemo.prepend_btsid+this.props.account.get(\"id\").replace(\"1.2.\",\"\")+H.b.RUDEX.fixedMemo.append:H.b.RUDEX.fixedMemo.prepend_default+this.props.account.get(\"name\")+H.b.RUDEX.fixedMemo.append,m=r.a.createElement(\"span\",null,f),_=this.props.deposit_coin_type+\":\";else{if(!s&&!this.props.supportsMemos)return Object(M.b)(this._getDepositObject()),e;s.memo?(f=s.memo,h=s.address,d=r.a.createElement(\"span\",null,s.address),m=r.a.createElement(\"span\",null,s.memo)):(h=s.address,d=r.a.createElement(\"span\",null,s.address)),_=\"\"}return\"deposit\"===this.props.action?r.a.createElement(\"div\",{className:\"rudex__gateway grid-block no-padding no-margin\"},r.a.createElement(\"div\",{className:\"small-12 medium-5\"},r.a.createElement(u.a,{component:\"h4\",content:\"gateway.deposit_summary\"}),r.a.createElement(\"div\",{className:\"small-12 medium-10\"},r.a.createElement(\"table\",{className:\"table\"},r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.asset_to_deposit\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},this.props.deposit_asset)),r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.asset_to_receive\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(A.a,{name:this.props.receive_asset.get(\"symbol\"),replace:!1}))),r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.intermediate\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(D.a,{account:this.props.issuer_account.get(\"id\")}))),r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.your_account\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(D.a,{account:this.props.account.get(\"id\")}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(u.a,{content:\"gateway.balance\"}),\":\"),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(T,{account:this.props.account.get(\"name\"),asset:this.props.receive_asset.get(\"symbol\"),replace:!1}))))))),r.a.createElement(\"div\",{className:\"small-12 medium-7\"},r.a.createElement(u.a,{component:\"h4\",content:\"gateway.deposit_inst\"}),r.a.createElement(\"label\",{className:\"left-label\"},r.a.createElement(u.a,{content:\"gateway.deposit_to\",asset:this.props.deposit_asset}),\":\"),r.a.createElement(\"label\",{className:\"left-label\"},r.a.createElement(\"b\",null,r.a.createElement(u.a,{content:\"gateway.rudex.min_amount\",minAmount:l.a.format_number(this.props.min_amount/l.a.get_asset_precision(this.props.asset_precision),this.props.asset_precision,!1),symbol:this.props.deposit_coin_type}))),c?r.a.createElement(\"span\",null,\"(\",r.a.createElement(\"i\",null,c),\")\"):null,r.a.createElement(\"div\",{style:{padding:\"10px 0\",fontSize:\"1.1rem\"}},r.a.createElement(\"table\",{className:\"table\"},r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"ADDRESS:\",\" \",r.a.createElement(\"b\",null,r.a.createElement(S,{replaceCopyText:R.a.translate(\"gateway.use_copy_button\")},d)))),m?r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(S,{replaceCopyText:R.a.translate(\"gateway.use_copy_button\")},\"MEMO: \",r.a.createElement(\"b\",null,m)))):null)),r.a.createElement(\"div\",{className:\"button-group\",style:{paddingTop:10}},d?r.a.createElement(W.a,{text:h},r.a.createElement(\"div\",{className:\"button\"},\"Copy address\")):null,f?r.a.createElement(W.a,{text:f},r.a.createElement(\"div\",{className:\"button\"},\"Copy memo\")):null)))):r.a.createElement(\"div\",{className:\"rudex__gateway grid-block no-padding no-margin\"},r.a.createElement(\"div\",{className:\"small-12 medium-5\"},r.a.createElement(u.a,{component:\"h4\",content:\"gateway.withdraw_summary\"}),r.a.createElement(\"div\",{className:\"small-12 medium-10\"},r.a.createElement(\"table\",{className:\"table\"},r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.asset_to_withdraw\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(A.a,{name:this.props.receive_asset.get(\"symbol\"),replace:!1}))),r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.asset_to_receive\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},this.props.deposit_asset)),r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.intermediate\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(D.a,{account:this.props.issuer_account.get(\"id\")}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(u.a,{content:\"gateway.balance\"}),\":\"),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(T,{account:this.props.account.get(\"name\"),asset:this.props.receive_asset.get(\"symbol\"),replace:!1}))))))),r.a.createElement(\"div\",{className:\"small-12 medium-7\"},r.a.createElement(u.a,{component:\"h4\",content:\"gateway.withdraw_inst\"}),r.a.createElement(\"label\",{className:\"left-label\"},r.a.createElement(u.a,{content:\"gateway.withdraw_to\",asset:this.props.deposit_asset}),\":\"),r.a.createElement(\"div\",{className:\"button-group\",style:{paddingTop:20}},r.a.createElement(\"button\",{className:\"button success\",style:{fontSize:\"1.3rem\"},onClick:this.onWithdraw.bind(this)},r.a.createElement(u.a,{content:\"gateway.withdraw_now\"}),\" \"))),r.a.createElement(F.Modal,{onCancel:this.hideModal,title:R.a.translate(\"gateway.withdraw_coin\",{coin:this.props.deposit_asset_name,symbol:this.props.deposit_asset}),footer:null,visible:this.state.isModalVisible},r.a.createElement(C.a,{hideModal:this.hideModal,showModal:this.showModal,account:this.props.account.get(\"name\"),issuer:this.props.issuer_account.get(\"name\"),asset:this.props.receive_asset.get(\"symbol\"),output_coin_name:this.props.deposit_asset_name,output_coin_symbol:this.props.deposit_asset,output_coin_type:this.props.deposit_coin_type,output_wallet_type:this.props.deposit_wallet_type,output_supports_memos:this.props.supports_output_memos,output_supportsPublicKey:this.props.supportsPublicKey,memo_prefix:_,modal_id:p,min_amount:this.props.min_amount,gateFee:this.props.gateFee,asset_precision:this.props.asset_precision,balance:this.props.account.get(\"balances\").toJS()[this.props.receive_asset.get(\"id\")]})))}}]),t}();V.propTypes={gateway:w.a.string,deposit_coin_type:w.a.string,deposit_asset_name:w.a.string,deposit_account:w.a.string,receive_coin_type:w.a.string,account:p.a.ChainAccount,issuer_account:p.a.ChainAccount,deposit_asset:w.a.string,deposit_wallet_type:w.a.string,receive_asset:p.a.ChainAsset,deprecated_in_favor_of:p.a.ChainAsset,deprecated_message:w.a.string,action:w.a.string,supports_output_memos:w.a.bool.isRequired,supportsPublicKey:w.a.bool.isRequired,memoType:w.a.string,min_amount:w.a.number,gateFee:w.a.number,confirmations:w.a.object,asset_precision:w.a.number};var U=Object(d.a)(V),K=a(1996),G=a(2044),z=a(9),X=a.n(z),J=(a(3),a(41)),Q=a(2047),Y=(a(1985),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}());var Z=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={activeCoin:a._getActiveCoin(e,{action:\"deposit\"}),action:e.viewSettings.get(\"rudexAction\",\"deposit\")},a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),Y(t,[{key:\"_getActiveCoin\",value:function(e,t){var a=e.viewSettings.get(\"activeCoin_rudex\",null),n=a||\"PPY\";return\"withdraw\"===t.action&&(n=this._findCoinByName(e,n).symbol),n}},{key:\"componentWillReceiveProps\",value:function(e){e.provider!==this.props.provider&&this.setState({activeCoin:this._getActiveCoin(e,this.state.action)})}},{key:\"onSelectCoin\",value:function(e){this.setState({activeCoin:e.value});var t={},a=e.value;\"withdraw\"===this.state.action&&(a=this._findCoinBySymbol(this.props,a).backingCoin),t.activeCoin_rudex=a,_.a.changeViewSetting(t)}},{key:\"_findCoinByName\",value:function(e,t){for(var a=0;a<e.coins.length;a++){var n=e.coins[a];if(n.backingCoin.toUpperCase()===t)return n}return e.coins[0]}},{key:\"_findCoinBySymbol\",value:function(e,t){for(var a=0;a<e.coins.length;a++){var n=e.coins[a];if(n.symbol.toUpperCase()===t)return n}return null}},{key:\"changeAction\",value:function(e){var t=this._getActiveCoin(this.props,{action:e});this.setState({action:e,activeCoin:t}),_.a.changeViewSetting(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},\"rudexAction\",e))}},{key:\"render\",value:function(){var e=this,t=this.props,a=t.coins,n=t.account,o=this.state,s=o.activeCoin,i=o.action;if(!a.length)return r.a.createElement(J.a,null);var l=a.filter(function(e){return!(!e||!e.symbol)&&(\"deposit\"===i?e.depositAllowed:e.withdrawalAllowed)}),c=l.map(function(e){var t=\"deposit\"===i?e.backingCoin.toUpperCase():e.symbol,a=t.replace(\"RUDEX.\",\"\"),n=\"PPY\"===a?\"\":\"RUDEX.\";return{value:t,label:r.a.createElement(\"div\",null,r.a.createElement(K.a,{replaceNoneToBts:!1,maxWidth:20,name:n+a}),t.replace(\"RUDEX.\",\"\"))}}).filter(function(e){return null!==e}),p=l.filter(function(e){return\"deposit\"===i?e.backingCoin.toUpperCase()===s:e.symbol===s})[0];p||(p=l[0]);var d=\"deposit\"===this.state.action;return r.a.createElement(\"div\",{style:this.props.style},r.a.createElement(\"div\",{className:\"grid-block no-margin vertical medium-horizontal no-padding\"},r.a.createElement(\"div\",{className:\"medium-4\"},r.a.createElement(\"div\",null,r.a.createElement(\"label\",{style:{minHeight:\"2rem\"},className:\"left-label\"},r.a.createElement(u.a,{content:\"gateway.choose_\"+i}),\":\",\" \"),r.a.createElement(Q.a,{onChange:this.onSelectCoin.bind(this),clearable:!1,searchable:!1,value:s,options:c}))),r.a.createElement(\"div\",{className:\"medium-6 medium-offset-1\"},r.a.createElement(\"label\",{style:{minHeight:\"2rem\"},className:\"left-label\"},r.a.createElement(u.a,{content:\"gateway.gateway_text\"}),\":\"),r.a.createElement(\"div\",{style:{paddingBottom:15}},r.a.createElement(\"ul\",{className:\"button-group segmented no-margin\"},r.a.createElement(\"li\",{className:\"deposit\"===i?\"is-active\":\"\"},r.a.createElement(\"a\",{onClick:this.changeAction.bind(this,\"deposit\")},r.a.createElement(u.a,{content:\"gateway.deposit\"}))),r.a.createElement(\"li\",{className:\"withdraw\"===i?\"is-active\":\"\"},r.a.createElement(\"a\",{onClick:this.changeAction.bind(this,\"withdraw\")},r.a.createElement(u.a,{content:\"gateway.withdraw\"}))))))),p?r.a.createElement(\"div\",null,r.a.createElement(\"div\",{style:{marginBottom:15}},r.a.createElement(U,{key:\"\"+p.symbol,gateway:p.gatewayWallet,issuer_account:p.issuer,account:n,deposit_asset:p.backingCoin.toUpperCase(),deposit_asset_name:p.name,deposit_coin_type:p.backingCoin.toLowerCase(),deposit_account:p.gatewayWallet,deposit_wallet_type:p.walletType,receive_asset:p.symbol,receive_coin_type:p.symbol.toLowerCase(),supports_output_memos:p.supportsMemos,supportsPublicKey:p.supportsPublicKey||!1,memoType:p.memoType,min_amount:p.minAmount,gateFee:p.gateFee,asset_precision:p.precision,confirmations:p.confirmations,action:this.state.action}),r.a.createElement(\"label\",{className:\"left-label\"},\"Support\"),r.a.createElement(\"div\",null,r.a.createElement(u.a,{content:\"gateway.rudex.support_block\"}),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"a\",{href:\"https://rudex.freshdesk.com\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"external-link\"},\"https://rudex.freshdesk.com\"))),p&&p.symbol?r.a.createElement(G.b,{asset:p.symbol,fromAccount:d?p.issuerId:this.props.account.get(\"id\"),to:d?this.props.account.get(\"id\"):p.issuerId},function(t){var a=t.asset,n=t.to,o=t.fromAccount;return r.a.createElement(G.a,{accountsList:X.a.List([e.props.account.get(\"id\")]),limit:10,compactView:!0,fullHeight:!0,filter:\"transfer\",title:r.a.createElement(u.a,{content:\"gateway.recent_\"+e.state.action}),customFilter:{fields:[\"to\",\"from\",\"asset_id\"],values:{to:n.get(\"id\"),from:o.get(\"id\"),asset_id:a.get(\"id\")}}})}):null):null)}}]),t}(),$=Object(o.a)(Z,{listenTo:function(){return[f.a]},getProps:function(){return{viewSettings:f.a.getState().viewSettings}}}),ee=a(153),te=a(375),ae=a(58),ne=a(49),re=new ae.a(\"\"),oe={},se=1e4;function ie(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return 1==t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return le(e,ne.c.BASE+ne.c.DEPOSIT_RECORD_LIST,t)}(e,a):2==t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return le(e,ne.c.BASE+ne.c.WITHDRAW_RECORD_LIST,t)}(e,a):new Promise(function(e){return e()})}function le(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return-1==a?ce(e,t,se):0==a?function(e,t){e.requestChannel||(e.requestChannel=0);e.version||(e.version=\"1.0\");e.timestamp||(e.timestamp=(new Date).getTime());e.outerChannel||(e.outerChannel=\"Bitshares\");var a=JSON.stringify(e);if(oe[a])return;oe[a]=!0,new Promise(function(e,n){fetch(t,{method:\"post\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\"}),body:a}).then(function(t){t.json().then(function(t){delete oe[a],0!==t.code&&(console.log(t),n({code:t.code,message:t.message})),e(t.data)}).catch(function(e){delete oe[a],n({code:-1,message:e.message})})})})}(e,t):ce(e,t,a)}function ce(e,t,a){e.requestChannel||(e.requestChannel=0),e.version||(e.version=\"1.0\"),e.timestamp||(e.timestamp=(new Date).getTime()),e.outerChannel||(e.outerChannel=\"Bitshares\");var n=JSON.stringify(e);if(!oe[n])return oe[n]=!0,Promise.race([new Promise(function(e,a){fetch(t,{method:\"post\",headers:new Headers({Accept:\"application/json\",\"Content-Type\":\"application/json\"}),body:n}).then(function(t){t.json().then(function(t){delete oe[n],0!==t.code&&(console.log(t),a({code:t.code,message:t.message})),e(t.data)}).catch(function(e){delete oe[n],a({code:-1,message:e.message})})})}),new Promise(function(e,t){setTimeout(function(){t({code:-2,message:\"Request timeout.\"})},a)})])}var ue={has:function(e){return re.has(\"gdex_history_address_\"+e)},set:function(e){var t=e.wallet,a=e.addresses;re.set(\"gdex_history_address_\"+t,a)},get:function(e){return re.get(\"gdex_history_address_\"+e,[])},setLast:function(e){var t=e.wallet,a=e.address;re.set(\"gdex_history_address_last_\"+t,a)},getLast:function(e){return re.get(\"gdex_history_address_last_\"+e,\"\")}},pe=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var de=new ae.a(\"__gdex__user_\"),me=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.current_gdex_address_cache_version_string=\"1\",this.day=86400}return pe(e,[{key:\"getUserInfo\",value:function(e){var t=de.get(e,null);if(!t)return null;var a=Math.floor((new Date).getTime()/1e3);return Math.abs(t.ctime-a)>this.day?(de.remove(e),null):t}},{key:\"cacheUserInfo\",value:function(e,t,a){var n=de.get(e,{});n!={}&&(n={user_id:t,status:a,ctime:Math.floor((new Date).getTime()/1e3)},de.set(e,n))}},{key:\"delUserInfo\",value:function(e){de.has(e)&&de.del(e)}},{key:\"getIndexForDepositKey\",value:function(e,t,a){return[this.current_gdex_address_cache_version_string,e,t,a].reduce(function(e,t){return e.concat(\"[\",t,\"]\")},\"\")}},{key:\"getCachedInputAddress\",value:function(e,t,a){var n=this.getIndexForDepositKey(e,t,a),r=de.get(\"deposit_keys\",{})[n]||null;if(r){if(r.address){var o=Math.floor((new Date).getTime()/1e3);return Math.abs(r.ctime-o)>this.day?(this.clearInputAddress(e,t,a),null):r}return null}}},{key:\"cacheInputAddress\",value:function(e,t,a,n,r){var o=this.getIndexForDepositKey(e,t,a),s=de.get(\"deposit_keys\",{});s[o]={address:n,memo:r,ctime:Math.floor((new Date).getTime()/1e3)},de.set(\"deposit_keys\",s)}},{key:\"clearInputAddress\",value:function(e,t,a){var n=this.getIndexForDepositKey(e,t,a),r=de.get(\"deposit_keys\",null);r&&r[n]&&(r[n]={address:null,memo:null,ctime:null},de.set(\"deposit_keys\",r))}}]),e}(),he=a(594),fe=a.n(he),_e=a(1991),ge=a(1993),ye=a(42),be=a(210),ve=a(40),we=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var Ee=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isConfirmationModalVisible:!1,withdraw_amount:a.props.amount_to_withdraw,withdraw_address:ue.getLast(e.output_coin_name),withdraw_address_check_in_progress:!0,withdraw_address_is_valid:null,options_is_valid:!1,withdraw_address_selected:ue.getLast(e.output_coin_name),memo:\"\",withdraw_address_first:!0,empty_withdraw_value:!1,below_minumum_withdraw_value:!1,precision_error:!1,memo_error:!1,memo_length_error:!1,from_account:e.account,fee_asset_id:g.ChainStore.assets_by_symbol.get(e.fee_asset_symbol)||\"1.3.0\",feeStatus:{},withdraw_address_error_code:null,withdraw_address_error_message:null},a._validateAddress(a.state.withdraw_address,e),a._checkBalance=a._checkBalance.bind(a),a._updateFee=Object(_e.a)(a._updateFee.bind(a),250),a.showConfirmationModal=a.showConfirmationModal.bind(a),a.hideConfirmationModal=a.hideConfirmationModal.bind(a),a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),we(t,[{key:\"componentWillMount\",value:function(){this._updateFee(),this._checkFeeStatus()}},{key:\"componentWillUnmount\",value:function(){this.unMounted=!0}},{key:\"componentWillReceiveProps\",value:function(e){var t=this;e.output_coin_name!=this.props.output_coin_name&&this.setState({withdraw_address:ue.getLast(e.output_coin_name),withdraw_address_selected:ue.getLast(e.output_coin_name)}),e.account!==this.state.from_account&&e.account!==this.props.account&&this.setState({from_account:e.account,feeStatus:{},feeAmount:new ve.a({amount:0})},function(){t._updateFee(),t._checkFeeStatus()})}},{key:\"showConfirmationModal\",value:function(){this.setState({isConfirmationModalVisible:!0})}},{key:\"hideConfirmationModal\",value:function(){this.setState({isConfirmationModalVisible:!1})}},{key:\"_assembleMemo\",value:function(){var e=this,t=this.props.memo_rule,a=\"\";try{if(t)return t.split(\";\").forEach(function(t){switch(t[0]){case\"C\":a+=t.slice(2);break;case\"D\":a+=e.state.withdraw_address;break;case\"B\":a+=t.slice(2);break;case\"S\":a+=e.state.memo}}),a.length>100?(this.setState({memo_length_error:!0}),null):(this.setState({memo_length_error:!1}),this.setState({memo_error:!1}),a)}catch(e){console.log(e)}return this.setState({memo_error:!0}),null}},{key:\"_updateFee\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,a=t.fee_asset_id,n=t.from_account,r=this._getAvailableAssets(t).fee_asset_types;if(1===r.length&&r[0]!==a&&(a=r[0]),!n)return null;Object(be.b)({accountID:n.get(\"id\"),feeID:a,options:[\"price_per_kbyte\"],data:{type:\"memo\",content:this._assembleMemo()}}).then(function(t){var a=t.fee,n=t.hasBalance,r=t.hasPoolBalance;e.unMounted||e.setState({feeAmount:a,hasBalance:n,hasPoolBalance:r,error:!n||!r},e._checkBalance)})}},{key:\"_checkFeeStatus\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,a=t.from_account;if(a){var n=this._getAvailableAssets(t).fee_asset_types,r={},o=[];n.forEach(function(n){o.push(Object(be.b)({accountID:a.get(\"id\"),feeID:n,options:[\"price_per_kbyte\"],data:{type:\"memo\",content:e.props.output_coin_name+\":\"+t.withdraw_address+(t.memo?\":\"+t.memo:\"\")}}))}),Promise.all(o).then(function(a){n.forEach(function(e,t){r[e]=a[t]}),l.a.are_equal_shallow(t.feeStatus,r)||e.setState({feeStatus:r}),e._checkBalance()}).catch(function(e){console.error(e)})}}},{key:\"onMemoChanged\",value:function(e){this.setState({memo:e.target.value},this._updateFee)}},{key:\"onWithdrawAmountChange\",value:function(e){var t=e.amount;this.setState({withdraw_amount:t,empty_withdraw_value:void 0!==t&&!parseFloat(t)},this._checkBalance)}},{key:\"onSelectChanged\",value:function(e){var t=ue.get(this.props.output_coin_symbol)[e];ue.setLast({wallet:this.props.output_coin_symbol,address:t}),this.setState({withdraw_address_selected:t,options_is_valid:!1,withdraw_address:t,withdraw_address_check_in_progress:!0,withdraw_address_is_valid:null},this._updateFee),this._validateAddress(t)}},{key:\"onWithdrawAddressChanged\",value:function(e){var t=e.target.value.trim();this.setState({withdraw_address:t,withdraw_address_check_in_progress:!0,withdraw_address_selected:t,withdraw_address_is_valid:null},this._updateFee),this._validateAddress(t)}},{key:\"_validateAddress\",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return e.address?le(e,ne.c.BASE+ne.c.CHECK_WITHDRAY_ADDRESS,t):new Promise(function(e){return e()})})({assetId:a.output_coin_id,assetName:a.output_coin_name,address:e}).then(function(e){t.setState({withdraw_address_check_in_progress:!1,withdraw_address_is_valid:e.valid,withdraw_address_error_code:null,withdraw_address_error_message:null})}).catch(function(e){var a=e.message;e.code<0&&(a=\"System error: please try again later\"),t.setState({withdraw_address_check_in_progress:!1,withdraw_address_is_valid:null,withdraw_address_error_code:e.code,withdraw_address_error_message:a})})}},{key:\"_checkPrecision\",value:function(){var e=this.state.withdraw_amount,t=this.props.output_coin_precision;\"undefined\"!==t&&(\"string\"!=typeof e&&(e=e.toString()),-1!==(e=e.trim()).indexOf(\".\")&&e.length-e.indexOf(\".\")-1>t?this.setState({precision_error:!0}):this.setState({precision_error:!1}))}},{key:\"_checkBalance\",value:function(){var e=this.state,t=e.feeAmount,a=e.withdraw_amount,n=this.props,r=n.asset,o=n.balance,s=n.minWithdrawAmount;if(o){if(t){var i=Object(be.a)(a,r,t,o);if(null!==i){if(this.setState({balanceError:!i}),\"string\"==typeof a&&(a=parseFloat(String.prototype.replace.call(a,/,/g,\"\"))),\"string\"==typeof s&&(s=parseFloat(String.prototype.replace.call(s,/,/g,\"\"))),!(a<s))return this.setState({below_minumum_withdraw_value:!1}),this._checkPrecision(),i;this.setState({below_minumum_withdraw_value:!0})}}}else this.setState({balanceError:!0})}},{key:\"onSubmit\",value:function(){if(!this.state.withdraw_address_check_in_progress&&this.state.withdraw_address&&this.state.withdraw_address.length&&null!==this.state.withdraw_amount)if(this.state.withdraw_address_is_valid)if(parseFloat(this.state.withdraw_amount)>0){if(ue.has(this.props.output_coin_symbol)){var e=ue.get(this.props.output_coin_symbol);-1==e.indexOf(this.state.withdraw_address)&&(e.push(this.state.withdraw_address),ue.set({wallet:this.props.output_coin_symbol,addresses:e}))}else{var t=[];t.push(this.state.withdraw_address),ue.set({wallet:this.props.output_coin_symbol,addresses:t})}ue.setLast({wallet:this.props.output_coin_symbol,address:this.state.withdraw_address});var a=this.props.asset,n=this.state,r=n.feeAmount,o=n.fee_asset_id,s=parseFloat(String.prototype.replace.call(this.state.withdraw_amount,/,/g,\"\")),i=new ve.a({asset_id:a.get(\"id\"),precision:a.get(\"precision\"),real:s});ye.a.transfer(this.props.account.get(\"id\"),this.props.issuer.get(\"id\"),i.getAmount(),a.get(\"id\"),this._assembleMemo(),null,r?r.asset_id:o),this.setState({empty_withdraw_value:!1})}else this.setState({empty_withdraw_value:!0});else this.showConfirmationModal()}},{key:\"onSubmitConfirmation\",value:function(){if(this.hideConfirmationModal(),ue.has(this.props.output_coin_symbol)){var e=ue.get(this.props.output_coin_symbol);-1==e.indexOf(this.state.withdraw_address)&&(e.push(this.state.withdraw_address),ue.set({wallet:this.props.output_coin_symbol,addresses:e}))}else{var t=[];t.push(this.state.withdraw_address),ue.set({wallet:this.props.output_coin_symbol,addresses:t})}ue.setLast({wallet:this.props.output_coin_symbol,address:this.state.withdraw_address});var a=this.props.asset,n=l.a.get_asset_precision(a.get(\"precision\")),r=String.prototype.replace.call(this.state.withdraw_amount,/,/g,\"\"),o=this.state,s=o.feeAmount,i=o.fee_asset_id;ye.a.transfer(this.props.account.get(\"id\"),this.props.issuer.get(\"id\"),parseInt(r*n,10),a.get(\"id\"),this._assembleMemo(),null,s?s.asset_id:i)}},{key:\"onDropDownList\",value:function(){ue.has(this.props.output_coin_symbol)&&(!1===this.state.options_is_valid&&(this.setState({options_is_valid:!0}),this.setState({withdraw_address_first:!1})),!0===this.state.options_is_valid&&this.setState({options_is_valid:!1}))}},{key:\"getWithdrawModalId\",value:function(){return\"confirmation\"}},{key:\"onAccountBalance\",value:function(){var e=this.state.feeAmount;if(Object.keys(this.props.account.get(\"balances\").toJS()).includes(this.props.asset.get(\"id\"))){var t=new ve.a({amount:this.props.balance.get(\"balance\"),asset_id:this.props.asset.get(\"id\"),precision:this.props.asset.get(\"precision\")});t.asset_id===e.asset_id&&t.minus(e),this.setState({withdraw_amount:t.getAmount({real:!0}),empty_withdraw_value:!1},this._checkBalance)}}},{key:\"setNestedRef\",value:function(e){this.nestedRef=e}},{key:\"onFeeChanged\",value:function(e){var t=e.asset;this.setState({fee_asset_id:t.get(\"id\")},this._updateFee)}},{key:\"_getAvailableAssets\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,t=e.from_account,a=e.feeStatus;var n=[];if(!t||!t.get(\"balances\"))return{fee_asset_types:n};var r=e.from_account.get(\"balances\").toJS();for(var o in n=Object.keys(r).sort(l.a.sortID),r){var s=g.ChainStore.getObject(o),i=g.ChainStore.getObject(r[o]);if(i&&0===i.get(\"balance\")&&-1!==n.indexOf(o)&&n.splice(n.indexOf(o),1),s){var c=!1;try{c=new ve.i({base:new ve.a(s.getIn([\"options\",\"core_exchange_rate\",\"base\"]).toJS()),quote:new ve.a(s.getIn([\"options\",\"core_exchange_rate\",\"quote\"]).toJS())}).isValid()}catch(e){c=!1}\"1.3.0\"===s.get(\"id\")||c||n.splice(n.indexOf(o),1)}}return{fee_asset_types:n=n.filter(function(e){return function(e){return void 0===a[e]||a[e]&&a[e].hasPoolBalance}(e)&&function(e){return void 0===a[e]||a[e]&&a[e].hasBalance}(e)})}}},{key:\"render\",value:function(){var e=this.state,t=e.withdraw_address_selected,a=e.memo,n=ue.get(this.props.output_coin_symbol),o=null,s=this.props.account.get(\"balances\").toJS(),i=Object.keys(s),l=(this.getWithdrawModalId(),null),c=null,p=null;this.state.options_is_valid&&(c=r.a.createElement(\"div\",{className:n.length?\"blocktrades-options\":\"blocktrades-disabled-options\"},n.map(function(e,t){return r.a.createElement(\"a\",{key:t,onClick:this.onSelectChanged.bind(this,t)},e)},this))),!this.state.withdraw_address_check_in_progress&&this.state.withdraw_address&&this.state.withdraw_address.length&&(this.state.withdraw_address_is_valid||(l=this.state.withdraw_address_error_code?r.a.createElement(\"div\",{className:\"has-error\",style:{paddingTop:10}},this.state.withdraw_address_error_code,\":\",\" \",this.state.withdraw_address_error_message):r.a.createElement(\"div\",{className:\"has-error\",style:{paddingTop:10}},r.a.createElement(u.a,{content:\"gateway.valid_address\",coin_type:this.props.output_coin_name})),p=r.a.createElement(F.Modal,{closable:!1,footer:[r.a.createElement(F.Button,{key:\"submit\",type:\"primary\",onClick:this.onSubmitConfirmation.bind(this)},R.a.translate(\"modal.confirmation.accept\")),r.a.createElement(F.Button,{key:\"cancel\",style:{marginLeft:\"8px\"},onClick:this.hideConfirmationModal},R.a.translate(\"modal.confirmation.cancel\"))],visible:this.state.isConfirmationModalVisible,onCancel:this.hideConfirmationModal},r.a.createElement(\"label\",null,r.a.createElement(u.a,{content:\"modal.confirmation.title\"})))));var d=1,m=null;this.props.output_supports_memos&&(m=r.a.createElement(\"div\",{className:\"content-block\"},r.a.createElement(\"label\",null,r.a.createElement(u.a,{component:\"span\",content:\"transfer.memo\"})),r.a.createElement(\"textarea\",{rows:\"3\",value:a,tabIndex:d++,onChange:this.onMemoChanged.bind(this)}),this.state.memo_error?r.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},r.a.createElement(u.a,{content:\"transfer.errors.memo_error\"})):null,this.state.memo_length_error?r.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},r.a.createElement(u.a,{content:\"transfer.errors.memo_length_error\"})):null));var h=this._getAvailableAssets().fee_asset_types;if(i.length>0){var f=this.props.asset.get(\"id\");if(f){var _=s[f];o=r.a.createElement(\"span\",{style:{borderBottom:\"#A09F9F 1px dotted\",cursor:\"pointer\"}},r.a.createElement(u.a,{component:\"span\",content:\"transfer.available\"}),\" : \",r.a.createElement(\"span\",{className:\"set-cursor\",onClick:this.onAccountBalance.bind(this)},_?r.a.createElement(x.a,{balance:s[f]}):0))}else o=\"No funds\"}else o=\"No funds\";var g=this.state.below_minumum_withdraw_value||this.state.memo_error||this.state.memo_length_error||this.state.error||this.state.balanceError||this.state.precision_error;return r.a.createElement(\"form\",{className:\"grid-block vertical full-width-content\",style:{paddingTop:\"0\"}},r.a.createElement(\"div\",{className:\"grid-container\"},r.a.createElement(\"div\",{className:\"content-block\"},r.a.createElement(ge.a,{label:\"modal.withdraw.amount\",amount:this.state.withdraw_amount,asset:this.props.asset.get(\"id\"),assets:[this.props.asset.get(\"id\")],placeholder:\"0.0\",onChange:this.onWithdrawAmountChange.bind(this),display_balance:o}),this.state.empty_withdraw_value?r.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},r.a.createElement(u.a,{content:\"transfer.errors.valid\"})):null,this.state.balanceError?r.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},r.a.createElement(u.a,{content:\"transfer.errors.insufficient\"})):null,this.state.below_minumum_withdraw_value?r.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},r.a.createElement(u.a,{content:\"transfer.errors.minimum_amount\",amount:this.props.minWithdrawAmount,symbol:this.props.asset.get(\"symbol\")})):null,this.state.precision_error?r.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},r.a.createElement(u.a,{content:\"transfer.errors.precision\",precision:this.props.output_coin_precision})):null),this.state.feeAmount?r.a.createElement(\"div\",{className:\"content-block gate_fee\"},r.a.createElement(ge.a,{refCallback:this.setNestedRef.bind(this),disabled:!0,amount:this.state.feeAmount.getAmount({real:!0}),onChange:this.onFeeChanged.bind(this),asset:this.state.feeAmount.asset_id,assets:h,tabIndex:d++}),this.state.hasBalance?null:r.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},r.a.createElement(u.a,{content:\"transfer.errors.noFeeBalance\"})),this.state.hasPoolBalance?null:r.a.createElement(\"p\",{className:\"has-error no-margin\",style:{paddingTop:10}},r.a.createElement(u.a,{content:\"transfer.errors.noPoolBalance\"}))):null,this.props.gateFee?r.a.createElement(\"div\",{className:\"amount-selector right-selector\",style:{paddingBottom:20}},r.a.createElement(\"label\",{className:\"left-label\"},r.a.createElement(u.a,{content:\"gateway.fee\"})),r.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},r.a.createElement(\"input\",{type:\"text\",disabled:!0,value:this.props.gateFee}),r.a.createElement(\"div\",{className:\"form-label select floating-dropdown\"},r.a.createElement(\"div\",{className:\"dropdown-wrapper inactive\"},r.a.createElement(\"div\",null,this.props.output_coin_symbol))))):null,r.a.createElement(\"div\",{className:\"content-block\"},r.a.createElement(\"label\",{className:\"left-label\"},r.a.createElement(u.a,{component:\"span\",content:\"modal.withdraw.address\"})),r.a.createElement(\"div\",{className:\"blocktrades-select-dropdown\"},r.a.createElement(\"div\",{className:\"inline-label\"},r.a.createElement(\"input\",{type:\"text\",value:t,tabIndex:\"4\",onChange:this.onWithdrawAddressChanged.bind(this),autoComplete:\"off\"}),r.a.createElement(\"span\",{onClick:this.onDropDownList.bind(this)},\"▼\"))),r.a.createElement(\"div\",{className:\"blocktrades-position-options\"},c),l),m,r.a.createElement(\"div\",null,r.a.createElement(F.Button,{type:\"primary\",disabled:g,onClick:this.onSubmit.bind(this)},R.a.translate(\"modal.withdraw.submit\")),r.a.createElement(F.Button,{onClick:this.props.hideModal,style:{marginLeft:\"8px\"}},R.a.translate(\"account.perm.cancel\"))),p))}}]),t}();Ee.propTypes={account:p.a.ChainAccount.isRequired,issuer:p.a.ChainAccount.isRequired,asset:p.a.ChainAsset.isRequired,memo_rule:w.a.string.isRequired,balance:p.a.ChainObject,output_supports_memos:w.a.bool.isRequired},Ee=Object(d.a)(Ee);var ke=Object(o.a)(Ee,{listenTo:function(){return[f.a]},getProps:function(e){return{fee_asset_symbol:f.a.getState().settings.get(\"fee_asset\")}}}),Se=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function Ce(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Ae(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function xe(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ne=function(e){function t(){Ce(this,t);var e=Ae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isQrModalVisible:!1,isModalVisible:!1,receive_address:null,isAvailable:!0,qrcode:\"\"},e.deposit_address_cache=new me,e._copy=e._copy.bind(e),document.addEventListener(\"copy\",e._copy),e.showQrModal=e.showQrModal.bind(e),e.hideQrModal=e.hideQrModal.bind(e),e.showModal=e.showModal.bind(e),e.hideModal=e.hideModal.bind(e),e}return xe(t,r.a.Component),Se(t,[{key:\"showModal\",value:function(){this.setState({isModalVisible:!0})}},{key:\"hideModal\",value:function(){this.setState({isModalVisible:!1})}},{key:\"showQrModal\",value:function(){this.setState({isQrModalVisible:!0})}},{key:\"hideQrModal\",value:function(){this.setState({isQrModalVisible:!1})}},{key:\"getDepositAddress\",value:function(){this._getDepositAddress(this.props.user_id,this.props.account.get(\"name\"),this.props.coin,this.props.action)}},{key:\"_getDepositAddress\",value:function(e,t,a,n){if(\"deposit\"==n){var r=this.deposit_address_cache.getCachedInputAddress(t,a.outerSymbol,a.innerSymbol);if(r&&r!=this.state.receive_address)this.setState({receive_address:r});else{var o=this;(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return le(e,ne.c.BASE+ne.c.GET_DEPOSIT_ADDRESS,t)})({btsAssetId:a.innerAssetId,outAssetId:a.outerAssetId,uid:e,userAccount:t}).then(function(e){if(e.address&&e.address.address){var n={address:e.address.address,memo:e.address.memo};o.deposit_address_cache.cacheInputAddress(t,a.outerSymbol,a.innerSymbol,n.address,n.memo),o.setState({receive_address:n})}else o.setState({receive_address:null})}).catch(function(e){o.setState({receive_address:null}),console.log(e)})}}}},{key:\"componentWillMount\",value:function(){this.getDepositAddress()}},{key:\"componentWillReceiveProps\",value:function(e){e.user_id===this.props.user_id&&e.action===this.props.action&&e.coin==this.props.coin||this._getDepositAddress(e.user_id,e.account.get(\"name\"),e.coin,e.action)}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"copy\",this._copy)}},{key:\"getWithdrawModalId\",value:function(){return\"withdraw_asset_\"+this.props.issuer_account.get(\"name\")+\"_\"+this.props.coin.innerSymbol}},{key:\"onWithdraw\",value:function(){this.showModal()}},{key:\"onShowQrcode\",value:function(e){var t=this;this.setState({qrcode:e},function(){t.showQrModal()})}},{key:\"_copy\",value:function(e){try{this.state.clipboardText?e.clipboardData.setData(\"text/plain\",this.state.clipboardText):e.clipboardData.setData(\"text/plain\",R.a.translate(\"gateway.use_copy_button\").toUpperCase()),e.preventDefault()}catch(e){console.error(e)}}},{key:\"toClipboard\",value:function(e){try{this.setState({clipboardText:e},function(){document.execCommand(\"copy\")})}catch(e){console.error(e)}}},{key:\"render\",value:function(){var e=r.a.createElement(\"div\",{style:{display:\"none\",minHeight:150}});if(!this.props.account||!this.props.issuer_account||!this.props.coin)return e;var t=this.props,a=t.coin,n=t.btsCoin;if(!n)return e;var o=this.state.receive_address,s=this.state.qrcode,i=this.getWithdrawModalId(),l=null,c=\"\",p=\"\",d=a.outerSymbol+\":\";\"deposit\"===this.props.action&&(o&&(l=r.a.createElement(\"span\",null,o.address),c=o.address,o.memo&&(r.a.createElement(\"span\",null,o.memo),p=o.memo)),d=\"\");var m=null,h=this.props.account.get(\"balances\");return h&&(m=h.toJS()[n.get(\"id\")]),\"deposit\"===this.props.action?r.a.createElement(\"div\",{className:\"Blocktrades__gateway grid-block no-padding no-margin\"},r.a.createElement(\"div\",{className:\"small-12 medium-5\"},r.a.createElement(u.a,{component:\"h4\",content:\"gateway.deposit_summary\"}),r.a.createElement(\"div\",{className:\"small-12 medium-10\"},r.a.createElement(\"table\",{className:\"table\"},r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.asset_to_deposit\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},a.outerSymbol)),r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.asset_to_receive\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(A.a,{name:a.innerSymbol,replace:!1}))),r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.intermediate\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(D.a,{account:this.props.issuer_account.get(\"id\")}))),r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.your_account\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(D.a,{account:this.props.account.get(\"id\")}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(u.a,{content:\"gateway.balance\"}),\":\"),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(T,{account:this.props.account.get(\"name\"),asset:a.innerSymbol,replace:!1}))))))),r.a.createElement(\"div\",{className:\"small-12 medium-7\"},r.a.createElement(u.a,{component:\"h4\",content:\"gateway.deposit_inst\"}),r.a.createElement(\"label\",{className:\"left-label\"},r.a.createElement(u.a,{content:\"gateway.deposit_to\",asset:a.outerSymbol}),\":\"),r.a.createElement(\"p\",{style:{color:\"red\"}},r.a.createElement(u.a,{content:\"gateway.deposit_warning\",asset:a.outerSymbol})),p?r.a.createElement(\"p\",{style:{color:\"red\"}},r.a.createElement(u.a,{content:\"gateway.deposit_warning_memo\",asset:a.outerSymbol})):null,r.a.createElement(\"div\",null,r.a.createElement(\"table\",{className:\"table\"},r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(u.a,{content:\"gateway.address\"}),\":\"),r.a.createElement(\"td\",null,l),r.a.createElement(\"td\",null,r.a.createElement(\"div\",{style:{width:\"125px\"},className:\"button\",onClick:this.toClipboard.bind(this,c)},r.a.createElement(u.a,{content:\"transfer.copy_address\"}))),r.a.createElement(\"td\",null,r.a.createElement(\"div\",{className:\"button\",onClick:this.onShowQrcode.bind(this,c)},r.a.createElement(u.a,{content:\"modal.qrcode.label\"})))),p?r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(u.a,{content:\"gateway.memo\"}),\":\"),r.a.createElement(\"td\",null,p),r.a.createElement(\"td\",null,r.a.createElement(\"div\",{style:{width:\"125px\"},className:\"button\",onClick:this.toClipboard.bind(this,p)},r.a.createElement(u.a,{content:\"transfer.copy_memo\"}))),r.a.createElement(\"td\",null,r.a.createElement(\"div\",{className:\"button\",onClick:this.onShowQrcode.bind(this,p)},r.a.createElement(u.a,{content:\"modal.qrcode.label\"})))):null)),r.a.createElement(F.Modal,{footer:[r.a.createElement(F.Button,{key:\"close\",type:\"primary\",onClick:this.hideQrModal},R.a.translate(\"modal.close\"))],visible:this.state.isQrModalVisible,onCancel:this.hideQrModal},r.a.createElement(Oe,{text:s}))))):r.a.createElement(\"div\",{className:\"Blocktrades__gateway grid-block no-padding no-margin\"},r.a.createElement(\"div\",{className:\"small-12 medium-5\"},r.a.createElement(u.a,{component:\"h4\",content:\"gateway.withdraw_summary\"}),r.a.createElement(\"div\",{className:\"small-12 medium-10\"},r.a.createElement(\"table\",{className:\"table\"},r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.asset_to_withdraw\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(A.a,{name:a.innerSymbol,replace:!1}))),r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.asset_to_receive\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},a.outerSymbol)),r.a.createElement(\"tr\",null,r.a.createElement(u.a,{component:\"td\",content:\"gateway.intermediate\"}),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(D.a,{account:this.props.issuer_account.get(\"id\")}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(u.a,{content:\"gateway.balance\"}),\":\"),r.a.createElement(\"td\",{style:{fontWeight:\"bold\",color:\"#049cce\",textAlign:\"right\"}},r.a.createElement(T,{account:this.props.account.get(\"name\"),asset:a.innerSymbol,replace:!1}))))))),r.a.createElement(\"div\",{className:\"small-12 medium-7\"},r.a.createElement(u.a,{component:\"h4\",content:\"gateway.withdraw_inst\"}),r.a.createElement(\"label\",{className:\"left-label\"},r.a.createElement(u.a,{content:\"gateway.withdraw_to\",asset:this.props.deposit_asset}),\":\"),r.a.createElement(\"div\",{className:\"button-group\",style:{paddingTop:20}},r.a.createElement(\"button\",{className:\"button success\",style:{fontSize:\"1.3rem\"},onClick:this.onWithdraw.bind(this)},r.a.createElement(u.a,{content:\"gateway.withdraw_now\"}),\" \"))),r.a.createElement(F.Modal,{onCancel:this.hideModal,title:R.a.translate(\"gateway.withdraw_coin\",{coin:a.outerAssetName,symbol:a.outerSymbol}),footer:null,visible:this.state.isModalVisible},r.a.createElement(ke,{hideModal:this.hideModal,account:this.props.account.get(\"name\"),issuer:this.props.issuer_account.get(\"name\"),asset:a.innerSymbol,output_coin_name:a.outerAssetName,gateFee:a.gateFee,output_coin_id:a.outerAssetId,output_coin_symbol:a.outerSymbol,output_supports_memos:1==a.needMemo,minWithdrawAmount:a.minTransactionAmount,output_coin_precision:a.relationPrecision,memo_prefix:d,memo_rule:this.props.memo_rule,modal_id:i,balance:m})))}}]),t}();Ne.propTypes={account:p.a.ChainAccount,issuer_account:p.a.ChainAccount,gateway:w.a.string,btsCoin:p.a.ChainAsset,memo_rule:w.a.string},Ne.defaultProps={autosubscribe:!1};var Oe=function(e){function t(e){return Ce(this,t),Ae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return xe(t,r.a.Component),Se(t,[{key:\"render\",value:function(){var e=this.props.text;return r.a.createElement(\"div\",{className:\"small-12\",style:{textAlign:\"center\"}},r.a.createElement(fe.a,{size:200,value:e}),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"label\",{style:{textTransform:\"none\"}},e))}}]),t}(),Te=Object(d.a)(Ne),je=a(34),Pe=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var Ie={1:\"confirming\",2:\"waiting\",3:\"transfering\",4:\"success\",5:\"fail\"},Me={1:\"confirming\",2:\"auditing\",3:\"audited\",4:\"refused\",5:\"transfering\",6:\"success\",7:\"fail\"},De=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={headerHeight:85,pageNum:0,totalNum:0,nextPageEnabled:!1,allData:{},historyStatusType:1==e.recordType?\"deposit_history_status\":\"withdraw_history_status\",historyStatusValue:1==e.recordType?Ie:Me},a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),Pe(t,[{key:\"componentWillMount\",value:function(){this.getTransactionHistory()}},{key:\"componentWillReceiveProps\",value:function(e){this.props.recordType==e.recordType&&this.props.assetId==e.assetId&&this.props.assetName==e.assetName&&this.props.userId==e.userId&&this.props.userAccount==e.userAccount||this._getTransactionHistory(e.userId,e.assetId,e.assetName,e.recordType,e.userAccount,!0)}},{key:\"shouldComponentUpdate\",value:function(e,t){return!l.a.are_equal_shallow(this.props.userId,e.userId)||(this.state.allData!=t.allData||this.state.pageNum!=t.pageNum)}},{key:\"_getTransactionHistory\",value:function(e,t,a,n,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=this.props.pageSize,i=this.state,l=i.pageNum,c=i.allData,u=i.historyStatusValue,p=i.historyStatusType;1==o?(l=1,c={},p=1==n?\"deposit_history_status\":\"withdraw_history_status\",u=1==n?Ie:Me):l+=1;var d=this;ie({uid:e,assetId:t,pageNum:l,pageSize:s,userAccount:r},n).then(function(e){e.records&&(e.records.forEach(function(e){c[e.txid]={txid:e.txid,amount:e.amount,time:e.ctime,unixtime:Date.parse(e.ctime),status:[\"gateway\",p,u[e.status]].join(\".\"),failReason:e.failReason,assetName:a}}),d.setState({totalNum:e.total,nextPageEnabled:e.total>l*s,allData:c,pageNum:l,historyStatusType:p,historyStatusValue:u}))}).catch(function(){d.setState({totalNum:0,nextPageEnabled:!1,allData:{},pageNum:0})})}},{key:\"getTransactionHistory\",value:function(){var e=this.props,t=e.userId,a=e.assetId,n=e.assetName,r=e.recordType,o=e.userAccount;this._getTransactionHistory(t,a,n,r,o,!1)}},{key:\"render\",value:function(){var e=this.props,t=e.assetName,a=e.compactView,n=e.style,o=e.maxHeight,s=this.state,i=s.headerHeight,l=s.allData,c=[];Object.keys(l).forEach(function(e){c.push(l[e])}),c.sort(function(e,t){return t.unixtime-e.unixtime}),(n=n||{}).width=\"100%\",n.height=\"100%\",l.length;var p=c.length?c.map(function(e){return r.a.createElement(\"tr\",{key:e.txid},r.a.createElement(\"td\",{style:{textAlign:\"left\"},className:\"left-td column-hide-tiny\"},r.a.createElement(u.a,{content:e.status})),r.a.createElement(\"td\",{style:{padding:\"8px 5px\",textAlign:\"left\",fontSize:14}},r.a.createElement(u.a,{content:\"gateway.transaction_history_info\",amount:e.amount,assetName:t,txid:e.txid})),r.a.createElement(\"td\",null,e.time))}):[r.a.createElement(\"tr\",{key:\"no_recent\"},r.a.createElement(\"td\",{colSpan:a?\"2\":\"3\"},r.a.createElement(u.a,{content:\"operation.no_recent\"})))];return p.push(r.a.createElement(\"tr\",{className:\"total-value\",key:\"total_value\"},r.a.createElement(\"td\",{className:\"column-hide-tiny\"}),r.a.createElement(\"td\",null),r.a.createElement(\"td\",{style:{textAlign:\"center\"}},\" \",this.state.nextPageEnabled?r.a.createElement(\"a\",{onClick:this.getTransactionHistory.bind(this)},r.a.createElement(je.a,{name:\"chevron-down\",title:\"icons.chevron_down.transactions\",className:\"icon-14px\"})):null))),r.a.createElement(\"div\",{className:\"recent-transactions no-overflow\",style:n},r.a.createElement(\"div\",{className:\"generic-bordered-box\"},this.props.dashboard?null:r.a.createElement(\"div\",{ref:\"header\"},r.a.createElement(\"div\",{className:\"block-content-header\"},r.a.createElement(\"span\",null,this.props.title?this.props.title:r.a.createElement(u.a,{content:\"account.recent\"})))),r.a.createElement(\"div\",{className:\"box-content grid-block no-margin\",style:this.props.fullHeight?null:{maxHeight:o-i},ref:\"transactions\"},r.a.createElement(\"table\",{className:\"table\"+(a?\" compact\":\"\")+(this.props.dashboard?\" dashboard-table\":\"\")},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",{key:\"history_header\"},r.a.createElement(\"th\",null,r.a.createElement(u.a,{content:\"gateway.status\"})),r.a.createElement(\"th\",null,r.a.createElement(u.a,{content:\"gateway.info\"})),r.a.createElement(\"th\",null,r.a.createElement(u.a,{content:\"gateway.time\"})))),r.a.createElement(\"tbody\",null,p)))))}}]),t}();De.propTypes={compactView:w.a.bool,maxHeight:w.a.number,fullHeight:w.a.bool,userId:w.a.number,assetId:w.a.number,assetName:w.a.string,recordType:w.a.number,userAccount:w.a.string},De.defaultProps={maxHeight:500,fullHeight:!1,pageSize:10};var Be=De,Re=a(2010),Le=a.n(Re),We=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var Fe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={locale:e.settings.get(\"locale\",\"en\")},a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),We(t,[{key:\"componentDidMount\",value:function(){if(this.refs.agreement){var e=this.refs.agreement;Le.a.initialize(e)}}},{key:\"componentDidUpdate\",value:function(){if(this.refs.agreement){var e=this.refs.agreement;Le.a.update(e)}}},{key:\"_getAgreement\",value:function(e){switch(e){case\"zh\":case\"cn\":return r.a.createElement(\"div\",{className:\"container\",ref:\"agreement\",style:{height:\"500px\",overflow:\"auto\",position:\"relative\"}},r.a.createElement(\"h2\",{style:{textAlign:\"center\"}},\"用户服务协议\"),r.a.createElement(\"p\",null,\"OBSIDIAN TECHNOLOGY CO. PTE. LTD. 是一家根据新加坡共和国法律成立的公司，GDEX是由该公司运营的比特股网关(以下称“GDEX”或“本网关”)，主访问入口为https://www.gdex.io，GDEX是一个在比特股平台为用户提供数字资产充提服务（以下称“该服务”或“服务”）的平台。为了本协议表述之方便，公司和该网关在本协议中合称使用“我们”或其他第一人称称呼。使用该服务的自然人或其他主体均为本网关的用户，本协议为表述之便利，以下使用“您”或其他第二人称。我们和您在本协议中合称为“双方”，我们或您单称为“一方”。\"),r.a.createElement(\"p\",null,\"重要提示：\"),r.a.createElement(\"p\",null,\"我们在此特别提醒您：\"),r.a.createElement(\"p\",null,\" \",\"1. 数字资产本身不由任何金融机构或公司或本网关发行；\"),r.a.createElement(\"p\",null,\" \",\"2. 数字资产市场是全新的、未经确认的，而且可能不会增长；\"),r.a.createElement(\"p\",null,\" \",\"3. 数字资产主要由投机者大量使用，零售和商业市场使用相对较少，数字资产交易存在极高风险，其全天不间断交易，没有涨跌限制，价格容易受庄家、全球政府政策的影响而大幅波动；\"),r.a.createElement(\"p\",null,\" \",\"4. 因各国法律、法规和规范性文件的制定或者修改，数字资产交易随时可能被暂停或被禁止。\"),r.a.createElement(\"p\",null,\"数字资产交易有极高风险，并不适合绝大部分人士。您了解和理解此投资有可能导致部分损失或全部损失，所以您应该以能承受的损失程度来决定投资的金额。您了解和理解数字资产会产生衍生风险，所以如有任何疑问，建议先寻求理财顾问的协助。此外，除了上述提及过的风险以外，还会有未能预测的风险存在。您应慎重考虑并用清晰的判断能力去评估自己的财政状况及上述各项风险而作出任何买卖数字资产的决定，并承担由此产生的全部损失，我们对此不承担任何责任。\"),r.a.createElement(\"p\",null,\"敬告您：\"),r.a.createElement(\"p\",null,\"1.您了解比特股是基于区块链的去中心化交易平台，其基础账号服务和交易撮合服务都由比特股平台提供。亦有其它机构或个人在比特股平台上发行资产及／或提供服务。您了解本网关仅作为您向比特股平台充提数字资产的工具。本网关只对自身发行的交易代币资产（名称以GDEX.为前缀）负责，不对比特股上其它机构或个人发行的资产负责，本网关不参与您的任何交易，您应自行谨慎判断确定相关数字资产及/或信息的真实性、合法性和有效性，并自行承担因此产生的责任与损失。\"),r.a.createElement(\"p\",null,\" \",\"2. 比特股去中心化交易系统存有风险，包括但不限于软件，硬件和互联网链结的失败，用户账户系统的安全风险等。由于我们不能控制互联网以及比特股平台的可靠性和可用性，我们不会对上述风险造成的用户损失承担任何责任。\"),r.a.createElement(\"p\",null,\" \",\"3. 禁止使用本网关从事洗钱、走私、商业贿赂等一切非法交易活动，若发现此类事件，本网关将采取各种可使用之手段，包括但不限于中止提供服务，通知相关权力机关等，我们不承担由此产生的所有责任并保留向相关人士追究责任的权利。\"),r.a.createElement(\"p\",null,\"一、总则\"),r.a.createElement(\"p\",null,\" \",\"1.1 您在使用本网关提供的服务之前，应仔细阅读本协议，如有不理解之处或其他必要，请咨询专业律师。如您不同意本协议及/或随时对其的修改，请您立即停止使用本网关提供的服务。使用本网关的任何服务即表示您已了解并完全同意本协议各项内容，包括本网关对本协议随时所做的任何修改。\"),r.a.createElement(\"p\",null,\" \",\"1.2 使用本网关提供的服务和功能，您将被视为已阅读，理解并：\"),r.a.createElement(\"p\",null,\" 1.2.1 接受本协议所有条款及条件的约束。\"),r.a.createElement(\"p\",null,\" \",\"1.2.2 您确认您已年满21周岁或根据不同的可适用的法律规定的具有可订立合同的法定年龄，并有充分的能力接受这些条款，并订立交易，使用本网关进行数字资产交易。\"),r.a.createElement(\"p\",null,\" \",\"1.2.3 您保证交易中涉及到的属于您的数字资产均为合法取得并所有。\"),r.a.createElement(\"p\",null,\" \",\"1.2.4 您同意您为您自身的交易或非交易行为承担全部责任和任何收益或亏损。\"),r.a.createElement(\"p\",null,\" \",\"1.2.5 您同意遵守任何有关法律的规定，就税务目的而言，包括报告任何交易利润。\"),r.a.createElement(\"p\",null,\" \",\"1.2.6 本协议只是就您与我们之间达成的权利义务关系进行约束，而并不涉及本网关用户之间或其他网关和您之间因数字资产交易而产生的法律关系及法律纠纷。\"),r.a.createElement(\"p\",null,\"二、协议修订\"),r.a.createElement(\"p\",null,\"我们保留不时修订本协议、并以公示的方式进行公告、不再单独通知您的权利，变更后的协议会在本协议首页标注变更时间，一经在公布，立即自动生效。您应不时浏览及关注本协议的更新变更时间及更新内容，如您不同意相关变更，应当立即停止使用本网关服务；您继续使用本网关服务，即表示您接受并同意经修订的协议的约束。\"),r.a.createElement(\"p\",null,\"三、服务\"),r.a.createElement(\"p\",null,\"本网关只为您提供向比特股平台冲入和提取数字资产的服务，本网关并不作为买家或卖家参与买卖数字资产行为本身；本网关不提供任何国家法定货币充入和提取的相关服务。\"),r.a.createElement(\"p\",null,\" 3.1 服务内容\"),r.a.createElement(\"p\",null,\" \",\"3.1.1 您有权通过本网关向比特股平台冲入或提取数字资产。\"),r.a.createElement(\"p\",null,\" 3.1.2 本网关承诺为您提供的其他服务。\"),r.a.createElement(\"p\",null,\" 3.2.服务规则\"),r.a.createElement(\"p\",null,\" 您承诺遵守下列本网关服务规则：\"),r.a.createElement(\"p\",null,\" \",\"3.2.1 您应当遵守法律法规、规章、及政策要求的规定，保证账户中所有数字资产来源的合法性，不得在本网关或利用本网关服务从事非法或其他损害本网关或第三方权益的活动，如发送或接收任何违法、违规、侵犯他人权益的信息，发送或接收传销材料或存在其他危害的信息或言论，未经本网关授权使用或伪造本网关电子邮件题头信息等。\"),r.a.createElement(\"p\",null,\" \",\"3.2.2 您在使用本网关服务之前应充分了解比特股账号的使用常识，做好相应账号的备份及密码保存工作，对于比特股账户安全问题造成的损失，本网关不承担任何责任。\"),r.a.createElement(\"p\",null,\" \",\"3.2.3 您在使用本网关提供的服务过程中，所产生的应纳税赋，以及一切硬件、软件、服务及其它方面的费用，均由您独自承担。\"),r.a.createElement(\"p\",null,\" \",\"3.2.4 您应当遵守本网关不时发布和更新的本协议以及其他服务条款和操作规则，有权随时终止使用本网关提供的服务。\"),r.a.createElement(\"p\",null,\"四、本网关的权利和义务\"),r.a.createElement(\"p\",null,\"4.1 本网关有权在发现本网关上显示的任何信息存在明显错误时，对信息予以更正。\"),r.a.createElement(\"p\",null,\"4.2 本网关保留随时修改、中止或终止本网关服务的权利，本网关行使修改或中止服务的权利不需事先告知您；本网关终止本网关一项或多项服务的，终止自本网关在网关上发布终止公告之日生效。\"),r.a.createElement(\"p\",null,\" \",\"4.3 本网关应当采取必要的技术手段和管理措施保障本网关的正常运行。\"),r.a.createElement(\"p\",null,\"五、赔偿\"),r.a.createElement(\"p\",null,\" \",\"5.1 在任何情况下，我们对您的直接损害的赔偿责任均不会超过您从使用本网关服务产生的为期三（ 3）个月的总费用。\"),r.a.createElement(\"p\",null,\"六、寻求禁令救济的权利\"),r.a.createElement(\"p\",null,\"我们和您均承认普通法对违约或可能违约情况的救济措施是可能是不足以弥补我们遭受的全部损失的，故非违约方有权在违约或可能违约情况下寻求禁令救济以及普通法或衡平法允许的其他所有的补救措施。\"),r.a.createElement(\"p\",null,\"七、责任限制与免责\"),r.a.createElement(\"p\",null,\" \",\"7.1 您了解并同意，在任何情况下，我们不就以下各事项承担责任：\"),r.a.createElement(\"p\",null,\" 7.1.1 收入的损失；\"),r.a.createElement(\"p\",null,\" 7.1.2 交易利润或合同损失；\"),r.a.createElement(\"p\",null,\" 7.1.3 业务中断\"),r.a.createElement(\"p\",null,\" 7.1.4 预期可节省的货币的损失；\"),r.a.createElement(\"p\",null,\" 7.1.5 信息的损失；\"),r.a.createElement(\"p\",null,\" 7.1.6 机会、商誉或声誉的损失；\"),r.a.createElement(\"p\",null,\" 7.1.7 数据的损坏或损失；\"),r.a.createElement(\"p\",null,\" 7.1.8 购买替代产品或服务的成本；\"),r.a.createElement(\"p\",null,\" \",\"7.1.9 任何由于侵权（包括过失）、违约或其他任何原因产生的间接的、特殊的或附带性的损失或损害，不论这种损失或损害是否可以为我们合理预见；不论我们是否事先被告知存在此种损 失或损害的可能性。\"),r.a.createElement(\"p\",null,\" \",\"7.2 您了解并同意，我们不对因下述任一情况而导致您的任何损害赔偿承担责任：\"),r.a.createElement(\"p\",null,\" \",\"7.2.1 我们有合理的理由认为您的具体交易事项可能存在重大违法或违约情形。\"),r.a.createElement(\"p\",null,\" \",\"7.2.2 我们有合理的理由认为您在本网关的行为涉嫌违法或不当。\"),r.a.createElement(\"p\",null,\" \",\"7.2.3 通过本网关服务购买或获取任何数据、信息或进行交易等行为或替代行为产生的费用及损失。\"),r.a.createElement(\"p\",null,\" 7.2.4 您对本网关服务的误解。\"),r.a.createElement(\"p\",null,\" \",\"7.2.5 任何非因我们的原因而引起的与本网关提供的服务有关的其它损失。\"),r.a.createElement(\"p\",null,\" \",\"7.3 我们对由于信息网络设备维护、信息网络连接故障、电脑、通讯或其他系统的故障、电力故障、天气原因、意外事故、罢工、劳动争议、暴乱、起义、骚乱、生产力或生产资料不足、火灾、洪水、风暴、爆炸、战争、银行或其他合作方原因、数字资产市场崩溃、政府行为、 司法或行政机关的命令、其他不在我们可控范围内或我们无能力控制的行为或第三方的原因而造成的不能服务或延迟服务，以及造成的您的损失，我们不承担任何责任。\"),r.a.createElement(\"p\",null,\" \",\"7.4 我们不能保证本网关包含的全部信息、程序、文本等完全安全，不受任何病毒、木马等恶意程序的干扰和破坏，故您登陆、使用本网关任何服务或下载及使用该下载的任何程序、信息、数据等均是您个人的决定并自行承担风险及可能产生的损失。\"),r.a.createElement(\"p\",null,\" \",\"7.5 我们对本网关中链接的任何第三方网关的任何信息、产品及业务及其他任何形式的不属于我们的主体的内容等不做任何保证和承诺，您如果使用第三方网关提供的任何服务、信息及产品等均为您个人决定且承担由此产生的一切责任。\"),r.a.createElement(\"p\",null,\" \",\"7.6 我们对于您使用本网关服务不做任何明示或暗示的保证，包括但不限于本网关提供服务的适用性、没有错误或疏漏、持续性、准确性、可靠性、适用于某一特定用途。同时，我们也不对本网关提供的服务所涉及的技术及信息的有效性、准确性、正确性、可靠性、质量、稳定、完整和及时性作出任何承诺和保证。是否登陆或使用本网关提供的服务是您个人的决定且自行承担风险及可能产生的损失。我们对于数字资产的市场、价值及价格等不做任何明示或暗示的保证，您理解并了解数字资产市场是不稳定的，价格和价值随时会大幅波动或崩盘，交易数字资产是您个人的自由选择及决定且自行承担风险及可能产生的损失。\"),r.a.createElement(\"p\",null,\" \",\"7.7 本协议中规定的我们的保证和承诺是由我们就本协议和本网关提供的服务的唯一保证和陈述，并取代任何其他途径和方式产生的保证和承诺，无论是书面的或口头的，明示的或暗示的。所有这些保证和陈述仅仅代表我们自身的承诺和保证，并不保证任何第三方遵守本协议中的保证和承诺。\"),r.a.createElement(\"p\",null,\" \",\"7.8 我们并不放弃本协议中未提及的在法律适用的最大范围内我们享有的限制、免除或抵销我们损害赔偿责任的任何权利。\"),r.a.createElement(\"p\",null,\" \",\"7.9 使用本网关服务即表示认可我们按照本协议中规定的规则进行的任何操作，产生的任何风险均由您承担。\"),r.a.createElement(\"p\",null,\"八、知识产权\"),r.a.createElement(\"p\",null,\" \",\"8.1 本网关所包含的全部智力成果包括但不限于网关标志、数据库、网关设计、文字和图表、软件、照片、录像、音乐、声音及其前述组合，软件编译、相关源代码和软件 (包括小应用程序和脚本) 的知识产权权利均归本网关所有。您不得为商业目的复制、更改、拷贝、发送或使用前述任何材料或内容。\"),r.a.createElement(\"p\",null,\" \",\"8.2 本网关名称中包含的所有权利 (包括但不限于商誉和商标、标志) 均归公司所有。\"),r.a.createElement(\"p\",null,\" \",\"8.3 您接受本协议即视为您主动将其在本网关发表的任何形式的信息的著作权， 包括但不限于：复制权、发行权、出租权、展览权、表演权、放映权、广播权、信息网络传播权、摄制权、改编权、翻译权、汇编权 以及应当由著作权人享有的其他可转让权利无偿独家转让给本网关所有，本网关有权利就任何主体侵权单独提起诉讼并获得全部赔偿。 本协议效力及于您在本网关发布的任何受著作权法保护的作品内容， 无论该内容形成于本协议签订前还是本协议签订后。\"),r.a.createElement(\"p\",null,\" \",\"8.4 您在使用本网关服务过程中不得非法使用或处分本网关或他人的知识产权权利。您不得将已发表于本网关的信息以任何形式发布或授权其它网关（及媒体）使用。\"),r.a.createElement(\"p\",null,\" \",\"8.5 您使用本网关提供的任何服务均不视为我们向您转让任何知识产权。\"),r.a.createElement(\"p\",null,\"九、可分割性\"),r.a.createElement(\"p\",null,\"如本协议中的任何条款被任何有管辖权的法院认定为不可执行的，无效的或非法的，并不影响本协议的其余条款的效力。\"),r.a.createElement(\"p\",null,\"十、非代理关系\"),r.a.createElement(\"p\",null,\"本协议中的任何规定均不可被认为创造了、暗示了或以其他方式将我们视为您的代理人、受托人或其他代表人，本协议有其他规定的除外。\"),r.a.createElement(\"p\",null,\"十一、弃权\"),r.a.createElement(\"p\",null,\"我们或您任何一方对追究本协议约定的违约责任或其他责任的弃权并不能认定或解释为对其他违约责任的弃权；未行使任何权利或救济不得以任何方式被解释为对该等权利或救济的放弃。\"),r.a.createElement(\"p\",null,\"十二、标题\"),r.a.createElement(\"p\",null,\"所有标题仅供协议表述方便，并不用于扩大或限制该协议条款的内容或范围。\"),r.a.createElement(\"p\",null,\"十三、适用法律\"),r.a.createElement(\"p\",null,\"本协议全部内容均为根据新加坡共和国法律订立的合同，其成立、解释、内容及执行均适用新加坡共和国相关法律规定；任何因或与本协议约定的服务有关而产生的索赔或诉讼，都应依照新加坡共和国的法律进行管辖并加以解释和执行。为避免疑义，这一条款明确适用于任何针对我们的侵权索赔。任何针对我们或者是和我们有关的索赔或诉讼的管辖法院或诉讼地均在新加坡共和国。您无条件地获得在新加坡共和国法院进行诉讼和上诉的排他性的管辖权。您也无条件地同意与本协议款有关的争议或问题或产生的任何索赔请求和诉讼的发生地或法院均排他性得在新加坡共和国。不方便法院的原则不适用于根据本服务条款的选择的法院。\"),r.a.createElement(\"p\",null,\"十四、协议的生效和解释\"),r.a.createElement(\"p\",null,\"14.1 本协议于您点击本网关注册页面的同意注册并完成注册程序、获得本网关账号和密码时生效，对本网关和您均具有约束力。\"),r.a.createElement(\"p\",null,\"14.2 本协议的最终解释权归本网关所有。\"));default:return r.a.createElement(\"div\",{className:\"container\",ref:\"agreement\",style:{height:\"500px\",overflow:\"auto\",position:\"relative\"}},r.a.createElement(\"h2\",{style:{textAlign:\"center\"}},\"Service Agreement\"),r.a.createElement(\"p\",null,\"OBSIDIAN TECHNOLOGY CO. PTE. LTD. (hereinafter referred to as the 'Company') is a company incorporated under the laws in Singapore Republic, GDEX (hereinafter referred to as 'GDEX' or 'the Gateway') is a cryptocurrency gateway to Bitshares which is operated by the company. The main access point for GDEX is https://gdex.io, GDEX is a gateway that provide cryptocurrency deposit and withdraw service (hereinafter referred to as 'the Service') to/from Bitshares. For the convenience of wording in this Agreement, the Company and the Gateway are referred to as 'We' or other applicable forms of first person pronouns in this Agreement. All natural persons or other subjects who use the Service shall be users of the Gateway. For the convenience of wording in this Agreement, the users are referred to as 'You' or any other applicable forms of the second-person pronouns. For the convenience of wording in this Agreement, you and us are collectively referred to as 'both parties', and individually as 'one party'.\"),r.a.createElement(\"p\",null,\"Important reminder:\"),r.a.createElement(\"p\",null,\"We hereby remind you that:\"),r.a.createElement(\"p\",null,\"1. The digital assets themselves are not offered by any financial institution, corporation or the Gateway;\"),r.a.createElement(\"p\",null,\"2. The digital asset market is new and unconfirmed, and will not necessarily expand;\"),r.a.createElement(\"p\",null,\"3. Digital assets are primarily used by speculators, and are used relatively less on retail and commercial markets; digital asset transactions are highly risky, due to the fact that they are traded throughout 24-hour a day without limits on the rise or fall in price, and market makers and global government policies may cause major fluctuations in their prices;\"),r.a.createElement(\"p\",null,\"4. Digital asset transactions may be suspended or prohibited at any time due to the enactment or modification of national laws, regulations and regulatory documents. Digital assets trading is highly risky and therefore not suitable for the vast majority of people. You acknowledge and understand that investment in digital assets may result in partial or total loss of your investment and therefore you are advised to decide the amount of your investment on the basis of your loss-bearing capacity. You acknowledge and understand that digital assets may generate derivative risks. Therefore, if you have any doubt, you are advised to seek assistance from a financial adviser first. Furthermore, aside from the above-mentioned risks, there may also be unpredictable risks. Therefore, you are advised to carefully consider and use clear judgment to assess your financial position and the abovementioned risks before making any decisions on buying and selling digital assets; any and all losses arising therefrom will be borne by you and we shall not be held liable in any manner whatsoever.\"),r.a.createElement(\"p\",null,\"5. You understand that Bitshares is a decentralized exchange based on blockchain, the basic account service and the trade processing service are provided by Bitshares, there are also other institutions or single persons that issue assets and/or provide service on Bitshares. You understand that the Gateway is only used for you to deposit/withdraw cryptocurrency to/from Bitshares. The Gateway only undertake the due obligations for the availability of own issued assets (with 'GDEX.' as prefix of the name), do not undertake the due obligations for the account service and the trade processing service provided by Bitshares, do not undertake the due obligations for availability of the assets issued by other institutions or single persons.\",\" \"),r.a.createElement(\"p\",null,\"6. There are risk in both Internet and Bitshares, include but not limit to failure for software, hardware to connect to Internet, security risk for Bitshares accounting system. As the availability and reliability of Internet and Bitshares are not under our control, we do not undertake obligations for the loss caused by the risks mentioned above.\"),r.a.createElement(\"p\",null,\"7.it is prohibited to use the Gateway for money laundering, smuggling, bribery，if any user are found relevant to these actions, the Gateway will take various actions, include but not limited to terminating the Service to the user, informing relevant authority.\"))}}},{key:\"render\",value:function(){var e=this.props.locale;return this._getAgreement(e)}}]),t}();Fe.propTypes={locale:w.a.string};var He=Object(o.a)(Fe,{listenTo:function(){return[f.a]},getProps:function(){return{settings:f.a.getState().settings}}}),qe=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var Ve=new(a(2215))(\"-----BEGIN PUBLIC KEY-----\\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCH+QtHPKcWxdL25xL4pCuu16tKh6yPx/TFnd/8\\ncSt2TC+sPuYsD0h/sy4VKNxhBb7F7U/TLXjMxNcSfPVPjPM3X2LvOlmU9LOEcJGrmlmOOiyO/kws\\nyKKOhR4UyZ1NghhfHjuyDBj6V8fCL+xBZTJWsh/X61Z0wLCwOzXcQCsNJwIDAQAB\\n-----END PUBLIC KEY-----\"),Ue=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=e.viewSettings.get(e.provider+\"Action\",\"deposit\");return a.state={isAgreementVisible:!1,coins:null,activeCoinInfo:a._getActiveCoinInfo(e,{action:n}),action:n,down:!1,isAvailable:!0,user_info:null,isAgree:!1,agreeChecked:!0,agreeNotice:!1,locale:e.viewSettings.get(\"locale\"),intermediate:null,memo_rule:null},a.user_info_cache=new me,a.showAgreement=a.showAgreement.bind(a),a.hideAgreement=a.hideAgreement.bind(a),a}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),qe(t,[{key:\"showAgreement\",value:function(){this.setState({isAgreementVisible:!0})}},{key:\"hideAgreement\",value:function(){this.setState({isAgreementVisible:!1})}},{key:\"_getActiveCoinInfo\",value:function(e,t){var a=e.viewSettings.get(\"activeCoin_\"+e.provider+\"_\"+t.action,null),n=e.viewSettings.get(\"activeCoinId_\"+e.provider,null),r=null;r=\"deposit\"==t.action?\"BTC\":\"GDEX.BTC\";var o=a||r,s=n||1002;return this._getWithdrawRule(s),{name:o,id:s}}},{key:\"_transformCoin\",value:function(e){var t=[];try{e.filter(function(e){return 0!=e.status}).forEach(function(e){var a={};1==e.type?(a.innerAssetId=e.assetId,a.innerAssetName=e.assetName,a.innerSymbol=e.assetSymbol,a.outerAssetId=e.relationId,a.outerAssetName=e.relationSymbol,a.outerSymbol=e.relationSymbol,a.status=e.withdrawStatus,a.gateFee=e.withdrawFees,a.needMemo=e.needMemo,a.minTransactionAmount=e.minWithdrawAmount,a.type=e.type,a.relationPrecision=e.relationPrecision):2==e.type?(a.innerAssetId=e.relationId,a.innerAssetName=e.relationSymbol,a.innerSymbol=e.relationSymbol,a.outerAssetId=e.assetId,a.outerAssetName=e.assetName,a.outerSymbol=e.assetSymbol,a.status=e.depositStatus,a.gateFee=e.depositFees,a.needMemo=e.needMemo,a.minTransactionAmount=e.minDepositAmount,a.type=e.type,a.relationPrecision=e.relationPrecision):a=null,a&&t.push(a)})}catch(e){console.log(\"Transform coin failed: \",e)}return t}},{key:\"_getUserInfo\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e||(e=this.props.account.get(\"name\")),t||(t=this.state.isAgree),t){var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return le(e,ne.c.BASE+ne.c.GET_USER_INFO,t)}({userAccount:e,isAgree:t}),n=this;a.then(function(t){var a=t.user;n.setState({isAgree:!0,user_info:{user_id:a.uid,status:a.status}}),0==a.status&&a.agreeAgreement?n.user_info_cache.cacheUserInfo(e,a.uid,a.status):n.user_info_cache.delUserInfo(e)}),a.catch(function(e){console.log(\"Exception in fetching user info: \"+e)})}}},{key:\"_getCoins\",value:function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return e.requestType||(e.requestType=0),e.assetType||(e.assetType=0),e.version||(e.version=\"1.1\"),le(e,ne.c.BASE+ne.c.ASSET_LIST,t)}({userAccount:this.props.account.get(\"name\")}),t=this;e.then(function(e){var a=t._transformCoin(e.assets);t.setState({isAvailable:!0,coins:a})},function(e){console.log(\"fail\"+e)}),e.catch(function(e){console.log(e),t.setState({isAvailable:!1})})}},{key:\"_checkIsAgree\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=this.props.account.get(\"name\"));var t=this.user_info_cache.getUserInfo(e);if(t)this.setState({user_info:t,isAgree:!0});else{var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return le(e,ne.c.BASE+ne.c.USER_AGREEMENT,t)}({userAccount:e}),n=this;a.then(function(t){t.agree?(n.setState({isAgree:!0}),n._getUserInfo(e,!0)):n.setState({isAgree:!1})},function(e){console.log(\"fail\"+e)}),a.catch(function(e){console.log(e),n.setState({isAvailable:!1})})}}},{key:\"componentWillMount\",value:function(){this._checkIsAgree(),this._getCoins()}},{key:\"_getWithdrawAssetId\",value:function(e){var t=1,a=\"innerSymbol\";return\"deposit\"==this.state.action&&(t=2,a=\"outerSymbol\"),this.state.coins.filter(function(n){return n.type==t&&n[a]==e})[0].innerAssetId}},{key:\"onSelectCoin\",value:function(e){var t=this.state.activeCoinInfo;t.name=e.target.value;var a=this._getWithdrawAssetId(e.target.value);t.id=a,this.setState({activeCoinInfo:t}),this._getWithdrawRule(a);var n={};n[\"activeCoin_\"+this.props.provider+\"_\"+this.state.action]=e.target.value,n[\"activeCoinId_\"+this.props.provider]=a,_.a.changeViewSetting(n)}},{key:\"_getWithdrawRule\",value:function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return le(e,ne.c.BASE+ne.c.WITHDRAW_RULE,t)}({assetId:e}),a=this;t.then(function(e){var t=Ve.decryptPublic(e.transferToAccount,\"utf-8\");a.setState({intermediate:t,memo_rule:e.memoRule})},function(e){console.log(\"fail\"+e),a.setState({intermediate:null})}),t.catch(function(e){console.log(e),a.setState({intermediate:null})})}},{key:\"changeAction\",value:function(e){var t=this._getActiveCoinInfo(this.props,{action:e});this.setState({action:e,activeCoinInfo:t}),_.a.changeViewSetting(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},this.props.provider+\"Action\",e))}},{key:\"componentWillReceiveProps\",value:function(e){this.props.account!=e.account&&this._checkIsAgree(e.account.get(\"name\"))}},{key:\"_updateCheck\",value:function(){this.setState({agreeChecked:!this.state.agreeChecked}),this.setState({agreeNotice:!1})}},{key:\"_showUserAgreement\",value:function(){this.showAgreement()}},{key:\"_registerUser\",value:function(){this.state.agreeChecked?this._getUserInfo(null,!0):this.setState({agreeNotice:!0})}},{key:\"render\",value:function(){var e=this.props.account,t=this.state,a=t.coins,n=t.activeCoinInfo,o=t.action,s=t.isAvailable,i=t.user_info,l=t.isAgree,c=t.agreeChecked,p=t.agreeNotice,d=t.intermediate,m=t.memo_rule,h=\"https://support.gdex.io/\",f=\"602573197\",_=\"https://t.me/GDEXer\",g=r.a.createElement(\"div\",null,r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(u.a,{content:\"gateway.support_gdex\"}),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"p\",null,\"Help:\",\" \",r.a.createElement(\"a\",{href:h,target:\"_blank\",rel:\"noopener noreferrer\",className:\"external-link\"},h)),r.a.createElement(\"p\",null,\"QQ:\",\" \",r.a.createElement(\"a\",{target:\"_blank\",href:\"//shang.qq.com/wpa/qunwpa?idkey=5d192c325146762cf5a9256038fed9faef4fcace21a36882854354dd1d599f11\",rel:\"noopener noreferrer\"},f)),r.a.createElement(\"p\",null,\"Telegram:\",\" \",r.a.createElement(\"a\",{href:_,target:\"_blank\",rel:\"noopener noreferrer\",className:\"external-link\"},_)));if(!l)return r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,r.a.createElement(\"input\",{type:\"checkbox\",style:{marginRight:\"10px\"},checked:c,onChange:this._updateCheck.bind(this)}),r.a.createElement(u.a,{className:\"txtlabel\",content:\"gateway.agreement.hint\"}),r.a.createElement(\"a\",{onClick:this._showUserAgreement.bind(this)},\" \",r.a.createElement(u.a,{className:\"txtlabel\",content:\"gateway.agreement.name\"}))),p?r.a.createElement(\"div\",{className:\"has-error\",style:{paddingTop:10}},r.a.createElement(u.a,{className:\"txtlabel\",content:\"gateway.agreement.notice\"})):null,r.a.createElement(\"div\",{className:\"buttonGroup\"},r.a.createElement(\"span\",{style:{marginTop:\"20px\"},onClick:this._registerUser.bind(this),className:\" button\"},r.a.createElement(u.a,{className:\"txtlabel\",content:\"gateway.agreement.register\"}))),r.a.createElement(F.Modal,{footer:[r.a.createElement(F.Button,{type:\"primary\",key:\"close\",onClick:this.hideAgreement},R.a.translate(\"modal.close\"))],visible:this.state.isAgreementVisible,onCancel:this.hideAgreement},r.a.createElement(\"br\",null),r.a.createElement(\"div\",{className:\"grid-block vertical\"},r.a.createElement(He,{onCancel:this.hideAgreement,locale:this.props.settings.get(\"locale\",\"en\")}))),g);if(!a&&s)return r.a.createElement(J.a,null);if(!s)return r.a.createElement(\"div\",null,r.a.createElement(u.a,{className:\"txtlabel cancel\",content:\"gateway.unavailable\",component:\"h4\"}));var y=null,b=null,v=null;\"deposit\"==o?(b=\"outerAssetId\",y=\"outerSymbol\",v=2):(b=\"innerAssetId\",y=\"innerSymbol\",v=1);var w=(a=a.filter(function(e){return e.type==v})).map(function(e){return r.a.createElement(\"option\",{value:e[y],key:e[y]},e[y])}).filter(function(e){return null!==e}),E=a.filter(function(e){return e[y]==n.name})[0],k=null;return E&&0==E.status?i?0!=i.status&&(k=r.a.createElement(\"label\",{className:\"left-label\"},r.a.createElement(u.a,{className:\"txtlabel cancel\",content:\"gateway.frozen\",account:e.get(\"name\"),component:\"h4\"}))):k=r.a.createElement(\"label\",{className:\"left-label\"},r.a.createElement(u.a,{className:\"txtlabel cancel\",content:\"gateway.user_unavailable\",component:\"h4\"})):k=r.a.createElement(\"label\",{className:\"left-label\"},r.a.createElement(u.a,{className:\"txtlabel cancel\",content:\"gateway.asset_unavailable\",asset:n.name,component:\"h4\"})),r.a.createElement(\"div\",{style:this.props.style},r.a.createElement(\"div\",{className:\"grid-block no-margin vertical medium-horizontal no-padding\"},r.a.createElement(\"div\",{className:\"medium-4\"},r.a.createElement(\"div\",null,r.a.createElement(\"label\",{style:{minHeight:\"2rem\"},className:\"left-label\"},r.a.createElement(u.a,{content:\"gateway.choose_\"+o}),\":\",\" \"),r.a.createElement(\"select\",{className:\"external-coin-types bts-select\",onChange:this.onSelectCoin.bind(this),value:n.name},w))),r.a.createElement(\"div\",{className:\"medium-6 medium-offset-1\"},r.a.createElement(\"label\",{style:{minHeight:\"2rem\"},className:\"left-label\"},r.a.createElement(u.a,{content:\"gateway.gateway_text\"}),\":\"),r.a.createElement(\"div\",{style:{paddingBottom:15}},r.a.createElement(\"ul\",{className:\"button-group segmented no-margin\"},r.a.createElement(\"li\",{className:\"deposit\"===o?\"is-active\":\"\"},r.a.createElement(\"a\",{onClick:this.changeAction.bind(this,\"deposit\")},r.a.createElement(u.a,{content:\"gateway.deposit\"}))),r.a.createElement(\"li\",{className:\"withdraw\"===o?\"is-active\":\"\"},r.a.createElement(\"a\",{onClick:this.changeAction.bind(this,\"withdraw\")},r.a.createElement(u.a,{content:\"gateway.withdraw\"}))))))),k||r.a.createElement(\"div\",null,r.a.createElement(\"div\",{style:{marginBottom:15}},r.a.createElement(Te,{account:e,coin:E,issuer_account:d,user_id:i.user_id,action:this.state.action,gateway:\"gdex\",btsCoin:E.innerSymbol,memo_rule:m})),r.a.createElement(Be,{userId:i.user_id,userAccount:e.get(\"name\"),assetId:E[b],assetName:E[y],compactView:!0,fullHeight:!0,recordType:\"deposit\"==o?1:2,filter:\"transfer\",title:r.a.createElement(u.a,{content:\"gateway.recent_\"+this.state.action})})),g)}}]),t}(),Ke=Object(o.a)(Ue,{listenTo:function(){return[f.a]},getProps:function(){return{viewSettings:f.a.getState().viewSettings,settings:f.a.getState().settings}}}),Ge=(a(625),a(619),a(27),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}());function ze(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Xe(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function Je(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Qe=function(e){function t(e){ze(this,t);var a=Xe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={olService:e.viewSettings.get(\"olService\",\"gateway\"),rudexService:e.viewSettings.get(\"rudexService\",\"gateway\"),bitsparkService:e.viewSettings.get(\"bitsparkService\",\"gateway\"),xbtsxService:e.viewSettings.get(\"xbtsxService\",\"gateway\"),btService:e.viewSettings.get(\"btService\",\"bridge\"),citadelService:e.viewSettings.get(\"citadelService\",\"bridge\"),metaService:e.viewSettings.get(\"metaService\",\"bridge\"),activeService:e.viewSettings.get(\"activeService\",0),RudexNotice1Informed:!1},a}return Je(t,r.a.Component),Ge(t,[{key:\"shouldComponentUpdate\",value:function(e,t){return e.account!==this.props.account||e.servicesDown!==this.props.servicesDown||!l.a.are_equal_shallow(e.blockTradesBackedCoins,this.props.blockTradesBackedCoins)||!l.a.are_equal_shallow(e.openLedgerBackedCoins,this.props.openLedgerBackedCoins)||!l.a.are_equal_shallow(e.citadelBackedCoins,this.props.citadelBackedCoins)||t.olService!==this.state.olService||t.rudexService!==this.state.rudexService||t.bitsparkService!==this.state.bitsparkService||t.xbtsxService!==this.state.xbtsxService||t.btService!==this.state.btService||t.citadelService!==this.state.citadelService||t.metaService!==this.state.metaService||t.activeService!==this.state.activeService||t.RudexNotice1Informed!==this.state.RudexNotice1Informed||e.currentLocale!==this.props.currentLocale}},{key:\"componentWillMount\",value:function(){s.a.getFinalFeeAsset(this.props.account,\"transfer\")}},{key:\"toggleOLService\",value:function(e){this.setState({olService:e}),_.a.changeViewSetting({olService:e})}},{key:\"onRudexNotice1Informed\",value:function(){this.setState({RudexNotice1Informed:!this.state.RudexNotice1Informed})}},{key:\"toggleRuDEXService\",value:function(e){this.setState({rudexService:e}),_.a.changeViewSetting({rudexService:e})}},{key:\"toggleXbtsxService\",value:function(e){this.setState({xbtsxService:e}),_.a.changeViewSetting({xbtsxService:e})}},{key:\"toggleBitSparkService\",value:function(e){this.setState({bitsparkService:e}),_.a.changeViewSetting({bitsparkService:e})}},{key:\"toggleBTService\",value:function(e){this.setState({btService:e}),_.a.changeViewSetting({btService:e})}},{key:\"toggleCitadelService\",value:function(e){this.setState({citadelService:e}),_.a.changeViewSetting({citadelService:e})}},{key:\"toggleMetaService\",value:function(e){this.setState({metaService:e}),_.a.changeViewSetting({metaService:e})}},{key:\"onSetService\",value:function(e){this.setState({activeService:parseInt(e.target.value)}),_.a.changeViewSetting({activeService:parseInt(e.target.value)})}},{key:\"renderServices\",value:function(e,t,a,n){var o=[],s=this.props.account,i=this.state,l=(i.olService,i.btService,i.rudexService),c=(i.bitsparkService,i.xbtsxService,i.citadelService,i.RudexNotice1Informed);return o.push({name:\"RuDEX (RUDEX.X)\",identifier:\"RUDEX\",template:r.a.createElement(\"div\",{className:\"content-block\"},r.a.createElement(\"div\",{className:\"service-selector\",style:{marginBottom:\"2rem\"}},r.a.createElement(\"ul\",{className:\"button-group segmented no-margin\"},r.a.createElement(\"li\",{onClick:this.toggleRuDEXService.bind(this,\"gateway\"),className:\"gateway\"===l?\"is-active\":\"\"},r.a.createElement(\"a\",null,r.a.createElement(u.a,{content:\"gateway.gateway\"}))),r.a.createElement(\"li\",{onClick:this.toggleRuDEXService.bind(this,\"fiat\"),className:\"fiat\"===l?\"is-active\":\"\"},r.a.createElement(\"a\",null,\"Fiat\")))),\"gateway\"===l&&t.length?r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,r.a.createElement(u.a,{href:\"ru\"==this.props.currentLocale?\"https://rudex.freshdesk.com/support/solutions/articles/35000138247-cоглашение-об-оказании-услуг-шлюза\":\"https://rudex.freshdesk.com/support/solutions/articles/35000138245-gateway-service-agreement\",content:\"gateway.rudex.rudex_notice1\",component:\"a\",target:\"_blank\"}),r.a.createElement(\"h5\",null,r.a.createElement(\"input\",{type:\"checkbox\",defaultChecked:this.state.RudexNotice1Informed,onChange:this.onRudexNotice1Informed.bind(this)}),\" \",\"-\",\" \",r.a.createElement(u.a,{content:\"gateway.rudex.rudex_notice1_informed\"}))),r.a.createElement(\"hr\",null),c?r.a.createElement($,{account:s,coins:t}):null):null,\"fiat\"===l?r.a.createElement(\"div\",null,r.a.createElement(u.a,{content:\"gateway.rudex.coming_soon\"})):null)}),o.push({name:\"GDEX\",identifier:\"GDEX\",template:r.a.createElement(\"div\",null,r.a.createElement(Ke,{account:s,provider:\"gdex\"}))}),o}},{key:\"render\",value:function(){var e=this.props,t=e.account,a=e.servicesDown,n=this.state.activeService,o=this.props.openLedgerBackedCoins.map(function(e){return e}).sort(function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0}),s=this.props.rudexBackedCoins.map(function(e){return e}).sort(function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0}),i=this.props.bitsparkBackedCoins.map(function(e){return e}).sort(function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0}),l=this.props.xbtsxBackedCoins.map(function(e){return e}).sort(function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0}),c=this.renderServices(o,s,i,l),p=[],d=c.map(function(e,t){return p.push(e.identifier),r.a.createElement(\"option\",{key:t,value:t},e.name)}),h=p[n],f=a.get(h);return r.a.createElement(\"div\",{className:this.props.contained?\"grid-content\":\"grid-container\"},r.a.createElement(\"div\",{className:this.props.contained?\"\":\"grid-content\",style:{paddingTop:\"2rem\"}},r.a.createElement(u.a,{content:\"gateway.title\",component:\"h2\"}),r.a.createElement(\"div\",{className:\"grid-block vertical medium-horizontal no-margin no-padding\"},r.a.createElement(\"div\",{className:\"medium-6 show-for-medium\"},r.a.createElement(m.a,{path:\"components/DepositWithdraw\",section:\"deposit-short\"})),r.a.createElement(\"div\",{className:\"medium-5 medium-offset-1\"},r.a.createElement(m.a,{account:t.get(\"name\"),path:\"components/DepositWithdraw\",section:\"receive\"}))),r.a.createElement(\"div\",null,r.a.createElement(\"div\",{className:\"grid-block vertical medium-horizontal no-margin no-padding\"},r.a.createElement(\"div\",{className:\"medium-6 small-order-2 medium-order-1\"},r.a.createElement(u.a,{component:\"label\",className:\"left-label\",content:\"gateway.service\"}),r.a.createElement(\"select\",{onChange:this.onSetService.bind(this),className:\"bts-select\",value:n},d),f?r.a.createElement(u.a,{style:{color:\"red\",marginBottom:\"1em\",display:\"block\"},content:\"gateway.unavailable_\"+h}):null),r.a.createElement(\"div\",{className:\"medium-5 medium-offset-1 small-order-1 medium-order-2\",style:{paddingBottom:20}},r.a.createElement(u.a,{component:\"label\",className:\"left-label\",content:\"gateway.your_account\"}),r.a.createElement(\"div\",{className:\"inline-label\"},r.a.createElement(te.a,{size:{height:40,width:40},account:t.get(\"name\"),custom_image:null}),r.a.createElement(\"input\",{type:\"text\",value:t.get(\"name\"),placeholder:null,disabled:!0,onChange:function(){},onKeyDown:function(){},tabIndex:1}))))),r.a.createElement(\"div\",{className:\"grid-content no-padding\",style:{paddingTop:15}},f?null:n&&c[n]?c[n].template:c[0].template)))}}]),t}();Qe.propTypes={account:p.a.ChainAccount.isRequired,contained:w.a.bool},Qe.defaultProps={contained:!1},Qe=Object(d.a)(Qe);var Ye=function(e){function t(){return ze(this,t),Xe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Je(t,r.a.Component),Ge(t,[{key:\"componentWillMount\",value:function(){Object(i.g)()}},{key:\"render\",value:function(){return r.a.createElement(Qe,this.props)}}]),t}();t.default=Object(o.a)(Ye,{listenTo:function(){return[h.a,f.a,ee.a]},getProps:function(){return{currentAccount:h.a.getState().currentAccount||h.a.getState().passwordAccount,account:h.a.getState().currentAccount,viewSettings:f.a.getState().viewSettings,currentLocale:f.a.getState().settings.get(\"locale\"),backedCoins:ee.a.getState().backedCoins,openLedgerBackedCoins:ee.a.getState().backedCoins.get(\"OPEN\",[]),rudexBackedCoins:ee.a.getState().backedCoins.get(\"RUDEX\",[]),bitsparkBackedCoins:ee.a.getState().backedCoins.get(\"SPARKDEX\",[]),blockTradesBackedCoins:ee.a.getState().backedCoins.get(\"TRADE\",[]),citadelBackedCoins:ee.a.getState().backedCoins.get(\"CITADEL\",[]),xbtsxBackedCoins:ee.a.getState().backedCoins.get(\"XBTSX\",[]),servicesDown:ee.a.getState().down||{}}}})}}]);"],"mappings":"AAAA","sourceRoot":""}