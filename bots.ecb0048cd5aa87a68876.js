(this.webpackJsonp=this.webpackJsonp||[]).push([[14],{1970:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(343),s=a(42),i=a(48),c=a(8),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){m(this,t);var e=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getDynamicObject=e.getDynamicObject.bind(e),e}return b(t,e),u(t,[{key:"getDynamicObject",value:function(e){return this.props.dos.find((function(t){return t&&t.get("id")===e}))}},{key:"render",value:function(){return r.a.cloneElement(r.a.Children.only(this.props.children),l({},this.props,{getDynamicObject:this.getDynamicObject}))}}]),t}(r.a.Component);d.propTypes={dos:s.a.ChainObjectsList},d.defaultProps={dos:Object(c.List)()},d=Object(i.a)(d);var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.propNames=t.propNames||[t.asList?"assets":"asset"];var a=t.propNames.reduce((function(e,a){return e[a]=t.asList?s.a.ChainAssetsList:s.a.ChainAsset.isRequired,e}),{}),n=Object.keys(a).reduce((function(e,a){var n=t.defaultProps&&t.defaultProps[a];return e[a]=t.asList?Object(c.List)(n||[]):n||"1.3.0",e}),{});t.defaultProps&&t.defaultProps.tempComponent&&(n.tempComponent=t.defaultProps.tempComponent);var h=function(e){function a(){return m(this,a),p(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return b(a,e),u(a,[{key:"render",value:function(){var e=this,a={},n={},o=Object(c.List)();Object.keys(this.props).forEach((function(r){e.props[r]&&-1!==t.propNames.indexOf(r)?(t.withDynamic&&(t.asList?e.props[r].forEach((function(e){e&&(o=o.push(e.get("dynamic_asset_data_id")))})):o=o.push(e.props[r].get("dynamic_asset_data_id"))),a[r]=t.asList?e.props[r].filter((function(e){return!!e})):e.props[r]):n[r]=e.props[r]}));var s=r.a.cloneElement(r.a.Children.only(this.props.children),l({},n,a));return t.withDynamic?r.a.createElement(d,{dos:o},s):s}}]),a}(r.a.Component);h.propTypes=a,h.defaultProps=n,h=Object(i.a)(h);var f=function(t){function a(){return m(this,a),p(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return b(a,t),u(a,[{key:"render",value:function(){return r.a.createElement(h,this.props,r.a.createElement(e,{ref:"bound_component"}))}}]),a}(r.a.Component);return f.displayName="Wrapper("+Object(o.a)(e)+")",f},f=a(1),v=a.n(f),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=function(e){function t(e){E(this,t);var a=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={imgError:!1},a}return w(t,e),y(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.asset!==e.asset||this.props.maxWidth!==e.maxWidth||this.props.whiteList!==e.whiteList||this.state.imgError!==t.imgError}},{key:"_onError",value:function(e){this.state.imgError||(this.props.replaceNoneToBts?this.refs[e.toLowerCase()].src="asset-symbols/bts.png":this.refs[e.toLowerCase()].remove(),this.setState({imgError:!0}))}},{key:"render",value:function(){var e=function(e){return e.get("symbol")}(this.props.asset);return r.a.createElement("img",{ref:e.toLowerCase(),className:"column-hide-small",onError:this._onError.bind(this,e),style:{maxWidth:this.props.maxWidth,marginRight:5},src:"asset-symbols/"+e.toLowerCase()+".png"})}}]),t}(r.a.Component);k.propTypes={replaceNoneToBts:v.a.bool,maxWidth:v.a.number},k.defaultProps={replaceNoneToBts:!0,maxWidth:20},k=h(k);var x=function(e){function t(){return E(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,e),y(t,[{key:"render",value:function(){return r.a.createElement(k,g({},this.props,{asset:this.props.name}))}}]),t}(r.a.Component);t.a=x},2329:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(1966),s=a(10),i={db:new Proxy(s.Apis,{get:function(e,t){return function(){return e.instance().db_api().exec(t,[].concat(Array.prototype.slice.call(arguments)))}}}),history:new Proxy(s.Apis,{get:function(e,t){return function(){return e.instance().history_api().exec(t,[].concat(Array.prototype.slice.call(arguments)))}}}),network:new Proxy(s.Apis,{get:function(e,t){return function(){return e.instance().network_api().exec(t,[].concat(Array.prototype.slice.call(arguments)))}}}),crypto:new Proxy(s.Apis,{get:function(e,t){return function(){return e.instance().crypto_api().exec(t,[].concat(Array.prototype.slice.call(arguments)))}}}),orders:new Proxy(s.Apis,{get:function(e,t){return function(){return e.instance().orders_api().exec(t,[].concat(Array.prototype.slice.call(arguments)))}}})},c=(a(1955),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}());function l(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var u=function(){var e,t,a,n,r;function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Object.assign(this,e)}return c(o,null,[{key:"get",value:function(e,t){return this[t]?this[t]:/^1\.3\.\d+$/.test(t)||!isNaN(t)?this.id(t):this.getAsset(t)}},{key:"getAsset",value:(n=l(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.toUpperCase(),this.map=this.map||{},!this.map[a]){e.next=4;break}return e.abrupt("return",this.map[a]);case 4:return e.next=6,i.db.list_assets(a,1);case 6:if((n=e.sent[0])&&n.symbol===a){e.next=9;break}throw new Error("Not found asset "+a+"! Blockchain return "+(n?n.symbol:n));case 9:return this.map[a]=new this(n),e.abrupt("return",this.map[a]);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"id",value:(a=l(regeneratorRuntime.mark((function e(t){var a,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.map=this.map||{},!(a=Object.keys(this.map).find((function(e){return n.map[e].id==t})))){e.next=4;break}return e.abrupt("return",this.map[a]);case 4:return e.next=6,i.db.get_assets([t]);case 6:if(a=e.sent[0]){e.next=9;break}throw new Error("Not found asset by id "+t+"!");case 9:return this.map[a.symbol]=new this(a),e.abrupt("return",this.map[a.symbol]);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fromParam",value:(t=l(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.amount,e.next=3,this.id(t.asset_id);case 3:return e.t1=e.sent,e.abrupt("return",{amount:e.t0,asset:e.t1});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"update",value:(e=l(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.map=this.map||{},e.next=3,i.db.get_assets(Object.keys(this.map).map((function(e){return t.map[e].id})));case 3:e.sent.forEach((function(e){return Object.assign(t.map[e.symbol],e)}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]),c(o,[{key:"toParam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{amount:e,asset_id:this.id}}},{key:"fee",value:function(){return this.options.market_fee_percent/100/100}},{key:"update",value:(r=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.t1=this,e.next=4,i.db.get_assets([this.id]);case 4:e.t2=e.sent[0],e.t0.assign.call(e.t0,e.t1,e.t2);case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}]),o}(),m=new Proxy({},u),p=a(1970),b=a(2171),d=a.n(b),h=a(34),f=a(5),v=a.n(f),g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function y(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=function(e){function t(){var e,a,n,r,o=this;E(this,t);for(var s=arguments.length,i=Array(s),c=0;c<s;c++)i[c]=arguments[c];return a=n=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={name:null},n.hidePrefix=function(e){var t=e.split(".");return Object(h.c)().includes(t[0]+".")&&t.shift(),t.join(".")},n.setAssetName=(r=y(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m[t];case 2:a=e.sent,n.setState({name:a.bitasset_data_id?"bit"+t:t});case 4:case"end":return e.stop()}}),e,o)}))),function(e){return r.apply(this,arguments)}),_(n,a)}return w(t,e),g(t,[{key:"componentWillMount",value:function(){this.setAssetName(this.props.name)}},{key:"componentWillReceiveProps",value:function(e){e.name!==this.props.name&&this.setAssetName(e.name)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{replaceNoneToBts:!1,maxWidth:30,name:this.props.name}),this.hidePrefix(this.state.name||this.props.name))}}]),t}(r.a.Component),x=Object(h.m)().map((function(e){return{value:e,label:r.a.createElement(k,{name:e})}})),C=function(e){function t(){var e,a,n,o,s=this;E(this,t);for(var c=arguments.length,l=Array(c),u=0;u<c;u++)l[u]=arguments[u];return a=n=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e){console.log("onChange",e),n.props.onChange({target:{name:n.props.name,value:e?e.value:""}})},n.promiseOptions=(o=y(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=t.toUpperCase(),0!==x.filter((function(e){return e.value==t})).length||!t){e.next=7;break}return e.next=5,i.db.list_assets(t,1);case 5:(a=e.sent[0])&&!x.find((function(e){return e.value==a.symbol}))&&x.push({value:a.symbol,label:r.a.createElement(k,{name:a.symbol})});case 7:return e.abrupt("return",{options:x});case 8:case"end":return e.stop()}}),e,s)}))),function(e){return o.apply(this,arguments)}),_(n,a)}return w(t,e),g(t,[{key:"componentDidMount",value:function(){this.promiseOptions=Object(o.a)(this.promiseOptions,200)}},{key:"render",value:function(){var e=this,t=x.find((function(t){return t.value===e.props.value}));return r.a.createElement("div",{style:{marginBottom:30}},r.a.createElement(d.a,{value:t,onChange:this.onChange,loadOptions:this.promiseOptions,searchPromptText:v.a.translate("bots.asset_selector.wait"),placeholder:v.a.translate("bots.asset_selector.placeholder")}))}}]),t}(r.a.Component),q=a(2),O=a.n(q),A=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function S(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var B=function(e){function t(){var e,a,n,r,o=this;P(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return a=n=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.state={name:"",baseAsset:"RUDEX.USDT",quoteAsset:"RUDEX.BTC",baseAmount:10,quoteAmount:.01,baseSpread:10,quoteSpread:10,baseBalance:100,quoteBalance:.1,percentBaseAmount:!1,percentQuoteAmount:!1,validate:["name"]},n.assetValidate=(r=S(regeneratorRuntime.mark((function e(t){var a,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state[t],e.next=3,i.db.list_assets(a,1);case 3:r=e.sent[0],s=n.state.validate,a!==r.symbol?s.push(t):s=s.filter((function(e){return e!==t})),n.setState({validate:s}),n.props.enableCreate(0==n.state.validate.length);case 8:case"end":return e.stop()}}),e,o)}))),function(e){return r.apply(this,arguments)}),n.handleChange=function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;console.log(t,a),["baseAsset","quoteAsset"].includes(t)&&(a=a.toUpperCase()),n.setState(N({},t,a),(function(){return n.validate(t,a)}))},n.validate=function(e,t){var a=n.state.validate;switch(e){case"name":!/^\w+$/.test(t)||ze.hasBot(n.props.account,n.props.name,t)?(a.push(e),n.setState({validate:a})):n.setState({validate:a.filter((function(t){return t!==e}))});break;case"baseAsset":case"quoteAsset":0!==t.length?n.assetValidate(e):(a.push(e),n.setState({validate:a}));break;case"baseBalance":case"quoteBalance":"-"!==t&&isNaN(+t)?(a.push(e),n.setState({validate:a})):n.setState({validate:a.filter((function(t){return t!==e}))});break;case"baseAmount":case"quoteAmount":case"baseSpread":case"quoteSpread":""===t||isNaN(+t)?(a.push(e),n.setState({validate:a})):n.setState({validate:a.filter((function(t){return t!==e}))});break;case"defaultPrice":isNaN(+t)?(a.push(e),n.setState({validate:a})):n.setState({validate:a.filter((function(t){return t!==e}))})}console.log(n.state.validate),n.props.enableCreate(0==n.state.validate.length)},j(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),A(t,[{key:"componentDidMount",value:function(){this.assetValidate=Object(o.a)(this.assetValidate,200)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"content-block"},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.name"})),r.a.createElement("input",{name:"name",id:"name",type:"text",ref:"input",value:this.state.name,onChange:this.handleChange,autoComplete:"name",style:{border:this.state.validate.includes("name")?"1px solid red":"none"}})),r.a.createElement("div",{className:"grid-block horizontal"},r.a.createElement("div",{className:"content-block",style:{marginLeft:50}},r.a.createElement("label",{style:{textAlign:"center"}},r.a.createElement(O.a,{content:"bots.common.base"})),r.a.createElement(C,{name:"baseAsset",value:this.state.baseAsset,onChange:this.handleChange}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.balance"})),r.a.createElement("input",{name:"baseBalance",id:"baseBalance",type:"text",ref:"input",value:this.state.baseBalance,onChange:this.handleChange,autoComplete:"baseBalance",style:{marginBottom:30,border:this.state.validate.includes("baseBalance")?"1px solid red":"none"}}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.amount"})),r.a.createElement("div",{onChange:this.handleChange},r.a.createElement("input",{type:"radio",value:!0,name:"percentBaseAmount"})," ",r.a.createElement(O.a,{content:"bots.spread_trade.balance_percent"}),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:!1,name:"percentBaseAmount",defaultChecked:!0})," ",r.a.createElement(O.a,{content:"bots.spread_trade.balance_value"})),r.a.createElement("input",{name:"baseAmount",id:"baseAmount",type:"text",ref:"input",value:this.state.baseAmount,onChange:this.handleChange,autoComplete:"baseAmount",style:{marginBottom:30,border:this.state.validate.includes("baseAmount")?"1px solid red":"none"}}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.spread_trade.spread"})),r.a.createElement("input",{name:"baseSpread",id:"baseSpread",type:"text",ref:"input",value:this.state.baseSpread,onChange:this.handleChange,autoComplete:"baseSpread",style:{marginBottom:30,border:this.state.validate.includes("baseSpread")?"1px solid red":"none"}})),r.a.createElement("div",{className:"content-block",style:{marginLeft:50}},r.a.createElement("label",{style:{textAlign:"center"}},r.a.createElement(O.a,{content:"bots.common.quote"})),r.a.createElement(C,{name:"quoteAsset",value:this.state.quoteAsset,onChange:this.handleChange}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.balance"})),r.a.createElement("input",{name:"quoteBalance",id:"quoteBalance",type:"text",ref:"input",value:this.state.quoteBalance,onChange:this.handleChange,autoComplete:"quoteBalance",style:{marginBottom:30,border:this.state.validate.includes("quoteBalance")?"1px solid red":"none"}}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.amount"})),r.a.createElement("div",{onChange:this.handleChange},r.a.createElement("input",{type:"radio",value:!0,name:"percentQuoteAmount"})," ",r.a.createElement(O.a,{content:"bots.spread_trade.balance_percent"}),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:!1,name:"percentQuoteAmount",defaultChecked:!0})," ",r.a.createElement(O.a,{content:"bots.spread_trade.balance_value"})),r.a.createElement("input",{name:"quoteAmount",id:"quoteAmount",type:"text",ref:"input",value:this.state.quoteAmount,onChange:this.handleChange,autoComplete:"quoteAmount",style:{marginBottom:30,border:this.state.validate.includes("quoteAmount")?"1px solid red":"none"}}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.spread_trade.spread"})),r.a.createElement("input",{name:"quoteSpread",id:"quoteSpread",type:"text",ref:"input",value:this.state.quoteSpread,onChange:this.handleChange,autoComplete:"quoteSpread",style:{marginBottom:30,border:this.state.validate.includes("quoteSpread")?"1px solid red":"none"}}))),r.a.createElement("div",{className:"content-block"},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.spread_trade.default_price"})),r.a.createElement("input",{name:"defaultPrice",id:"defaultPrice",type:"text",ref:"input",value:this.state.defaultPrice,onChange:this.handleChange,autoComplete:"defaultPrice",style:{border:this.state.validate.includes("defaultPrice")?"1px solid red":"none"}})),r.a.createElement("div",{className:"content-block"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"fromMarket",onChange:this.handleChange,checked:this.state.fromMarket}),r.a.createElement(O.a,{content:"bots.spread_trade.get_price_from_market"}))))}}]),t}(r.a.Component),R=a(2021),T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var U=function(e){function t(){var e,a,n;M(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return a=n=L(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleChange=function(e){var t=e.target.name,a=e.target.value,r=void 0,o=void 0;switch(t){case"baseAmount":(r=n.state.base).amount=a,n.setState({base:r});break;case"percentBaseAmount":(r=n.state.base).percent="true"==a,n.setState({base:r});break;case"baseBalance":(r=n.state.base).balance=a,n.setState({base:r});break;case"baseSpread":(r=n.state.base).spread=a,n.setState({base:r});break;case"quoteAmount":(o=n.state.quote).amount=a,n.setState({quote:o});break;case"percentQuoteAmount":(o=n.state.quote).percent="true"==a,n.setState({quote:o});break;case"quoteBalance":(o=n.state.quote).balance=a,n.setState({quote:o});break;case"quoteSpread":(o=n.state.quote).spread=a,n.setState({quote:o});break;case"defaultPrice":n.setState({defaultPrice:a});break;case"fromMarket":n.setState({fromMarket:e.target.checked})}},n.handleUpdateBot=function(){var e=n.props.bot.storage.read();n.state.base.order=e.base.order,n.state.quote.order=e.quote.order,n.props.bot.storage.write(n.state)},L(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),T(t,[{key:"componentWillMount",value:function(){this.setState(Object.assign({validate:[]},this.props.bot.storage.read()))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"grid-block horizontal"},r.a.createElement("div",{className:"content-block",style:{marginLeft:50,marginTop:30}},r.a.createElement("label",{style:{textAlign:"center"}},r.a.createElement(O.a,{content:"bots.common.base"})),r.a.createElement(R.a,{style:{marginBottom:30},name:"baseAsset",value:{value:this.state.base.asset,label:r.a.createElement(k,{name:this.state.base.asset})},clearable:!1,searchable:!1,disabled:!0}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.balance"})),r.a.createElement("input",{name:"baseBalance",type:"text",ref:"input",value:this.state.base.balance,onChange:this.handleChange,disabled:this.props.bot.run,style:{marginBottom:30,border:this.state.validate.includes("baseBalance")?"1px solid red":"none"}}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.amount"})),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",value:!0,name:"percentBaseAmount",checked:this.state.base.percent,onChange:this.handleChange})," ",r.a.createElement(O.a,{content:"bots.spread_trade.balance_percent"}),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:!1,name:"percentBaseAmount",checked:!this.state.base.percent,onChange:this.handleChange})," ",r.a.createElement(O.a,{content:"bots.spread_trade.balance_value"})),r.a.createElement("input",{name:"baseAmount",type:"text",ref:"input",value:this.state.base.amount,onChange:this.handleChange,disabled:this.props.bot.run,style:{marginBottom:30,border:this.state.validate.includes("baseAmount")?"1px solid red":"none"}}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.spread_trade.spread"})),r.a.createElement("input",{name:"baseSpread",type:"text",ref:"input",value:this.state.base.spread,onChange:this.handleChange,disabled:this.props.bot.run,style:{marginBottom:30,border:this.state.validate.includes("baseSpread")?"1px solid red":"none"}})),r.a.createElement("div",{className:"content-block",style:{marginLeft:50,marginTop:30}},r.a.createElement("label",{style:{textAlign:"center"}},r.a.createElement(O.a,{content:"bots.common.quote"})),r.a.createElement(R.a,{style:{marginBottom:30},name:"quoteAsset",value:{value:this.state.quote.asset,label:r.a.createElement(k,{name:this.state.quote.asset})},clearable:!1,searchable:!1,disabled:!0}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.balance"})),r.a.createElement("input",{name:"quoteBalance",type:"text",ref:"input",value:this.state.quote.balance,onChange:this.handleChange,disabled:this.props.bot.run,style:{marginBottom:30,border:this.state.validate.includes("quoteBalance")?"1px solid red":"none"}}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.amount"})),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",value:!0,name:"percentQuoteAmount",checked:this.state.quote.percent,onChange:this.handleChange})," ",r.a.createElement(O.a,{content:"bots.spread_trade.balance_percent"}),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:!1,name:"percentQuoteAmount",checked:!this.state.quote.percent,onChange:this.handleChange})," ",r.a.createElement(O.a,{content:"bots.spread_trade.balance_value"})),r.a.createElement("input",{name:"quoteAmount",type:"text",ref:"input",value:this.state.quote.amount,onChange:this.handleChange,disabled:this.props.bot.run,style:{marginBottom:30,border:this.state.validate.includes("quoteAmount")?"1px solid red":"none"}}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.spread_trade.spread"})),r.a.createElement("input",{name:"quoteSpread",type:"text",ref:"input",value:this.state.quote.spread,onChange:this.handleChange,disabled:this.props.bot.run,style:{marginBottom:30,border:this.state.validate.includes("quoteSpread")?"1px solid red":"none"}}))),r.a.createElement("div",{className:"content-block"},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.spread_trade.default_price"})),r.a.createElement("input",{name:"defaultPrice",type:"text",ref:"input",value:this.state.defaultPrice,onChange:this.handleChange,disabled:this.props.bot.run,style:{border:this.state.validate.includes("defaultPrice")?"1px solid red":"none"}})),r.a.createElement("div",{className:"content-block"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"fromMarket",onChange:this.handleChange,checked:this.state.fromMarket,disabled:this.props.bot.run}),r.a.createElement(O.a,{content:"bots.spread_trade.get_price_from_market"}))),r.a.createElement("button",{className:"button",onClick:this.handleUpdateBot,disabled:this.props.bot.run,style:{marginLeft:50,marginBottom:30}},r.a.createElement(O.a,{content:"bots.common.update"})))}}]),t}(r.a.Component),D=a(6),F=a(168),V=a.n(F),W=a(19),$=a(45),z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},I=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function X(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var G=function(){function e(t){var a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"BTS";K(this,e),this.promise=Promise.all([i.db.get_account_by_name(t),m[n]]).then((function(e){var t=Q(e,2),n=t[0],r=t[1];a.acc=n,a.feeAsset=r}))}var t,a,n,r,o;return I(e,[{key:"cancelOrder",value:(o=X(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.promise;case 2:return e.abrupt("return",this.sendTransaction("limit_order_cancel",{fee:this.feeAsset.toParam(),fee_paying_account:this.acc.id,order:t,extensions:[]}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"buy",value:(r=X(regeneratorRuntime.mark((function e(t,a,n,r){var o,s,c,l,u,p=arguments.length>4&&void 0!==arguments[4]&&arguments[4],b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"2025-02-02T02:02:02";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.promise;case 2:return e.next=4,m["object"===(void 0===t?"undefined":z(t))?t.asset_id:t];case 4:return o=e.sent,e.next=7,m["object"===(void 0===a?"undefined":z(a))?a.asset_id:a];case 7:if(s=e.sent,c=Math.floor(V()("object"===(void 0===t?"undefined":z(t))?t.amount:n).times(Math.pow(10,o.precision)).toString()),l=Math.floor(("object"===(void 0===a?"undefined":z(a))?V()(a.amount):V()(n).times(r)).times(Math.pow(10,s.precision)).toString()),0!=c&&0!=l){e.next=12;break}throw new Error("Amount equal 0!");case 12:return e.next=14,this.sendTransaction("limit_order_create",{fee:this.feeAsset.toParam(),seller:this.acc.id,amount_to_sell:s.toParam(l),min_to_receive:o.toParam(c),expiration:b,fill_or_kill:p,extensions:[]});case 14:return u=e.sent,e.next=17,i.db.get_objects([u[0].trx.operation_results[0][1]]);case 17:return e.abrupt("return",e.sent[0]);case 18:case"end":return e.stop()}}),e,this)}))),function(e,t,a,n){return r.apply(this,arguments)})},{key:"sell",value:(n=X(regeneratorRuntime.mark((function e(t,a,n,r){var o,s,c,l,u,p=arguments.length>4&&void 0!==arguments[4]&&arguments[4],b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"2025-02-02T02:02:02";return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.promise;case 2:return e.next=4,m["object"===(void 0===t?"undefined":z(t))?t.asset_id:t];case 4:return o=e.sent,e.next=7,m["object"===(void 0===a?"undefined":z(a))?a.asset_id:a];case 7:if(s=e.sent,c=Math.floor(V()("object"===(void 0===t?"undefined":z(t))?t.amount:n).times(Math.pow(10,o.precision)).toString()),0!=(l=Math.floor(("object"===(void 0===a?"undefined":z(a))?V()(a.amount):V()(n).times(r)).times(Math.pow(10,s.precision)).toString()))&&0!=c){e.next=12;break}throw new Error("Amount equal 0!");case 12:return e.next=14,this.sendTransaction("limit_order_create",{fee:this.feeAsset.toParam(),seller:this.acc.id,amount_to_sell:o.toParam(c),min_to_receive:s.toParam(l),expiration:b,fill_or_kill:p,extensions:[]});case 14:return u=e.sent,e.next=17,i.db.get_objects([u[0].trx.operation_results[0][1]]);case 17:return e.abrupt("return",e.sent[0]);case 18:case"end":return e.stop()}}),e,this)}))),function(e,t,a,r){return n.apply(this,arguments)})},{key:"balances",value:(a=X(regeneratorRuntime.mark((function e(){var t=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.promise;case 2:return e.abrupt("return",i.db.get_account_balances(this.acc.id,[].concat(Array.prototype.slice.call(t))));case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"sendTransaction",value:(t=X(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new D.TransactionBuilder).add_type_operation(t,a),e.next=4,n.set_required_fees();case 4:return e.next=6,$.a.unlock();case 6:return r=W.a.getPrivateKey(this.acc.active.key_auths[0][0]),n.add_signer(r,r.toPublicKey().toPublicKeyString()),e.abrupt("return",n.broadcast());case 9:case"end":return e.stop()}}),e,this)}))),function(e,a){return t.apply(this,arguments)})}]),e}(),J=a(22),H=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function Z(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var ee=function(){function e(t,a,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=U,this.queue=function(){r.queueEvents=r.queueEvents.then(r.checkOrders).catch(r.logger.error.bind(r.logger))},this.checkOrders=Z(regeneratorRuntime.mark((function e(){var t,a,n,o,s,c,l,u,m,p,b,d,h,f,v,g,y,E,_,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.storage.read(),e.next=3,i.db.get_ticker(r.base.symbol,r.quote.symbol);case 3:if(a=e.sent,r.defaultPrice=t.defaultPrice,!t.fromMarket){e.next=9;break}e.t0=V()(a.latest),e.next=12;break;case 9:return e.next=11,r.getFeed();case 11:e.t0=e.sent;case 12:if(n=e.t0,o=n.times(1-t.base.spread/100).toNumber(),s=n.times(1+t.quote.spread/100).toNumber(),0!=(n=n.toNumber())){e.next=18;break}return e.abrupt("return");case 18:if(!t.base.order.id){e.next=24;break}return e.next=21,i.db.get_objects([t.base.order.id]);case 21:e.t1=e.sent[0],e.next=25;break;case 24:e.t1=t.base.order.id;case 25:if(c=e.t1,!t.quote.order.id){e.next=32;break}return e.next=29,i.db.get_objects([t.quote.order.id]);case 29:e.t2=e.sent[0],e.next=33;break;case 32:e.t2=t.quote.order.id;case 33:return l=e.t2,e.next=36,r.account.balances(r.base.id,r.quote.id);case 36:if(e.t3=function(e,t){return r.base.id===t.asset_id?e.base=V()(t.amount).div(Math.pow(10,r.base.precision)).toNumber():e.quote=V()(t.amount).div(Math.pow(10,r.quote.precision)).toNumber(),e},e.t4={},u=e.sent.reduce(e.t3,e.t4),m="-"===t.base.balance?0:""===t.base.balance?u.base:Math.min(u.base,t.base.balance),p="-"===t.quote.balance?0:""===t.quote.balance?u.quote:Math.min(u.quote,t.quote.balance),b="true"==t.base.percent.toString()?V()(m).times(t.base.amount).div(100).toNumber():t.base.amount,d="true"==t.quote.percent.toString()?V()(p).times(t.quote.amount).div(100).toNumber():t.quote.amount,console.log("prices",o,n,s),console.log("orders",c,l),!c){e.next=69;break}if(console.log("check buyOrder: move="+(Math.abs(o-t.base.order.price)>Math.abs(n-o)/2)+", fill="+(a.lowest_ask<=o)),!(Math.abs(o-t.base.order.price)>Math.abs(n-o)/2&&a.lowest_ask>o)){e.next=67;break}return r.logger.info("move buy order: "+o+" "+r.quote.symbol+"/"+r.base.symbol),e.next=51,r.account.cancelOrder(t.base.order.id);case 51:return h=V()(c.for_sale).div(Math.pow(10,r.base.precision)).toNumber(),!["","-"].includes(t.base.balance)&&(t.base.balance=Number(t.base.balance)+h),t.base.order.amount>h&&!["","-"].incudes(t.quote.balance)&&(t.quote.balance=V()(t.base.order.amount-h).div(t.base.order.price).plus(t.quote.balance).toNumber()),f=Math.min(m,b),e.prev=55,e.next=58,r.account.sell(r.base.symbol,r.quote.symbol,f,V()(1).div(o).toNumber());case 58:v=e.sent,t.base.order={id:v?v.id:"1.7.0",price:o,amount:f},!["","-"].includes(t.base.balance)&&(t.base.balance-=f),e.next=67;break;case 63:e.prev=63,e.t5=e.catch(55),r.logger.error(e.t5),t.base.order.id=void 0;case 67:e.next=84;break;case 69:if(/^1.7.\d*$/.test(t.base.order.id)&&(!["","-"].includes(t.quote.balance)&&(t.quote.balance=V()(t.base.order.amount).div(t.base.order.price).plus(t.quote.balance).toNumber()),t.base.order.id=void 0),console.log("create buyOrder: balance="+(m>=b)+", fill="+(a.lowest_ask<=o)),!(m>=b&&a.lowest_ask>o)){e.next=84;break}return r.logger.info("buy: "+o+" "+r.quote.symbol+"/"+r.base.symbol),e.prev=73,e.next=76,r.account.sell(r.base.symbol,r.quote.symbol,b,V()(1).div(o).toNumber());case 76:g=e.sent,t.base.order={id:g?g.id:"1.7.0",price:o,amount:b},!["","-"].includes(t.base.balance)&&(t.base.balance-=b),e.next=84;break;case 81:e.prev=81,e.t6=e.catch(73),r.logger.error(e.t6);case 84:if(!l){e.next=108;break}if(console.log("check sellOrder: move="+(Math.abs(s-t.quote.order.price)>Math.abs(n-s)/2)+", fill="+(a.highest_bid>=s)),!(Math.abs(s-t.quote.order.price)>Math.abs(n-s)/2&&a.highest_bid<s)){e.next=106;break}return r.logger.info("move sell order: "+s+" "+r.quote.symbol+"/"+r.base.symbol),e.next=90,r.account.cancelOrder(t.quote.order.id);case 90:return y=V()(l.for_sale).div(Math.pow(10,r.quote.precision)).toNumber(),!["","-"].includes(t.quote.balance)&&(t.quote.balance=Number(t.quote.balance)+y),t.quote.order.amount>y&&!["","-"].includes(t.base.balance)&&(t.base.balance=V()(t.quote.order.amount-y).times(t.quote.order.price).plus(t.base.balance).toNumber()),E=Math.min(p,d),e.prev=94,e.next=97,r.account.sell(r.quote.symbol,r.base.symbol,E,s);case 97:_=e.sent,t.quote.order={id:_?_.id:"1.7.0",price:s,amount:E},!["","-"].includes(t.quote.balance)&&(t.quote.balance-=E),e.next=106;break;case 102:e.prev=102,e.t7=e.catch(94),r.logger.error(e.t7),t.quote.order.id=void 0;case 106:e.next=123;break;case 108:if(/^1.7.\d*$/.test(t.quote.order.id)&&(!["","-"].includes(t.base.balance)&&(t.base.balance=V()(t.quote.order.amount).times(t.quote.order.price).plus(t.base.balance).toNumber()),t.quote.order.id=void 0),console.log("create sellOrder: balance="+(p>=d)+", fill="+(a.highest_bid>=s)),!(p>=d&&a.highest_bid<s)){e.next=123;break}return r.logger.info("sell: "+s+" "+r.quote.symbol+"/"+r.base.symbol),e.prev=112,e.next=115,r.account.sell(r.quote.symbol,r.base.symbol,d,s);case 115:w=e.sent,t.quote.order={id:w?w.id:"1.7.0",price:s,amount:d},!["","-"].includes(t.quote.balance)&&(t.quote.balance-=d),e.next=123;break;case 120:e.prev=120,e.t8=e.catch(112),r.logger.error(e.t8);case 123:r.storage.write(t);case 124:case"end":return e.stop()}}),e,r,[[55,63],[73,81],[94,102],[112,120]])}))),this.account=new G(t),this.storage=a,n&&a.init({name:n.name,base:{asset:n.baseAsset,balance:n.baseBalance,spread:n.baseSpread,amount:n.baseAmount,percent:n.percentBaseAmount,order:{}},quote:{asset:n.quoteAsset,balance:n.quoteBalance,spread:n.quoteSpread,amount:n.quoteAmount,percent:n.percentQuoteAmount,order:{}},fromMarket:n.fromMarket,defaultPrice:n.defaultPrice}),this.name=a.read().name,this.logger=console,this.queueEvents=Promise.resolve(),this.run=!1}var t,a,n,r,o,s;return Y(e,[{key:"start",value:(s=Z(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage.read(),e.next=3,m[t.base.asset];case 3:return this.base=e.sent,e.next=6,m[t.quote.asset];case 6:return this.quote=e.sent,[this.base.issuer,this.quote.issuer].includes("1.2.0")?[this.base.id,this.quote.id].includes("1.3.0")?this.getFeed=this.getCoreFeed:this.base.issuer==this.quote.issuer?this.getFeed=this.getSmartFeed:this.getFeed=this.getUIAFeed:this.getFeed=this.getUIAFeed,e.next=10,$.a.unlock();case 10:J.a.changeSetting({setting:"walletLockTimeout",value:0}),D.ChainStore.subscribe(this.queue),this.run=!0;case 13:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"stop",value:(o=Z(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.ChainStore.unsubscribe(this.queue),this.run=!1,e.next=4,this.queueEvents;case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"delete",value:function(){this.storage.delete()}},{key:"getCoreFeed",value:(r=Z(regeneratorRuntime.mark((function e(){var t,a,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=void 0,"1.3.0"!=this.base.id){e.next=7;break}return e.next=4,this.quote.update();case 4:t=this.quote.options.core_exchange_rate,e.next=10;break;case 7:return e.next=9,this.base.update();case 9:t=this.base.options.core_exchange_rate;case 10:return a=t.base.asset_id==this.base.id?[t.base,t.quote]:[t.quote,t.base],n=H(a,2),r=n[0],o=n[1],e.abrupt("return",V()(r.amount).div(Math.pow(10,this.base.precision)).div(V()(o.amount).div(Math.pow(10,this.quote.precision))));case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getSmartFeed",value:(n=Z(regeneratorRuntime.mark((function e(){var t,a,n,r,o,s,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.bts;case 2:return t=e.sent,e.next=5,this.base.update();case 5:return a=this.base.options.core_exchange_rate,n="1.3.0"==a.base.asset_id?[a.base,a.quote]:[a.quote,a.base],r=H(n,2),o=r[0],s=r[1],i=V()(o.amount).div(Math.pow(10,t.precision)).div(V()(s.amount).div(Math.pow(10,this.base.precision))),e.next=10,this.quote.update();case 10:return"1.3.0"==(a=this.quote.options.core_exchange_rate).base.asset_id?(o=a.base,s=a.quote):(o=a.quote,s=a.base),c=V()(o.amount).div(Math.pow(10,t.precision)).div(V()(s.amount).div(Math.pow(10,this.quote.precision))),e.abrupt("return",c.div(i));case 14:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getUIAFeed",value:(a=Z(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.defaultPrice){e.next=4;break}e.t0=V()(this.defaultPrice),e.next=7;break;case 4:return e.next=6,this.binancePrice(this.base.symbol,this.quote.symbol);case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"binancePrice",value:(t=Z(regeneratorRuntime.mark((function e(t,a){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(""+a.split(".").slice(-1)[0]+t.split(".").slice(-1)[0]).toUpperCase().replace("USD","USDT"),console.log("get asset: "+n),this.priceArray=this.priceArray||[],e.prev=3,e.next=6,fetch("https://api.binance.com/api/v1/trades?symbol="+n+"&limit=1");case 6:return r=e.sent,e.next=9,r.json();case 9:o=e.sent,this.priceArray.push(o[0].price),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),this.logger.error("Error Binance request: "+n+", error: "+e.t0);case 16:return this.priceArray.length>10&&this.priceArray.shift(),e.abrupt("return",this.priceArray.length>0?this.priceArray.reduce((function(e,t){return e.plus(t)}),V()(0)).div(this.priceArray.length):V()(0));case 18:case"end":return e.stop()}}),e,this,[[3,13]])}))),function(e,a){return t.apply(this,arguments)})}]),e}();ee.create=B;var te=ee,ae=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function ne(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}function re(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ie=function(e){function t(){var e,a,n,r,o=this;oe(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return a=n=se(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.state={name:"",sellAsset:"RUDEX.BTC",getAsset:"RUDEX.USDT",amount:.01,minAmount:1,stoploss:100,percent:10,validate:["name"]},n.handleChange=function(e){var t=e.target.name,a=e.target.value;["sellAsset","getAsset"].includes(t)&&(a=a.toUpperCase()),"minAmount"===t?n.setState({minAmount:a,stoploss:a/n.state.amount},(function(){return n.validate(t,a)})):"stoploss"===t?n.setState({minAmount:n.state.amount*a,stoploss:a},(function(){return n.validate(t,a)})):"amount"===t?n.setState({amount:a,minAmount:a*n.state.stoploss},(function(){return n.validate(t,a)})):n.setState(re({},t,a),(function(){return n.validate(t,a)}))},n.assetValidate=(r=ne(regeneratorRuntime.mark((function e(t){var a,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state[t],e.next=3,i.db.list_assets(a,1);case 3:r=e.sent[0],s=n.state.validate,a!==r.symbol?s.push(t):s=s.filter((function(e){return e!==t})),n.setState({validate:s}),n.props.enableCreate(0==n.state.validate.length);case 8:case"end":return e.stop()}}),e,o)}))),function(e){return r.apply(this,arguments)}),n.validate=function(e,t){var a=n.state.validate;switch(e){case"name":!/^\w+$/.test(t)||ze.hasBot(n.props.account,n.props.name,t)?(a.push(e),n.setState({validate:a})):n.setState({validate:a.filter((function(t){return t!==e}))});break;case"sellAsset":case"getAsset":0!==t.length?n.assetValidate(e):(a.push(e),n.setState({validate:a}));break;case"amount":case"minAmount":case"pecent":case"stoploss":""===t||isNaN(+t)?(a.push(e),n.setState({validate:a})):n.setState({validate:a.filter((function(t){return t!==e}))})}console.log(n.state.validate),n.props.enableCreate(0==n.state.validate.length)},se(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ae(t,[{key:"componentDidMount",value:function(){this.assetValidate=Object(o.a)(this.assetValidate,200)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"content-block"},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.name"})),r.a.createElement("input",{name:"name",id:"name",type:"text",ref:"input",value:this.state.name,onChange:this.handleChange,style:{border:this.state.validate.includes("name")?"1px solid red":"none"}})),r.a.createElement("div",{className:"grid-block horizontal",style:{marginLeft:50}},r.a.createElement("div",{className:"content-block"},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.trailing_stop.sell_asset"})),r.a.createElement(C,{name:"sellAsset",value:this.state.sellAsset,onChange:this.handleChange}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.trailing_stop.amount"})),r.a.createElement("input",{name:"amount",id:"amount",type:"text",ref:"input",value:this.state.amount,onChange:this.handleChange,style:{marginBottom:30,border:this.state.validate.includes("amount")?"1px solid red":"none"}})),r.a.createElement("div",{className:"content-block",style:{marginLeft:50}},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.trailing_stop.get_asset"})),r.a.createElement(C,{name:"getAsset",value:this.state.getAsset,onChange:this.handleChange}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.trailing_stop.min_amount"})),r.a.createElement("input",{name:"minAmount",id:"minAmount",type:"text",ref:"input",value:this.state.minAmount,onChange:this.handleChange,style:{marginBottom:30,border:this.state.validate.includes("minAmount")?"1px solid red":"none"}}))),r.a.createElement("div",{className:"content-block"},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.trailing_stop.stoploss"})),r.a.createElement("input",{name:"stoploss",id:"stoploss",type:"text",ref:"input",value:this.state.stoploss,onChange:this.handleChange,style:{marginBottom:30,border:this.state.validate.includes("stoploss")?"1px solid red":"none"}}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.trailing_stop.trailing_percent"})),r.a.createElement("input",{name:"percent",id:"percent",type:"text",ref:"input",value:this.state.percent,onChange:this.handleChange,style:{marginBottom:30,border:this.state.validate.includes("percent")?"1px solid red":"none"}})))}}]),t}(r.a.Component),ce=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function le(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var pe=function(e){function t(){var e,a,n;ue(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return a=n=me(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={validate:[]},n.handleChange=function(e){var t=e.target.name,a=e.target.value;["sellAsset","getAsset"].includes(t)&&(a=a.toUpperCase()),"minAmount"===t?n.setState({minAmount:a,stoploss:a/n.state.amount},(function(){return n.validate(t,a)})):"stoploss"===t?n.setState({minAmount:n.state.amount*a,stoploss:a},(function(){return n.validate(t,a)})):"amount"===t?n.setState({amount:a,minAmount:a*n.state.stoploss},(function(){return n.validate(t,a)})):n.setState(le({},t,a),(function(){return n.validate(t,a)})),n.setState(le({},t,a))},n.validate=function(e,t){},n.handleUpdateBot=function(){n.props.bot.storage.write(n.state)},me(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ce(t,[{key:"componentWillMount",value:function(){var e=this.props.bot.storage.read();e.stoploss=e.minAmount/e.amount,this.setState(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"grid-block horizontal",style:{marginLeft:50,marginTop:50}},r.a.createElement("div",{className:"content-block"},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.trailing_stop.sell_asset"})),r.a.createElement(R.a,{style:{marginBottom:30},name:"sellAsset",value:{value:this.state.sellAsset,label:r.a.createElement(k,{name:this.state.sellAsset})},clearable:!1,searchable:!1,disabled:!0}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.trailing_stop.amount"})),r.a.createElement("input",{name:"amount",id:"amount",type:"text",ref:"input",value:this.state.amount,onChange:this.handleChange,disabled:this.props.bot.run,style:{marginBottom:30,border:this.state.validate.includes("amount")?"1px solid red":"none"}})),r.a.createElement("div",{className:"content-block",style:{marginLeft:50}},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.trailing_stop.get_asset"})),r.a.createElement(R.a,{style:{marginBottom:30},name:"getAsset",value:{value:this.state.getAsset,label:r.a.createElement(k,{name:this.state.getAsset})},clearable:!1,searchable:!1,disabled:!0}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.trailing_stop.min_amount"})),r.a.createElement("input",{name:"minAmount",id:"minAmount",type:"text",ref:"input",value:this.state.minAmount,onChange:this.handleChange,disabled:this.props.bot.run,style:{marginBottom:30,border:this.state.validate.includes("minAmount")?"1px solid red":"none"}}))),r.a.createElement("div",{className:"content-block"},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.trailing_stop.stoploss"})),r.a.createElement("input",{name:"stoploss",id:"stoploss",type:"text",ref:"input",value:this.state.stoploss,onChange:this.handleChange,disabled:this.props.bot.run,style:{marginBottom:30,border:this.state.validate.includes("stoploss")?"1px solid red":"none"}}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.trailing_stop.trailing_percent"})),r.a.createElement("input",{name:"percent",id:"percent",type:"text",ref:"input",value:this.state.percent,onChange:this.handleChange,disabled:this.props.bot.run,style:{marginBottom:30,border:this.state.validate.includes("percent")?"1px solid red":"none"}})),r.a.createElement("button",{className:"button",onClick:this.handleUpdateBot,disabled:this.props.bot.run,style:{marginLeft:50,marginBottom:30}},r.a.createElement(O.a,{content:"bots.common.update"})))}}]),t}(r.a.Component),be=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function de(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var he=function(){function e(t,a,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=pe,this.queue=function(){r.queueEvents=r.queueEvents.then(r.checkOrders).catch(r.logger.error.bind(r.logger))},this.checkOrders=de(regeneratorRuntime.mark((function e(){var t,a,n,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.storage.read(),console.log("checkOrders"),e.next=4,i.db.get_ticker(r.getAsset.symbol,r.sellAsset.symbol);case 4:if(a=e.sent,n=V()(a.latest),o=n.times(1-t.percent/100),s=n.times(1-2*t.percent/3/100),c=V()(t.minAmount).div(t.amount),console.log(n.toNumber(),o.toNumber(),s.toNumber(),c.toNumber()),!o.gt(c)){e.next=16;break}console.log("up minAmount"),t.minAmount=o.times(t.amount).toNumber(),r.storage.write(t),e.next=21;break;case 16:if(!s.lt(c)){e.next=21;break}return console.log("create limit order"),e.next=20,r.account.sell(r.sellAsset.symbol,r.getAsset.symbol,t.amount,c.toNumber());case 20:r.stop();case 21:case"end":return e.stop()}}),e,r)}))),this.account=new G(t),this.storage=a,n&&a.init({name:n.name,sellAsset:n.sellAsset,getAsset:n.getAsset,amount:n.amount,minAmount:n.minAmount,percent:n.percent}),this.name=a.read().name,this.logger=console,this.queueEvents=Promise.resolve(),this.run=!1}var t,a;return be(e,[{key:"start",value:(a=de(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage.read(),e.next=3,m[t.sellAsset];case 3:return this.sellAsset=e.sent,e.next=6,m[t.getAsset];case 6:return this.getAsset=e.sent,e.next=9,$.a.unlock();case 9:J.a.changeSetting({setting:"walletLockTimeout",value:0}),D.ChainStore.subscribe(this.queue),this.run=!0;case 12:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"stop",value:(t=de(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.ChainStore.unsubscribe(this.queue),this.run=!1,e.next=4,this.queueEvents;case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"delete",value:function(){this.storage.delete()}}]),e}();he.create=ie;var fe=he,ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ge=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _e=function(e){function t(){return ye(this,t),Ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ge(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.value,n=e.onChange,o=e.border,s=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["name","value","onChange","border"]);return r.a.createElement("input",ve({name:t,id:t,type:"text",ref:"input",value:a,onChange:n,style:{marginBottom:30,border:o?"1px solid red":"none"}},s))}}]),t}(r.a.Component),we=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function ke(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xe(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Oe=function(e){function t(){var e,a,n,r,o=this;Ce(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return a=n=qe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.state={name:"",base:"BTS",quote:"RUDEX.EOS",amount:100,percentAmount:!1,balance:"",spread:1,distance:"1.5",validate:["name"]},n.assetValidate=(r=xe(regeneratorRuntime.mark((function e(t){var a,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state[t],e.next=3,i.db.list_assets(a,1);case 3:r=e.sent[0],s=n.state.validate,a!==r.symbol?s.push(t):s=s.filter((function(e){return e!==t})),n.setState({validate:s}),n.props.enableCreate(0==n.state.validate.length);case 8:case"end":return e.stop()}}),e,o)}))),function(e){return r.apply(this,arguments)}),n.handleChange=function(e){var t=e.target.name,a=e.target.value;["base","quote"].includes(t)&&(a=a.toUpperCase()),n.setState(ke({},t,a),(function(){return n.validate(t,a)}))},n.validate=function(e,t){var a=n.state.validate;switch(e){case"name":!/^\w+$/.test(t)||ze.hasBot(n.props.account,n.props.name,t)?(a.push(e),n.setState({validate:a})):n.setState({validate:a.filter((function(t){return t!==e}))});break;case"base":case"quote":0!==t.length?n.assetValidate(e):(a.push(e),n.setState({validate:a}));break;case"balance":"-"!==t&&isNaN(+t)?(a.push(e),n.setState({validate:a})):n.setState({validate:a.filter((function(t){return t!==e}))});break;case"spread":case"distance":""===t||isNaN(+t)?(a.push(e),n.setState({validate:a})):n.setState({validate:a.filter((function(t){return t!==e}))})}console.log(a),n.props.enableCreate(0==a.length)},qe(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),we(t,[{key:"componentDidMount",value:function(){this.assetValidate=Object(o.a)(this.assetValidate,200)}},{key:"render",value:function(){var e=this.state,t=e.validate,a=e.name,n=e.amount,o=e.balance,s=e.spread,i=e.distance;return r.a.createElement("div",null,r.a.createElement("div",{className:"content-block"},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.name"})),r.a.createElement(_e,{name:"name",value:a,onChange:this.handleChange,border:t.includes("name")})),r.a.createElement("div",{className:"grid-block horizontal",style:{marginLeft:50}},r.a.createElement("div",{className:"content-block"},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.base"})),r.a.createElement(C,{name:"base",value:this.state.base,onChange:this.handleChange}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.amount"})),r.a.createElement("div",{onChange:this.handleChange},r.a.createElement("input",{type:"radio",value:!0,name:"percentAmount"})," ",r.a.createElement(O.a,{content:"bots.common.balance_percent"}),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:!1,name:"percentAmount",defaultChecked:!0})," ",r.a.createElement(O.a,{content:"bots.common.balance_value"})),r.a.createElement(_e,{name:"amount",value:n,onChange:this.handleChange,border:t.includes("amount")}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.balance"})),r.a.createElement(_e,{name:"balance",value:o,onChange:this.handleChange,border:t.includes("balance")})),r.a.createElement("div",{className:"content-block",style:{marginLeft:50}},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.quote"})),r.a.createElement(C,{name:"quote",value:this.state.quote,onChange:this.handleChange}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.spread"})),r.a.createElement(_e,{name:"spread",value:s,onChange:this.handleChange,border:t.includes("spread")}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.percent_up.distance"})),r.a.createElement(_e,{name:"distance",value:i,onChange:this.handleChange,border:t.includes("distance")}))))}}]),t}(r.a.Component),Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ne=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function Se(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Be=function(e){function t(){var e,a,n;Pe(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return a=n=je(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleChange=function(e){var t=e.target.name,a=e.target.value;["base","quote"].includes(t)&&(a=a.toUpperCase()),n.setState(Se({},t,a),(function(){return n.validate(t,a)}))},n.validate=function(e,t){var a=n.state.validate;switch(e){case"name":!/^\w+$/.test(t)||BotManager.hasBot(n.props.account,n.props.name,t)?(a.push(e),n.setState({validate:a})):n.setState({validate:a.filter((function(t){return t!==e}))});break;case"base":case"quote":0!==t.length?n.assetValidate(e):(a.push(e),n.setState({validate:a}));break;case"balance":"-"!==t&&isNaN(+t)?(a.push(e),n.setState({validate:a})):n.setState({validate:a.filter((function(t){return t!==e}))});break;case"spread":case"distance":""===t||isNaN(+t)?(a.push(e),n.setState({validate:a})):n.setState({validate:a.filter((function(t){return t!==e}))})}},n.handleUpdateBot=function(){var e=n.props.bot.storage.read();n.props.bot.storage.write(Ae({},e,n.state))},je(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ne(t,[{key:"componentWillMount",value:function(){this.setState(Object.assign({validate:[]},this.props.bot.storage.read()))}},{key:"render",value:function(){var e=this.state,t=e.validate,a=e.amount,n=e.balance,o=e.spread,s=e.distance;return r.a.createElement("div",null,r.a.createElement("div",{className:"grid-block horizontal",style:{marginLeft:50}},r.a.createElement("div",{className:"content-block"},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.base"})),r.a.createElement(R.a,{style:{marginBottom:30},name:"base",value:{value:this.state.base,label:r.a.createElement(k,{name:this.state.base})},clearable:!1,searchable:!1,disabled:!0}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.amount"})),r.a.createElement("div",{onChange:this.handleChange},r.a.createElement("input",{type:"radio",value:!0,name:"percentAmount"})," ",r.a.createElement(O.a,{content:"bots.common.balance_percent"}),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:!1,name:"percentAmount",defaultChecked:!0})," ",r.a.createElement(O.a,{content:"bots.common.balance_value"})),r.a.createElement(_e,{name:"amount",value:a,onChange:this.handleChange,border:t.includes("amount")}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.balance"})),r.a.createElement(_e,{name:"balance",value:n,onChange:this.handleChange,border:t.includes("balance")})),r.a.createElement("div",{className:"content-block",style:{marginLeft:50}},r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.quote"})),r.a.createElement(R.a,{style:{marginBottom:30},name:"quote",value:{value:this.state.quote,label:r.a.createElement(k,{name:this.state.quote})},clearable:!1,searchable:!1,disabled:!0}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.common.spread"})),r.a.createElement(_e,{name:"spread",value:o,onChange:this.handleChange,border:t.includes("spread")}),r.a.createElement("label",{className:"left-label"},r.a.createElement(O.a,{content:"bots.percent_up.distance"})),r.a.createElement(_e,{name:"distance",value:s,onChange:this.handleChange,border:t.includes("distance")}))),r.a.createElement("button",{className:"button",onClick:this.handleUpdateBot,disabled:this.props.bot.run,style:{marginLeft:50,marginBottom:30}},r.a.createElement(O.a,{content:"bots.common.update"})))}}]),t}(r.a.Component),Re=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function Te(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var Me=function(){function e(t,a,n){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=Be,this.queue=function(){r.queueEvents=r.queueEvents.then(r.checkOrders).catch(r.logger.error.bind(r.logger))},this.checkOrders=Te(regeneratorRuntime.mark((function e(){var t,a,n,o,s,c,l,u,m,p,b,d,h,f,v,g,y,E,_,w,k,x,C,q;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.storage.read(),a=function(){for(var e,a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=r.logger).log.apply(e,["["+t.name+"]"].concat(n))},e.next=4,r.account.balances(r.base.id,r.quote.id);case 4:return e.t0=function(e,t){return r.base.id===t.asset_id?e.base=V()(t.amount).div(Math.pow(10,r.base.precision)).toNumber():e.quote=V()(t.amount).div(Math.pow(10,r.quote.precision)).toNumber(),e},e.t1={},n=e.sent.reduce(e.t0,e.t1),o="-"===t.balance?0:""===t.balance?n.base:Math.min(n.base,t.balance),s="true"==t.percentAmount.toString()?V()(o).times(t.amount).div(100).toNumber():t.amount,e.next=11,i.db.get_objects(t.orders.map((function(e){return e.id})).filter((function(e){return e})));case 11:return e.t2=function(e){return e&&e.id},e.t3=function(e){return e},c=e.sent.map(e.t2).filter(e.t3),l=t.orders.filter((function(e){return!c.includes(e.id)})),e.t4=V.a,e.next=18,i.db.get_global_properties();case 18:if(e.t5=e.sent.parameters.current_fees.parameters[1][1].fee,e.t6=Math.pow(10,5),u=(0,e.t4)(e.t5).div(e.t6).toNumber(),!(l.length>0)){e.next=24;break}return e.next=24,r.base.update();case 24:return m=l.map(function(){var e=Te(regeneratorRuntime.mark((function e(o){var s,i,c,l,m,p,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("buy"!==o.state){e.next=5;break}o.id=null,["","-"].includes(t.balance)||(s=Math.floor(V()(r.base.options.market_fee_percent).div(1e4).times(o.base).times(Math.pow(10,r.base.precision)).toString()),t.balance=Number(t.balance)+Number(o.base)-(0!==s?V()(s).div(Math.pow(10,r.base.precision)).toNumber():0!==r.base.options.market_fee_percent?Math.pow(10,-r.base.precision):0)),e.next=13;break;case 5:return i="BTS"===r.quote.symbol?(isNaN(o.fee)?u:o.fee)+u:0,c="BTS"===r.base.symbol?(isNaN(o.fee)?u:o.fee)+u:0,l={asset_id:r.quote.id,amount:Math.min(Number(n.quote),Number(o.quote))-i},m=V()(r.base.options.market_fee_percent).div(1e4),p={asset_id:r.base.id,amount:V()(o.base).times(1+Number(t.spread)/100+m.toNumber()).plus(c)},a("buy "+r.base.symbol+": amount="+p.amount.toNumber()+" price="+V()(l.amount).div(p.amount).toNumber()+" "+r.base.symbol+"/"+r.quote.symbol),e.next=9,r.account.sell(l,p);case 9:b=e.sent,o.state="buy",o.id=b?b.id:"1.7.0",o.base=p.amount.toNumber();case 13:case"end":return e.stop()}}),e,r)})));return function(t){return e.apply(this,arguments)}}()),e.next=27,Promise.all(m);case 27:return e.next=29,i.db.get_order_book(r.quote.symbol,r.base.symbol,50);case 29:p=e.sent,b=V()(0),d=V()(0),h=0;case 32:if(!(h<p.asks.length)){e.next=55;break}if(f=p.asks[h],v=V()(f.base),g=V()(f.quote),y=V()(s).minus(d),!g.isEqualTo(y)){e.next=43;break}return b=b.plus(v),d=d.plus(g),e.abrupt("break",55);case 43:if(!g.isLessThan(y)){e.next=48;break}b=b.plus(v),d=d.plus(g),e.next=52;break;case 48:if(!g.isGreaterThan(y)){e.next=52;break}return d=d.plus(y),b=b.plus(V()(f.price).times(y)),e.abrupt("break",55);case 52:h++,e.next=32;break;case 55:if(E=b.div(d),_=null,t.orders.forEach((function(e){var t=V()(e.quote).div(e.base);_&&!t.minus(E).abs().isLessThan(_.minus(E).abs())||(_=t)})),w=!!_&&_.minus(E).abs().div(_).times(100).isGreaterThan(t.distance),a("Orders exists: "+!!_+", balance > amount: "+(o>s)+", lowPrice - price > distance: "+w),!(o>s)||_&&!w){e.next=69;break}return k={asset_id:r.base.id,amount:s},x={asset_id:r.quote.id,amount:b},e.next=64,r.account.buy(x,k);case 64:C=e.sent,q={state:"sell",base:s,quote:x.amount.toNumber(),id:C?C.id:"1.7.0",fee:u},t.orders.push(q),a("sell "+r.base.symbol+": amount="+s+", price="+E.toNumber()+" "+r.base.symbol+"/"+r.quote.symbol),["","-"].includes(t.balance)||(t.balance=Number(t.balance)-s);case 69:t.orders=t.orders.filter((function(e){return null!==e.id})),r.storage.write(t);case 71:case"end":return e.stop()}}),e,r)}))),this.account=new G(t),this.storage=a,n){var o=n.name,s=n.base,c=n.quote,l=n.amount,u=n.percentAmount,m=n.balance,p=n.spread,b=n.distance;a.init({name:o,base:s,quote:c,amount:l,percentAmount:u,balance:m,spread:p,distance:b,orders:[]})}this.name=a.read().name,this.logger=console,this.queueEvents=Promise.resolve(),this.run=!1}var t,a;return Re(e,[{key:"start",value:(a=Te(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage.read(),e.next=3,m[t.base];case 3:return this.base=e.sent,e.next=6,m[t.quote];case 6:return this.quote=e.sent,e.next=9,$.a.unlock();case 9:J.a.changeSetting({setting:"walletLockTimeout",value:0}),D.ChainStore.subscribe(this.queue),this.run=!0;case 12:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"stop",value:(t=Te(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.ChainStore.unsubscribe(this.queue),this.run=!1,e.next=4,this.queueEvents;case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"delete",value:function(){this.storage.delete()}}]),e}();Me.create=Oe;var Le=Me,Ue=a(59),De=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var Fe=Object(Ue.a)("__bots__"),Ve=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t}return De(e,null,[{key:"getAccountBot",value:function(e){var t=new RegExp("^__bots__"+e+"::");return Object.keys(localStorage).filter((function(e){return t.test(e)}))}},{key:"has",value:function(e){return Fe.has(e)}}]),De(e,[{key:"init",value:function(e){Fe.has(name)||Fe.set(this.name,e)}},{key:"read",value:function(){return Fe.get(this.name)}},{key:"write",value:function(e){Fe.set(this.name,e)}},{key:"delete",value:function(){Fe.remove(this.name)}}]),e}(),We=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},$e={},ze={strategies:{SpreadTrade:te,TrailingStop:fe,PercentUp:Le},create:function(e,t,a){var n=new Ve(t+"::"+e+"["+a.name+"]"),r=new this.strategies[e](t,n,a);return $e["__bots__"+n.name]=r,r},delete:function(e){var t="__bots__"+e.storage.name;$e[t].delete(),delete $e[t]},getBots:function(e){var t=this;return Ve.getAccountBot(e).map((function(a){if($e[a])return $e[a];var n=a.replace(/^__bots__(.+)::(\w+)\[(\w+)\]/,"$2,$3").split(","),r=We(n,2),o=r[0],s=r[1];if(!o||!s)return null;var i=new Ve(e+"::"+o+"["+s+"]"),c=new t.strategies[o](e,i);return $e[a]=c,c})).filter((function(e){return e}))},hasBot:function(e,t,a){return console.log("check name stategy",e,t,a),Ve.has(e+"::"+t+"["+a+"]")}},Qe=a(23),Ie=a(28),Xe=a(1963),Ke=a(102),Ge=a(32),Je=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function He(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function n(r,o){try{var s=t[r](o),i=s.value}catch(e){return void a(e)}if(!s.done)return Promise.resolve(i).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(i)}("next")}))}}var Ye=function(e){function t(e){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChangeStrategy=function(e){n.setState({selectStrategy:e.target.value})},n.handleChangeBot=function(e){var t=e.target.value;n.setState({selectBot:t,botRun:n.state.bots[t].run})},n.handleCreate=function(e){e.preventDefault();var t=n.state.bots;t.push(ze.create(n.state.selectStrategy,n.props.currentAccount,n.createForm.state)),n.setState({bots:t}),n.createForm.validate&&n.createForm.validate("name",n.createForm.state.name)},n.handleEnableCreate=function(e){n.state.enableCreate!=e&&n.setState({enableCreate:e})},n.handleStartBot=He(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.bots[n.state.selectBot],e.next=3,t.start();case 3:n.setState({botRun:t.run});case 4:case"end":return e.stop()}}),e,a)}))),n.handleStopBot=He(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.bots[n.state.selectBot],e.next=3,t.stop();case 3:n.setState({botRun:t.run});case 4:case"end":return e.stop()}}),e,a)}))),n.handleDeleteBot=function(){ze.delete(n.state.bots[n.state.selectBot]),n.setState({bots:ze.getBots(n.props.currentAccount),selectBot:0})},n.strategies=ze.strategies,n.state={selectStrategy:Object.keys(n.strategies)[0],bots:[],selectBot:0,enableCreate:!1,botRun:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Je(t,[{key:"componentDidMount",value:function(){var e=ze.getBots(this.props.currentAccount);this._upd(e)}},{key:"_upd",value:function(e){this.setState({bots:e,selectBot:0,botRun:!!e[0]&&e[0].run})}},{key:"render",value:function(){var e=this;if(null===this.props.currentAccount)return r.a.createElement(Xe.a,{to:"/"});var t=this.strategies[this.state.selectStrategy].create,a=this.state.bots[this.state.selectBot]||null;return r.a.createElement("div",{className:"grid-block vertical"},r.a.createElement("div",{className:"grid-block shrink vertical medium-horizontal"},r.a.createElement("form",{style:{paddingBottom:20,overflow:"visible"},className:"grid-content small-12 medium-6 large-5 large-offset-1 full-width-content",onSubmit:this.handleCreate,noValidate:!0},r.a.createElement("div",{className:"left-label",style:{marginTop:30}},r.a.createElement("span",{style:{paddingRight:5,position:"relative",top:9}},r.a.createElement(Ke.a,{to:"/help/bots/introduction"},r.a.createElement(Ge.a,{name:"question-circle",title:"icons.question_circle",size:"2x"}))),r.a.createElement(O.a,{content:"bots.common.select_strategy"})),r.a.createElement("div",{className:"content-block"},r.a.createElement("div",{className:"content-block"},r.a.createElement("select",{className:"form-control bts-select ",value:this.state.selectStrategy,onChange:this.handleChangeStrategy},Object.keys(this.strategies).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))),r.a.createElement("hr",null),r.a.createElement("div",{className:"content-block"},r.a.createElement(t,{ref:function(t){e.createForm=t},account:this.props.currentAccount,name:this.state.selectStrategy,enableCreate:this.handleEnableCreate}),r.a.createElement("button",{className:"button no-margin",type:"submit",disabled:!this.state.enableCreate},r.a.createElement(O.a,{content:"bots.common.create"})))),r.a.createElement("div",{className:"content-block"},r.a.createElement("div",{className:"left-label",style:{marginTop:30}},r.a.createElement(O.a,{content:"bots.common.bot_state"})),r.a.createElement("select",{className:"form-control bts-select",value:this.state.selectBot,onChange:this.handleChangeBot},this.state.bots.map((function(e,t){return r.a.createElement("option",{key:e.name,value:t},e.name+" ("+e.constructor.name+")")}))),r.a.createElement("div",{className:"content-block"},a?r.a.createElement("div",null,r.a.createElement(a.state,{key:a.name,bot:a}),r.a.createElement("button",{className:"button",onClick:this.handleStartBot,disabled:this.state.botRun,style:{marginLeft:50}},r.a.createElement(O.a,{content:"bots.common.start"})),r.a.createElement("button",{className:"button",onClick:this.handleStopBot,disabled:!this.state.botRun,style:{marginLeft:50}},r.a.createElement(O.a,{content:"bots.common.stop"})),r.a.createElement("button",{className:"button",onClick:this.handleDeleteBot,disabled:this.state.botRun,style:{marginLeft:50}},r.a.createElement(O.a,{content:"bots.common.delete"}))):r.a.createElement("p",null,r.a.createElement(O.a,{content:"bots.common.select_bot"}))))))}}]),t}(r.a.Component);t.default=Object(Ie.a)(Ye,{listenTo:function(){return[Qe.a]},getProps:function(){return{currentAccount:Qe.a.getState().currentAccount||Qe.a.getState().passwordAccount}}})}}]);
//# sourceMappingURL=bots.js.map