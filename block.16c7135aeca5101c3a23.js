"use strict";(this.webpackChunkRuDEX3_light=this.webpackChunkRuDEX3_light||[]).push([[584],{12474:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var o=n(67294),s=n(38216),l=n(59851),r=n(45697),a=n.n(r),c=n(62254),i=n(43393),p=n.n(i),h=n(72034),m=n(85158),u=n(58074),d=n.n(u),b=n(23037),g=n(82267),k=n(19305),E=n(66261);class x extends o.Component{shouldComponentUpdate(e){return e.block.id!==this.props.block.id}render(){let{block:e}=this.props,t=null;return t=[],e.transactions.length>0&&(t=[],e.transactions.forEach(((n,s)=>{t.push(o.createElement(E.W_,{key:s,id:`tx_${s}`,name:`tx_${s}`},o.createElement(m.Z,{block:e,key:s,trx:n,index:s})))}))),o.createElement("div",null,t)}}class y extends o.Component{static propTypes={dynGlobalObject:b.Z.ChainObject.isRequired,blocks:a().object.isRequired,height:a().number.isRequired};static defaultProps={dynGlobalObject:"2.1.0",blocks:{},height:1};constructor(e){super(e),this.state={showInput:!1},this.scrollToTop=this.scrollToTop.bind(this)}componentDidMount(){this._getBlock(this.props.height),E.zW.scrollEvent.register("begin",(()=>{})),E.zW.scrollEvent.register("end",(()=>{this.setState({scrollEnded:!0})}))}UNSAFE_componentWillReceiveProps(e){e.height!==this.props.height&&this._getBlock(e.height)}shouldComponentUpdate(e,t){return!p().is(e.blocks,this.props.blocks)||e.height!==this.props.height||e.dynGlobalObject!==this.props.dynGlobalObject||t.showInput!==this.state.showInput}scrollToTop(){E.NY.scrollToTop({duration:1500,delay:100,smooth:!0,containerId:"blockContainer"})}_getBlock(e){e&&(e=parseInt(e,10),this.props.blocks.get(e)||h.Z.getBlock(e))}_nextBlock(){let e=this.props.match.params.height,t=Math.min(this.props.dynGlobalObject.get("head_block_number"),parseInt(e,10)+1);this.props.history.push(`/block/${t}`)}_previousBlock(){let e=this.props.match.params.height,t=Math.max(1,parseInt(e,10)-1);this.props.history.push(`/block/${t}`)}toggleInput(e){e.preventDefault(),this.setState({showInput:!0})}_onKeyDown(e){e&&13===e.keyCode&&(this.props.history.push(`/block/${e.target.value}`),this.setState({showInput:!1}))}_onSubmit(){const e=this.refs.blockInput.value;e&&this._onKeyDown({keyCode:13,target:{value:e}})}componentDidUpdate(){let{blocks:e}=this.props,t=parseInt(this.props.height,10),n=e.get(t);this.props.scrollToIndex&&!this.state.scrollEnded&&n&&E.OK.scrollTo(`tx_${this.props.scrollToIndex}`,{duration:1500,delay:100,smooth:!0,offset:-100,containerId:"blockContainer"})}render(){const{showInput:e}=this.state;let{blocks:t}=this.props,n=parseInt(this.props.height,10),s=t.get(n),l=e?o.createElement("span",{className:"inline-label"},o.createElement("input",{ref:"blockInput",type:"number",onKeyDown:this._onKeyDown.bind(this)}),o.createElement("button",{onClick:this._onSubmit.bind(this),className:"button"},o.createElement(d(),{content:"explorer.block.go_to"}))):o.createElement("span",null,o.createElement(d(),{style:{textTransform:"uppercase"},component:"span",content:"explorer.block.title"}),o.createElement("a",{onClick:this.toggleInput.bind(this)}," #",n));return o.createElement("div",{className:"grid-block page-layout"},o.createElement("div",{className:"grid-block main-content"},o.createElement("div",{className:"grid-content",id:"blockContainer"},o.createElement("div",{className:"grid-content no-overflow medium-offset-2 medium-8 large-offset-3 large-6 small-12"},o.createElement("h4",{className:"text-center"},l),o.createElement("ul",null,o.createElement("li",null,o.createElement(d(),{component:"span",content:"explorer.block.date"}),":"," ",s?o.createElement(c.Ji,{value:s.timestamp,format:"full"}):null),o.createElement("li",null,o.createElement(d(),{component:"span",content:"explorer.block.witness"}),":"," ",s?o.createElement(k.Z,{witness:s.witness}):null),o.createElement("li",null,o.createElement(d(),{component:"span",content:"explorer.block.previous"}),": ",s?s.previous:null),o.createElement("li",null,o.createElement(d(),{component:"span",content:"explorer.block.transactions"}),": ",s?s.transactions.length:null)),o.createElement("div",{className:"clearfix",style:{marginBottom:"1rem"}},o.createElement("div",{className:"button float-left outline",onClick:this._previousBlock.bind(this)},"←"),o.createElement("div",{className:"button float-right outline",onClick:this._nextBlock.bind(this)},"→")),s?o.createElement(x,{block:s}):null,o.createElement("div",{style:{textAlign:"center",marginBottom:20}},o.createElement("a",{onClick:this.scrollToTop},o.createElement(d(),{content:"global.return_to_top"})))))))}}const v=(0,g.Z)(y);function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_.apply(this,arguments)}class f extends o.Component{render(){let e=parseInt(this.props.match.params.height,10),t=this.props.match.params.txIndex?parseInt(this.props.match.params.txIndex):0;return o.createElement(l.Z,{stores:[s.Z],inject:{blocks:()=>s.Z.getState().blocks}},o.createElement(v,_({},this.props,{height:e,scrollToIndex:t})))}}const I=f},19305:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(67294),s=n(23037),l=n(82267),r=n(3841);class a extends o.Component{static propTypes={witness:s.Z.ChainObject.isRequired};render(){let e=this.props.witness.get("witness_account");return o.createElement(r.Z,{account:e})}}const c=a=(0,l.Z)(a)}}]);